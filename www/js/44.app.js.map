{"version":3,"sources":["webpack:///./node_modules/framework7/components/modal/modal-class.js","webpack:///./node_modules/framework7/components/navbar/navbar.js","webpack:///./node_modules/framework7/components/menu/menu.js","webpack:///./node_modules/framework7/components/panel/swipe-panel.js","webpack:///./node_modules/framework7/components/panel/resizable-panel.js","webpack:///./node_modules/framework7/components/panel/panel-class.js","webpack:///./node_modules/framework7/components/panel/panel.js","webpack:///./node_modules/framework7/components/picker/picker-column.js","webpack:///./node_modules/framework7/components/picker/picker-class.js","webpack:///./node_modules/framework7/components/picker/picker.js","webpack:///./node_modules/framework7/components/modal/custom-modal-class.js","webpack:///./node_modules/framework7/components/modal/modal.js","webpack:///./node_modules/framework7/components/messages/messages-class.js","webpack:///./node_modules/framework7/components/messages/messages.js","webpack:///./node_modules/framework7/components/messagebar/messagebar-class.js","webpack:///./node_modules/framework7/components/messagebar/messagebar.js","webpack:///./node_modules/framework7/components/photo-browser/photo-browser-class.js","webpack:///./node_modules/framework7/components/photo-browser/photo-browser.js","webpack:///./node_modules/framework7/components/notification/notification-class.js","webpack:///./node_modules/framework7/components/notification/notification.js"],"names":["openedModals","dialogsQueue","Modal","app","params","modal","defaults","useModulesParams","Utils","extend","opened","useModules","this","push","$","addClass","type","toLowerCase","$el","trigger","emit","splice","indexOf","removeClass","hide","animateModal","pushToQueue","$backdropEl","animate","hasClass","queueDialogs","length","forEach","openedModal","$modalParentEl","parent","wasInDom","parents","document","transitionEnd","onClosed","onOpened","moveToRoot","is","root","append","once","remove","show","_clientLeft","clientLeft","animationEnd","onOpen","needToHideBackdrop","prevAll","each","index","popupEl","popupInstance","f7Modal","closeByBackdropClick","backdrop","backdropEl","onClose","shift","open","destroyed","deleteProps","Framework7Class","Navbar","size","el","theme","navbar","children","navbarEl","iosCenterTitle","router","dynamicNavbar","currLeft","diff","$viewEl","eq","left","rtl","right","title","subnavbar","noLeft","noRight","leftWidth","outerWidth","rightWidth","titleWidth","navbarStyles","styles","navbarWidth","offsetWidth","navbarInnerWidth","parseInt","paddingLeft","paddingRight","isPrevious","sliding","separateNavbarRightOffset","separateNavbarLeftOffset","f7View","separateNavbar","requiredLeft","inverter","titleLeftOffset","titleRightOffset","iosAnimateNavbarBackIcon","activeNavbarBackLink","find","offsetLeft","f7NavbarLeftOffset","f7NavbarRightOffset","leftOffset","rightOffset","titleLeft","css","className","currentIsLarge","getElByPage","page","$pageEl","$navbarInnerEl","pageData","$navbarEl","f7Page","getPageByEl","navbarInnerEl","pageEl","collapseLargeTitle","expandLargeTitle","toggleLargeTitle","initNavbarOnScroll","needHide","needCollapse","previousScrollTop","currentScrollTop","scrollHeight","offsetHeight","reachEnd","action","navbarHidden","navbarCollapsed","navbarTitleLargeHeight","scrollChanged","scrollContent","scrollTimeoutId","touchEndTimeoutId","closest","isLarge","navbarHideHeight","snapPageScrollToLargeTitle","Number","isNaN","snapLargeNavbar","scrollTop","handleScroll","e","collapseProgress","target","Math","min","max","style","removeProperty","overflow","setProperty","Support","touch","clearTimeout","setTimeout","showOnPageScrollEnd","showOnPageScrollTop","handeTouchStart","handleTouchEnd","on","pageContentIndex","pageContentEl","call","f7DetachNavbarScrollHandlers","off","name","create","bind","scrollTopOnTitleClick","mdCenterTitle","auroraCenterTitle","hideOnPageScroll","collapseLargeTitleOnScroll","pageBeforeRemove","pageBeforeIn","view","pageFrom","history","pageReinit","pageInit","needCollapseOnScrollHandler","needHideOnScrollHandler","modalOpen","panelOpen","panel","panelSwipeOpen","tabShow","tabEl","clicks","$clickedEl","pageContent","nextAll","vnode","postpatch","elm","Menu","$menuEl","zIndex","originalZIndex","f7MenuZIndex","close","menu","click","openedMenus","dataset","swipePanel","swipeable","swipeInitialized","otherPanel","isTouched","isMoved","isScrolling","touchStartTime","touchesDiff","translate","backdropOpacity","panelWidth","direction","side","effect","touchesStart","touchMoves","handleTouchStart","allowOpen","swipe","swipeOnlyClose","swipeCloseOpposite","nodeName","x","targetTouches","pageX","y","pageY","swipeActiveArea","width","swipeCloseActiveAreaSide","getViewEl","undefined","now","handleTouchMove","f7PreventSwipePanel","preventSwipePanelBySwipeBack","preventSwipePanel","abs","threshold","swipeThreshold","swipeNoFollow","needToSwitch","touchesDiffNoFollow","timeDiff","Date","getTime","transition","preventDefault","transform","opacity","edge","display","nextFrame","resizablePanel","resizable","resizableWidth","resizableInitialized","$htmlEl","panelMinWidth","panelMaxWidth","visibleByBreakpoint","$resizeHandlerEl","passive","passiveListener","touchEvents","start","handleResize","transformCSSWidth","v","newV","newPanelWidth","Panel","content","f7Panel","Error","insertBefore","init","emitEvents","breakpoint","wasVisible","allowPanelOpen","resizeHandler","setBreakpoint","SwipePanel","ResizablePanel","$panelParentEl","$insertBeforeEl","$insertAfterEl","insertAfter","prepend","transitionEndTarget","panelTransitionEnd","initBreakpoints","initSwipePanel","initResizablePanel","leftBreakpoint","rightBreakpoint","static","instance","disableResizable","panels","panelInstance","enableResizable","disableSwipe","enableSwipe","panelSide","$panelEl","toggle","get","panelEl","clickedEl","data","colEl","updateItems","picker","$colEl","colIndex","col","cols","divider","itemHeight","itemsHeight","minTranslate","maxTranslate","animationFrameId","$itemsEl","items","replaceValues","values","displayValues","detachEvents","html","renderColumn","calcSize","setValue","attachEvents","rotateEffect","colWidth","colHeight","itemEl","item","newValue","valueCallbacks","newActiveIndex","newTranslate","updateValuesOnMomentum","activeIndex","cancelAnimationFrame","updateDuringScroll","getTranslate","round","previousActiveIndex","selectedItem","$itemEl","percentage","itemsFit","ceil","height","angle","needsOriginFix","value","attr","displayValue","onChange","updateValue","touchStartY","touchCurrentY","startTranslate","returnTo","currentTranslate","prevTranslate","velocityTranslate","mousewheelTimeout","allowItemClick","activeListener","support","capture","mousewheel","handleMouseWheel","handleClick","destroy","requestAnimationFrame","updateValuesOnTouchmove","momentumRatio","freeMode","deltaX","deltaY","updateValuesOnMousewheel","Picker","$containerEl","$inputEl","containerEl","onResize","resizeCols","onInputClick","onInputFocus","onHtmlClick","$targetEl","isPopover","closing","inputEl","views","main","inline","device","ios","window","navigator","userAgent","android","initialized","url","attachResizeEvent","detachResizeEvent","attachInputEvents","inputReadOnly","detachInputEvents","attachHtmlEvents","detachHtmlEvents","prop","i","openIn","ipad","desktop","formatValue","join","valueIndex","forceValues","column","newDisplayValue","noDividerColumns","filter","c","val","pickerColumn","renderToolbar","toolbarCloseText","trim","onlyItems","columnHtml","columnItemsHtml","colClasses","textAlign","cssClass","map","toolbar","render","renderInline","renderPopover","renderSheet","opening","initColumn","nextTick","routableModals","f7Picker","modalType","modalParams","targetEl","scrollToEl","scrollToInput","closed","navigate","route","path","back","initInput","closeByOutsideClick","ConstructorMethods","defaultSelector","constructor","domProp","CustomModal","extendedParams","customModal","Messages","m","autoLayout","messages","newMessagesFirst","scrollMessages","scrollMessagesOnEdge","firstMessageRule","lastMessageRule","tailMessageRule","sameNameMessageRule","sameHeaderMessageRule","sameFooterMessageRule","sameAvatarMessageRule","customClassMessageRule","renderMessage","f7Messages","$pageContentEl","messageEl","$messageEl","header","textHeader","textFooter","footer","isTitle","text","image","imageSrc","typing","replace","avatar","getMessageData","messageToRender","message","attrs","Object","keys","isTyping","messagesToRender","method","getMessagesData","classes","previousMessage","nextMessage","isFirstMessage","isLastMessage","isTailMessage","isSameNameMessage","isSameHeaderMessage","isSameFooterMessage","isSameAvatarMessage","customMessageClasses","isCustomClassMessage","split","customClass","messageToRemove","layout","messagesToRemove","Array","isArray","messagesToRemoveEls","messageToRemoveIndex","removeMessage","messageToAdd","args","addMessages","messagesToAdd","scrollHeightBefore","heightBefore","scrollBefore","messagesHTML","typingMessage","$messagesEls","onEdge","scroll","addMessage","typingMessageIndex","typingFound","$typingMessageEl","newScrollTop","duration","currentScroll","renderMessages","addMethods","tabBeforeRemove","messagesEl","tabMounted","insert","Messagebar","messagebar","top","topOffset","bottomOffset","attachments","renderAttachments","renderAttachment","maxHeight","resizePage","f7Messagebar","$textareaEl","$areaEl","textareaEl","$attachmentsEl","$sheetEl","onAppResize","onSubmit","onAttachmentClick","onTextareaChange","checkEmptyState","onTextareaFocus","sheetHide","onTextareaBlur","areaEl","attachmentsEl","attachmentsVisible","sheetEl","sheetVisible","focus","blur","placeholder","elHeight","currentPaddingBottom","requiredPaddingBottom","currentPaddingTop","pageScrollHeight","pageOffsetHeight","scrollOnBottom","outerHeight","innerHTML","attachmentsCreate","attachmentsHide","attachmentsShow","attachment","sheetCreate","sheetShow","messagebarEl","PhotoBrowser","pb","photoBrowser","exposed","swiper","initialSlide","swipeToClose","allow","current","started","activeSlide","timeStart","total","virtualSlides","photos","slides","loop","loopedSlides","$activeSlideEl","$wrapperEl","$previousSlideEl","previousIndex","$currentEl","$totalEl","captions","captionIndex","$captionsContainerEl","previousSlideVideo","pause","color","renderNavbar","iconsColor","backLinkText","isPopup","navbarOfText","caption","renderCaption","photo","renderObject","renderLazyPhoto","renderPhoto","captionsTheme","String","lazy","enabled","renderStandalone","renderPage","renderPopup","f7PhotoBrowser","openedIn","$swiperContainerEl","$swiperWrapperEl","swiperParams","tap","exposition","expositionToggle","doubleTap","slideChange","onSlideChange","transitionStart","slideChangeTransitionStart","slideChangeTransitionEnd","lazyImageLoad","lazyImageReady","slideEl","touchStart","onTouchStart","touchMoveOpposite","onTouchMove","touchEnd","onTouchEnd","virtual","renderSlide","pageHtml","pageAfterIn","pageBeforeOut","pageAfterOut","popupParams","popupOpen","popup","popupOpened","popupClose","popupClosed","expositionHideCaptions","toggleClass","slideTo","openStandalone","openPage","openPopup","spaceBetween","speed","preloadImages","navigation","nextEl","prevEl","zoom","maxRatio","minRatio","Notification","notification","notificationHeight","icon","titleRightText","subtitle","closeButton","closeTimeout","closeOnClick","notificationHtml","timeoutId","openedEl","notificationInstance","closeOnTimeout","ModalMethods"],"mappings":"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","file":"js/44.app.js","sourcesContent":["import $ from 'dom7';\nimport { document } from 'ssr-window';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\n\nconst openedModals = [];\nconst dialogsQueue = [];\nfunction clearDialogsQueue() {\n  if (dialogsQueue.length === 0) return;\n  const dialog = dialogsQueue.shift();\n  dialog.open();\n}\nclass Modal extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n\n    const modal = this;\n\n    const defaults = {};\n\n    // Extend defaults with modules params\n    modal.useModulesParams(defaults);\n\n    modal.params = Utils.extend(defaults, params);\n    modal.opened = false;\n\n    // Install Modules\n    modal.useModules();\n\n    return this;\n  }\n\n  onOpen() {\n    const modal = this;\n    modal.opened = true;\n    openedModals.push(modal);\n    $('html').addClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:open ${modal.type.toLowerCase()}:open`, modal);\n    modal.emit(`local::open modalOpen ${modal.type}Open`, modal);\n  }\n\n  onOpened() {\n    const modal = this;\n    modal.$el.trigger(`modal:opened ${modal.type.toLowerCase()}:opened`, modal);\n    modal.emit(`local::opened modalOpened ${modal.type}Opened`, modal);\n  }\n\n  onClose() {\n    const modal = this;\n    modal.opened = false;\n    if (!modal.type || !modal.$el) return;\n    openedModals.splice(openedModals.indexOf(modal), 1);\n    $('html').removeClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:close ${modal.type.toLowerCase()}:close`, modal);\n    modal.emit(`local::close modalClose ${modal.type}Close`, modal);\n  }\n\n  onClosed() {\n    const modal = this;\n    if (!modal.type || !modal.$el) return;\n    modal.$el.removeClass('modal-out');\n    modal.$el.hide();\n    modal.$el.trigger(`modal:closed ${modal.type.toLowerCase()}:closed`, modal);\n    modal.emit(`local::closed modalClosed ${modal.type}Closed`, modal);\n  }\n\n  open(animateModal) {\n    const modal = this;\n    const app = modal.app;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    const type = modal.type;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || $el.hasClass('modal-in')) {\n      return modal;\n    }\n\n    if (type === 'dialog' && app.params.modal.queueDialogs) {\n      let pushToQueue;\n      if ($('.dialog.modal-in').length > 0) {\n        pushToQueue = true;\n      } else if (openedModals.length > 0) {\n        openedModals.forEach((openedModal) => {\n          if (openedModal.type === 'dialog') pushToQueue = true;\n        });\n      }\n      if (pushToQueue) {\n        dialogsQueue.push(modal);\n        return modal;\n      }\n    }\n\n    const $modalParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n    if (app.params.modal.moveToRoot && !$modalParentEl.is(app.root)) {\n      app.root.append($el);\n      modal.once(`${type}Closed`, () => {\n        if (wasInDom) {\n          $modalParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    }\n    // Show Modal\n    $el.show();\n\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n    modal._clientLeft = $el[0].clientLeft;\n\n    // Modal\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n        $backdropEl.addClass('backdrop-in');\n      }\n      $el\n        .animationEnd(() => {\n          transitionEnd();\n        });\n      $el\n        .transitionEnd(() => {\n          transitionEnd();\n        });\n      $el\n        .removeClass('modal-out not-animated')\n        .addClass('modal-in');\n      modal.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('backdrop-in not-animated');\n      }\n      $el.removeClass('modal-out').addClass('modal-in not-animated');\n      modal.onOpen();\n      modal.onOpened();\n    }\n\n    return modal;\n  }\n\n  close(animateModal) {\n    const modal = this;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || !$el.hasClass('modal-in')) {\n      if (dialogsQueue.indexOf(modal) >= 0) {\n        dialogsQueue.splice(dialogsQueue.indexOf(modal), 1);\n      }\n      return modal;\n    }\n\n    // backdrop\n    if ($backdropEl) {\n      let needToHideBackdrop = true;\n      if (modal.type === 'popup') {\n        modal.$el.prevAll('.popup.modal-in').each((index, popupEl) => {\n          const popupInstance = popupEl.f7Modal;\n          if (!popupInstance) return;\n          if (\n            popupInstance.params.closeByBackdropClick\n            && popupInstance.params.backdrop\n            && popupInstance.backdropEl === modal.backdropEl\n          ) {\n            needToHideBackdrop = false;\n          }\n        });\n      }\n      if (needToHideBackdrop) {\n        $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n        $backdropEl.removeClass('backdrop-in');\n      }\n    }\n\n    // Modal\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      $el\n        .animationEnd(() => {\n          transitionEnd();\n        });\n      $el\n        .transitionEnd(() => {\n          transitionEnd();\n        });\n      $el\n        .removeClass('modal-in')\n        .addClass('modal-out');\n      // Emit close\n      modal.onClose();\n    } else {\n      $el\n        .addClass('not-animated')\n        .removeClass('modal-in')\n        .addClass('modal-out');\n      // Emit close\n      modal.onClose();\n      modal.onClosed();\n    }\n\n    if (modal.type === 'dialog') {\n      clearDialogsQueue();\n    }\n\n    return modal;\n  }\n\n  destroy() {\n    const modal = this;\n    if (modal.destroyed) return;\n    modal.emit(`local::beforeDestroy modalBeforeDestroy ${modal.type}BeforeDestroy`, modal);\n    if (modal.$el) {\n      modal.$el.trigger(`modal:beforedestroy ${modal.type.toLowerCase()}:beforedestroy`, modal);\n      if (modal.$el.length && modal.$el[0].f7Modal) {\n        delete modal.$el[0].f7Modal;\n      }\n    }\n    Utils.deleteProps(modal);\n    modal.destroyed = true;\n  }\n}\n\nexport default Modal;\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Support from '../../utils/support';\n\nconst Navbar = {\n  size(el) {\n    const app = this;\n    if (app.theme !== 'ios' && !app.params.navbar[`${app.theme}CenterTitle`]) {\n      return;\n    }\n    let $el = $(el);\n    if ($el.hasClass('navbar')) {\n      $el = $el.children('.navbar-inner').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n      return;\n    }\n\n    if (\n      $el.hasClass('stacked')\n      || $el.parents('.stacked').length > 0\n      || $el.parents('.tab:not(.tab-active)').length > 0\n      || $el.parents('.popup:not(.modal-in)').length > 0\n    ) {\n      return;\n    }\n\n    if (app.theme !== 'ios' && app.params.navbar[`${app.theme}CenterTitle`]) {\n      $el.addClass('navbar-inner-centered-title');\n    }\n    if (app.theme === 'ios' && !app.params.navbar.iosCenterTitle) {\n      $el.addClass('navbar-inner-left-title');\n    }\n\n    const $viewEl = $el.parents('.view').eq(0);\n    const left = app.rtl ? $el.children('.right') : $el.children('.left');\n    const right = app.rtl ? $el.children('.left') : $el.children('.right');\n    const title = $el.children('.title');\n    const subnavbar = $el.children('.subnavbar');\n    const noLeft = left.length === 0;\n    const noRight = right.length === 0;\n    const leftWidth = noLeft ? 0 : left.outerWidth(true);\n    const rightWidth = noRight ? 0 : right.outerWidth(true);\n    const titleWidth = title.outerWidth(true);\n    const navbarStyles = $el.styles();\n    const navbarWidth = $el[0].offsetWidth;\n    const navbarInnerWidth = navbarWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10);\n    const isPrevious = $el.hasClass('navbar-previous');\n    const sliding = $el.hasClass('sliding');\n\n    let router;\n    let dynamicNavbar;\n    let separateNavbar;\n    let separateNavbarRightOffset = 0;\n    let separateNavbarLeftOffset = 0;\n\n    if ($viewEl.length > 0 && $viewEl[0].f7View) {\n      router = $viewEl[0].f7View.router;\n      dynamicNavbar = router && router.dynamicNavbar;\n      separateNavbar = router && router.separateNavbar;\n      if (!separateNavbar) {\n        separateNavbarRightOffset = navbarWidth;\n        separateNavbarLeftOffset = navbarWidth / 5;\n      }\n    }\n\n    let currLeft;\n    let diff;\n    if (noRight) {\n      currLeft = navbarInnerWidth - titleWidth;\n    }\n    if (noLeft) {\n      currLeft = 0;\n    }\n    if (!noLeft && !noRight) {\n      currLeft = ((navbarInnerWidth - rightWidth - titleWidth) + leftWidth) / 2;\n    }\n    let requiredLeft = (navbarInnerWidth - titleWidth) / 2;\n    if (navbarInnerWidth - leftWidth - rightWidth > titleWidth) {\n      if (requiredLeft < leftWidth) {\n        requiredLeft = leftWidth;\n      }\n      if (requiredLeft + titleWidth > navbarInnerWidth - rightWidth) {\n        requiredLeft = navbarInnerWidth - rightWidth - titleWidth;\n      }\n      diff = requiredLeft - currLeft;\n    } else {\n      diff = 0;\n    }\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    if (dynamicNavbar && app.theme === 'ios') {\n      if (title.hasClass('sliding') || (title.length > 0 && sliding)) {\n        let titleLeftOffset = (-(currLeft + diff) * inverter) + separateNavbarLeftOffset;\n        const titleRightOffset = ((navbarInnerWidth - currLeft - diff - titleWidth) * inverter) - separateNavbarRightOffset;\n\n        if (isPrevious) {\n          if (router && router.params.iosAnimateNavbarBackIcon) {\n            const activeNavbarBackLink = $el.parent().find('.navbar-current').children('.left.sliding').find('.back .icon ~ span');\n            if (activeNavbarBackLink.length > 0) {\n              titleLeftOffset += activeNavbarBackLink[0].offsetLeft;\n            }\n          }\n        }\n        title[0].f7NavbarLeftOffset = titleLeftOffset;\n        title[0].f7NavbarRightOffset = titleRightOffset;\n      }\n      if (!noLeft && (left.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          left[0].f7NavbarLeftOffset = (-(navbarInnerWidth - left[0].offsetWidth) / 2) * inverter;\n          left[0].f7NavbarRightOffset = leftWidth * inverter;\n        } else {\n          left[0].f7NavbarLeftOffset = -leftWidth + separateNavbarLeftOffset;\n          left[0].f7NavbarRightOffset = ((navbarInnerWidth - left[0].offsetWidth) / 2) - separateNavbarRightOffset;\n          if (router && router.params.iosAnimateNavbarBackIcon && left.find('.back .icon').length > 0) {\n            if (left.find('.back .icon ~ span').length) {\n              const leftOffset = left[0].f7NavbarLeftOffset;\n              const rightOffset = left[0].f7NavbarRightOffset;\n              left[0].f7NavbarLeftOffset = 0;\n              left[0].f7NavbarRightOffset = 0;\n              left.find('.back .icon ~ span')[0].f7NavbarLeftOffset = leftOffset;\n              left.find('.back .icon ~ span')[0].f7NavbarRightOffset = rightOffset - left.find('.back .icon')[0].offsetWidth;\n            }\n          }\n        }\n      }\n      if (!noRight && (right.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n          right[0].f7NavbarRightOffset = ((navbarInnerWidth - right[0].offsetWidth) / 2) * inverter;\n        } else {\n          right[0].f7NavbarLeftOffset = (-(navbarInnerWidth - right[0].offsetWidth) / 2) + separateNavbarLeftOffset;\n          right[0].f7NavbarRightOffset = rightWidth - separateNavbarRightOffset;\n        }\n      }\n      if (subnavbar.length && (subnavbar.hasClass('sliding') || sliding)) {\n        subnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : (-subnavbar[0].offsetWidth + separateNavbarLeftOffset);\n        subnavbar[0].f7NavbarRightOffset = (-subnavbar[0].f7NavbarLeftOffset - separateNavbarRightOffset) + separateNavbarLeftOffset;\n      }\n    }\n\n    // Center title\n    if (app.params.navbar[`${app.theme}CenterTitle`]) {\n      let titleLeft = diff;\n      if (app.rtl && noLeft && noRight && title.length > 0) titleLeft = -titleLeft;\n      title.css({ left: `${titleLeft}px` });\n    }\n  },\n  hide(el, animate = true) {\n    const app = this;\n    let $el = $(el);\n    if ($el.hasClass('navbar-inner')) $el = $el.parents('.navbar');\n    if (!$el.length) return;\n    if ($el.hasClass('navbar-hidden')) return;\n    let className = `navbar-hidden${animate ? ' navbar-transitioning' : ''}`;\n    const currentIsLarge = app.theme === 'ios'\n      ? $el.find('.navbar-current .title-large').length\n      : $el.find('.title-large').length;\n    if (currentIsLarge) {\n      className += ' navbar-large-hidden';\n    }\n    $el.transitionEnd(() => {\n      $el.removeClass('navbar-transitioning');\n    });\n    $el.addClass(className);\n    $el.trigger('navbar:hide');\n    app.emit('navbarHide', $el[0]);\n  },\n  show(el = '.navbar-hidden', animate = true) {\n    const app = this;\n    let $el = $(el);\n    if ($el.hasClass('navbar-inner')) $el = $el.parents('.navbar');\n    if (!$el.length) return;\n    if (!$el.hasClass('navbar-hidden')) return;\n    if (animate) {\n      $el.addClass('navbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('navbar-transitioning');\n      });\n    }\n    $el.removeClass('navbar-hidden navbar-large-hidden');\n    $el.trigger('navbar:show');\n    app.emit('navbarShow', $el[0]);\n  },\n  getElByPage(page) {\n    let $pageEl;\n    let $navbarInnerEl;\n    let pageData;\n    if (page.$navbarEl || page.$el) {\n      pageData = page;\n      $pageEl = page.$el;\n    } else {\n      $pageEl = $(page);\n      if ($pageEl.length > 0) pageData = $pageEl[0].f7Page;\n    }\n    if (pageData && pageData.$navbarEl && pageData.$navbarEl.length > 0) {\n      $navbarInnerEl = pageData.$navbarEl;\n    } else if ($pageEl) {\n      $navbarInnerEl = $pageEl.children('.navbar').children('.navbar-inner');\n    }\n    if (!$navbarInnerEl || ($navbarInnerEl && $navbarInnerEl.length === 0)) return undefined;\n    return $navbarInnerEl[0];\n  },\n  getPageByEl(navbarInnerEl) {\n    let $navbarInnerEl = $(navbarInnerEl);\n    if ($navbarInnerEl.hasClass('navbar')) {\n      $navbarInnerEl = $navbarInnerEl.find('.navbar-inner');\n      if ($navbarInnerEl.length > 1) return undefined;\n    }\n    if ($navbarInnerEl.parents('.page').length) {\n      return $navbarInnerEl.parents('.page')[0];\n    }\n    let pageEl;\n    $navbarInnerEl.parents('.view').find('.page').each((index, el) => {\n      if (el && el.f7Page && el.f7Page.navbarEl && $navbarInnerEl[0] === el.f7Page.navbarEl) {\n        pageEl = el;\n      }\n    });\n    return pageEl;\n  },\n\n  collapseLargeTitle(navbarInnerEl) {\n    const app = this;\n    let $navbarInnerEl = $(navbarInnerEl);\n    if ($navbarInnerEl.hasClass('navbar')) {\n      $navbarInnerEl = $navbarInnerEl.find('.navbar-inner-large');\n      if ($navbarInnerEl.length > 1) {\n        $navbarInnerEl = $(navbarInnerEl).find('.navbar-inner-large.navbar-current');\n      }\n      if ($navbarInnerEl.length > 1 || !$navbarInnerEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarInnerEl));\n    $navbarInnerEl.addClass('navbar-inner-large-collapsed');\n    $pageEl.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed');\n    app.emit('pageNavbarLargeCollapsed', $pageEl[0]);\n    const $navbarEl = $navbarInnerEl.parents('.navbar');\n    if (app.theme === 'md' || app.theme === 'aurora') {\n      $navbarEl.addClass('navbar-large-collapsed');\n    }\n    $navbarEl.trigger('navbar:collapse');\n    app.emit('navbarCollapse', $navbarEl[0]);\n  },\n  expandLargeTitle(navbarInnerEl) {\n    const app = this;\n    let $navbarInnerEl = $(navbarInnerEl);\n    if ($navbarInnerEl.hasClass('navbar')) {\n      $navbarInnerEl = $navbarInnerEl.find('.navbar-inner-large');\n      if ($navbarInnerEl.length > 1) {\n        $navbarInnerEl = $(navbarInnerEl).find('.navbar-inner-large.navbar-current');\n      }\n      if ($navbarInnerEl.length > 1 || !$navbarInnerEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarInnerEl));\n    $navbarInnerEl.removeClass('navbar-inner-large-collapsed');\n    $pageEl.eq(0).removeClass('page-with-navbar-large-collapsed').trigger('page:navbarlargeexpanded');\n    app.emit('pageNavbarLargeExpanded', $pageEl[0]);\n    const $navbarEl = $navbarInnerEl.parents('.navbar');\n    if (app.theme === 'md' || app.theme === 'aurora') {\n      $navbarEl.removeClass('navbar-large-collapsed');\n    }\n    $navbarEl.trigger('navbar:expand');\n    app.emit('navbarExpand', $navbarEl[0]);\n  },\n  toggleLargeTitle(navbarInnerEl) {\n    const app = this;\n    let $navbarInnerEl = $(navbarInnerEl);\n    if ($navbarInnerEl.hasClass('navbar')) {\n      $navbarInnerEl = $navbarInnerEl.find('.navbar-inner-large');\n      if ($navbarInnerEl.length > 1) {\n        $navbarInnerEl = $(navbarInnerEl).find('.navbar-inner-large.navbar-current');\n      }\n      if ($navbarInnerEl.length > 1 || !$navbarInnerEl.length) {\n        return;\n      }\n    }\n    if ($navbarInnerEl.hasClass('navbar-inner-large-collapsed')) {\n      app.navbar.expandLargeTitle($navbarInnerEl);\n    } else {\n      app.navbar.collapseLargeTitle($navbarInnerEl);\n    }\n  },\n  initNavbarOnScroll(pageEl, navbarInnerEl, needHide, needCollapse) {\n    const app = this;\n    const $pageEl = $(pageEl);\n    const $navbarInnerEl = $(navbarInnerEl);\n    const $navbarEl = app.theme === 'md' || app.theme === 'aurora'\n      ? $navbarInnerEl.parents('.navbar')\n      : $(navbarInnerEl || app.navbar.getElByPage(pageEl)).closest('.navbar');\n    const isLarge = $navbarInnerEl.find('.title-large').length || $navbarInnerEl.hasClass('.navbar-inner-large');\n    let navbarHideHeight = 44;\n    const snapPageScrollToLargeTitle = app.params.navbar.snapPageScrollToLargeTitle;\n\n    let previousScrollTop;\n    let currentScrollTop;\n\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let navbarHidden;\n\n    let navbarCollapsed;\n    let navbarTitleLargeHeight;\n    if (needCollapse || (needHide && isLarge)) {\n      navbarTitleLargeHeight = $navbarInnerEl.css('--f7-navbar-large-title-height');\n      if (navbarTitleLargeHeight && navbarTitleLargeHeight.indexOf('px') >= 0) {\n        navbarTitleLargeHeight = parseInt(navbarTitleLargeHeight, 10);\n        if (Number.isNaN(navbarTitleLargeHeight)) {\n          if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n          else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n          else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n        }\n      } else { // eslint-disable-next-line\n        if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n        else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n        else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n      }\n    }\n    if (needHide && isLarge) {\n      navbarHideHeight += navbarTitleLargeHeight;\n    }\n\n    let scrollChanged;\n    let scrollContent;\n    let scrollTimeoutId;\n    let touchEndTimeoutId;\n    const touchSnapTimeout = 70;\n    const desktopSnapTimeout = 300;\n\n    function snapLargeNavbar() {\n      const inSearchbarExpanded = $navbarInnerEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n      if (currentScrollTop >= navbarTitleLargeHeight / 2 && currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(navbarTitleLargeHeight, 100);\n      } else if (currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function handleLargeNavbarCollapse() {\n      const collapseProgress = Math.min(Math.max((currentScrollTop / navbarTitleLargeHeight), 0), 1);\n      const inSearchbarExpanded = $navbarInnerEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      navbarCollapsed = $navbarInnerEl.hasClass('navbar-inner-large-collapsed');\n      if (collapseProgress === 0 && navbarCollapsed) {\n        app.navbar.expandLargeTitle($navbarInnerEl[0]);\n        $navbarInnerEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        $pageEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        $navbarInnerEl[0].style.overflow = '';\n        if (app.theme === 'md' || app.theme === 'aurora') {\n          $navbarEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        }\n      } else if (collapseProgress === 1 && !navbarCollapsed) {\n        app.navbar.collapseLargeTitle($navbarInnerEl[0]);\n        $navbarInnerEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        $navbarInnerEl[0].style.overflow = '';\n        $pageEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        if (app.theme === 'md' || app.theme === 'aurora') {\n          $navbarEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        }\n      } else if ((collapseProgress === 1 && navbarCollapsed) || (collapseProgress === 0 && !navbarCollapsed)) {\n        $navbarInnerEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        $navbarInnerEl[0].style.overflow = '';\n        $pageEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        if (app.theme === 'md' || app.theme === 'aurora') {\n          $navbarEl[0].style.removeProperty('--f7-navbar-large-collapse-progress');\n        }\n      } else {\n        $navbarInnerEl[0].style.setProperty('--f7-navbar-large-collapse-progress', collapseProgress);\n        $navbarInnerEl[0].style.overflow = 'visible';\n        $pageEl[0].style.setProperty('--f7-navbar-large-collapse-progress', collapseProgress);\n        if (app.theme === 'md' || app.theme === 'aurora') {\n          $navbarEl[0].style.setProperty('--f7-navbar-large-collapse-progress', collapseProgress);\n        }\n      }\n\n      if (snapPageScrollToLargeTitle) {\n        if (!Support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    function handleTitleHideShow() {\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      navbarHidden = $navbarEl.hasClass('navbar-hidden');\n\n      if (reachEnd) {\n        if (app.params.navbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.navbar.showOnPageScrollTop || currentScrollTop <= navbarHideHeight) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > navbarHideHeight) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && navbarHidden) {\n        app.navbar.show($navbarEl);\n        navbarHidden = false;\n      } else if (action === 'hide' && !navbarHidden) {\n        app.navbar.hide($navbarEl);\n        navbarHidden = true;\n      }\n      previousScrollTop = currentScrollTop;\n    }\n\n    function handleScroll(e) {\n      scrollContent = this;\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n      currentScrollTop = scrollContent.scrollTop;\n      scrollChanged = currentScrollTop;\n\n      if (needCollapse) {\n        handleLargeNavbarCollapse();\n      }\n      if ($pageEl.hasClass('page-previous')) return;\n      if (needHide) {\n        handleTitleHideShow();\n      }\n    }\n    function handeTouchStart() {\n      scrollChanged = false;\n    }\n    function handleTouchEnd() {\n      clearTimeout(touchEndTimeoutId);\n      touchEndTimeoutId = null;\n      touchEndTimeoutId = setTimeout(() => {\n        if (scrollChanged !== false) {\n          snapLargeNavbar();\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n        }\n      }, touchSnapTimeout);\n    }\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n    if (Support.touch && needCollapse && snapPageScrollToLargeTitle) {\n      app.on('touchstart:passive', handeTouchStart);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n    if (needCollapse) {\n      $pageEl.find('.page-content').each((pageContentIndex, pageContentEl) => {\n        if (pageContentEl.scrollTop > 0) handleScroll.call(pageContentEl);\n      });\n    }\n    $pageEl[0].f7DetachNavbarScrollHandlers = function f7DetachNavbarScrollHandlers() {\n      delete $pageEl[0].f7DetachNavbarScrollHandlers;\n      $pageEl.off('scroll', '.page-content', handleScroll, true);\n      if (Support.touch && needCollapse && snapPageScrollToLargeTitle) {\n        app.off('touchstart:passive', handeTouchStart);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    };\n  },\n};\nexport default {\n  name: 'navbar',\n  create() {\n    const app = this;\n    Utils.extend(app, {\n      navbar: {\n        size: Navbar.size.bind(app),\n        hide: Navbar.hide.bind(app),\n        show: Navbar.show.bind(app),\n        getElByPage: Navbar.getElByPage.bind(app),\n        getPageByEl: Navbar.getPageByEl.bind(app),\n        collapseLargeTitle: Navbar.collapseLargeTitle.bind(app),\n        expandLargeTitle: Navbar.expandLargeTitle.bind(app),\n        toggleLargeTitle: Navbar.toggleLargeTitle.bind(app),\n        initNavbarOnScroll: Navbar.initNavbarOnScroll.bind(app),\n      },\n    });\n  },\n  params: {\n    navbar: {\n      scrollTopOnTitleClick: true,\n      iosCenterTitle: true,\n      mdCenterTitle: false,\n      auroraCenterTitle: true,\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n      collapseLargeTitleOnScroll: true,\n      snapPageScrollToLargeTitle: true,\n    },\n  },\n  on: {\n    'panelBreakpoint panelResize resize viewMasterDetailBreakpoint': function onResize() {\n      const app = this;\n      $('.navbar').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    pageBeforeRemove(page) {\n      if (page.$el[0].f7DetachNavbarScrollHandlers) {\n        page.$el[0].f7DetachNavbarScrollHandlers();\n      }\n    },\n    pageBeforeIn(page) {\n      const app = this;\n      if (app.theme !== 'ios') return;\n      let $navbarEl;\n      const view = page.$el.parents('.view')[0].f7View;\n      const navbarInnerEl = app.navbar.getElByPage(page);\n      if (!navbarInnerEl) {\n        $navbarEl = page.$el.parents('.view').children('.navbar');\n      } else {\n        $navbarEl = $(navbarInnerEl).parents('.navbar');\n      }\n      if (page.$el.hasClass('no-navbar') || (view.router.dynamicNavbar && !navbarInnerEl)) {\n        const animate = !!(page.pageFrom && page.router.history.length > 0);\n        app.navbar.hide($navbarEl, animate);\n      } else {\n        app.navbar.show($navbarEl);\n      }\n    },\n    pageReinit(page) {\n      const app = this;\n      const $navbarInnerEl = $(app.navbar.getElByPage(page));\n      if (!$navbarInnerEl || $navbarInnerEl.length === 0) return;\n      app.navbar.size($navbarInnerEl);\n    },\n    pageInit(page) {\n      const app = this;\n      const $navbarInnerEl = $(app.navbar.getElByPage(page));\n      if (!$navbarInnerEl || $navbarInnerEl.length === 0) return;\n\n      // Size\n      app.navbar.size($navbarInnerEl);\n\n      // Need Collapse On Scroll\n      let needCollapseOnScrollHandler;\n      if ($navbarInnerEl.children('.title-large').length > 0) {\n        $navbarInnerEl.addClass('navbar-inner-large');\n      }\n      if ($navbarInnerEl.hasClass('navbar-inner-large')) {\n        if (app.params.navbar.collapseLargeTitleOnScroll) needCollapseOnScrollHandler = true;\n        if (app.theme === 'md' || app.theme === 'aurora') {\n          $navbarInnerEl.parents('.navbar').addClass('navbar-large');\n        }\n        page.$el.addClass('page-with-navbar-large');\n      }\n\n      // Need Hide On Scroll\n      let needHideOnScrollHandler;\n      if (\n        app.params.navbar.hideOnPageScroll\n        || page.$el.find('.hide-navbar-on-scroll').length\n        || page.$el.hasClass('hide-navbar-on-scroll')\n        || page.$el.find('.hide-bars-on-scroll').length\n        || page.$el.hasClass('hide-bars-on-scroll')\n      ) {\n        if (\n          page.$el.find('.keep-navbar-on-scroll').length\n          || page.$el.hasClass('keep-navbar-on-scroll')\n          || page.$el.find('.keep-bars-on-scroll').length\n          || page.$el.hasClass('keep-bars-on-scroll')\n        ) {\n          needHideOnScrollHandler = false;\n        } else {\n          needHideOnScrollHandler = true;\n        }\n      }\n\n      if (needCollapseOnScrollHandler || needHideOnScrollHandler) {\n        app.navbar.initNavbarOnScroll(page.el, $navbarInnerEl[0], needHideOnScrollHandler, needCollapseOnScrollHandler);\n      }\n    },\n    modalOpen(modal) {\n      const app = this;\n      if (!app.params.navbar[`${app.theme}CenterTitle`]) {\n        return;\n      }\n      modal.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    panelOpen(panel) {\n      const app = this;\n      if (!app.params.navbar[`${app.theme}CenterTitle`]) {\n        return;\n      }\n      panel.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    panelSwipeOpen(panel) {\n      const app = this;\n      if (!app.params.navbar[`${app.theme}CenterTitle`]) {\n        return;\n      }\n      panel.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    tabShow(tabEl) {\n      const app = this;\n      if (!app.params.navbar[`${app.theme}CenterTitle`]) {\n        return;\n      }\n      $(tabEl).find('.navbar:not(.navbar-previous):not(.stacked)').each((index, navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n  },\n  clicks: {\n    '.navbar .title': function onTitleClick($clickedEl) {\n      const app = this;\n      if (!app.params.navbar.scrollTopOnTitleClick) return;\n      if ($clickedEl.closest('a').length > 0) {\n        return;\n      }\n      let pageContent;\n      // Find active page\n      const navbar = $clickedEl.parents('.navbar');\n\n      // Static Layout\n      pageContent = navbar.parents('.page-content');\n\n      if (pageContent.length === 0) {\n        // Fixed Layout\n        if (navbar.parents('.page').length > 0) {\n          pageContent = navbar.parents('.page').find('.page-content');\n        }\n        // Through Layout\n        if (pageContent.length === 0) {\n          if (navbar.nextAll('.page-current:not(.stacked)').length > 0) {\n            pageContent = navbar.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        }\n      }\n      if (pageContent && pageContent.length > 0) {\n        // Check for tab\n        if (pageContent.hasClass('tab')) {\n          pageContent = pageContent.parent('.tabs').children('.page-content.tab-active');\n        }\n        if (pageContent.length > 0) pageContent.scrollTop(0, 300);\n      }\n    },\n  },\n  vnode: {\n    'navbar-inner': {\n      postpatch(vnode) {\n        const app = this;\n        if (!app.params.navbar[`${app.theme}CenterTitle`]) {\n          return;\n        }\n        app.navbar.size(vnode.elm);\n      },\n    },\n  },\n};\n","import $ from 'dom7';\n\nconst Menu = {\n  open(el = '.menu-item-dropdown') {\n    const app = this;\n    if (!el) return;\n    const $el = $(el).closest('.menu-item-dropdown');\n    if (!$el.length) return;\n    const $menuEl = $el.closest('.menu').eq(0);\n    if ($menuEl.length) {\n      const zIndex = $menuEl.css('z-index');\n      const originalZIndex = $menuEl[0].style.zIndex;\n      $menuEl.css('z-index', parseInt(zIndex || 0, 0) + 1);\n      $menuEl[0].f7MenuZIndex = originalZIndex;\n    }\n    $el.eq(0).addClass('menu-item-dropdown-opened').trigger('menu:opened');\n    app.emit('menuOpened', $el.eq(0)[0]);\n  },\n  close(el = '.menu-item-dropdown-opened') {\n    const app = this;\n    if (!el) return;\n    const $el = $(el).closest('.menu-item-dropdown-opened');\n    if (!$el.length) return;\n    const $menuEl = $el.closest('.menu').eq(0);\n    if ($menuEl.length) {\n      const zIndex = $menuEl[0].f7MenuZIndex;\n      $menuEl.css('z-index', zIndex);\n      delete $menuEl[0].f7MenuZIndex;\n    }\n    $el.eq(0).removeClass('menu-item-dropdown-opened').trigger('menu:closed');\n    app.emit('menuClosed', $el.eq(0)[0]);\n  },\n};\n\nexport default {\n  name: 'menu',\n  create() {\n    const app = this;\n    app.menu = {\n      open: Menu.open.bind(app),\n      close: Menu.close.bind(app),\n    };\n  },\n  on: {\n    click(e) {\n      const app = this;\n      const openedMenus = $('.menu-item-dropdown-opened');\n      if (!openedMenus.length) return;\n      openedMenus.each((index, el) => {\n        if (!$(e.target).closest('.menu-item-dropdown-opened').length) {\n          app.menu.close(el);\n        }\n      });\n    },\n  },\n  clicks: {\n    '.menu-item-dropdown': function onClick($clickedEl, dataset, e) {\n      const app = this;\n      if ($clickedEl.hasClass('menu-item-dropdown-opened')) {\n        if ($(e.target).closest('.menu-dropdown').length) return;\n        app.menu.close($clickedEl);\n      } else {\n        app.menu.open($clickedEl);\n      }\n    },\n    '.menu-close': function onClick() {\n      const app = this;\n      app.menu.close();\n    },\n  },\n};\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\n\nfunction swipePanel(panel) {\n  const app = panel.app;\n  Utils.extend(panel, {\n    swipeable: true,\n    swipeInitialized: true,\n  });\n  const params = app.params.panel;\n  const { $el, $backdropEl, side, effect } = panel;\n  let otherPanel;\n\n  let isTouched;\n  let isMoved;\n  let isScrolling;\n  const touchesStart = {};\n  let touchStartTime;\n  let touchesDiff;\n  let translate;\n  let backdropOpacity;\n  let panelWidth;\n  let direction;\n\n  let $viewEl;\n\n  let touchMoves = 0;\n  function handleTouchStart(e) {\n    if (!panel.swipeable) return;\n    if (!app.panel.allowOpen || (!params.swipe && !params.swipeOnlyClose) || isTouched) return;\n    if ($('.modal-in:not(.toast):not(.notification), .photo-browser-in').length > 0) return;\n    otherPanel = app.panel[side === 'left' ? 'right' : 'left'] || {};\n    if (!panel.opened && otherPanel.opened) return;\n    if (!(params.swipeCloseOpposite || params.swipeOnlyClose)) {\n      if (otherPanel.opened) return;\n    }\n    if (e.target && e.target.nodeName.toLowerCase() === 'input' && e.target.type === 'range') return;\n    if ($(e.target).closest('.range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened').length > 0) return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    if (params.swipeOnlyClose && !panel.opened) {\n      return;\n    }\n    if (params.swipe !== 'both' && params.swipeCloseOpposite && params.swipe !== side && !panel.opened) {\n      return;\n    }\n    if (params.swipeActiveArea && !panel.opened) {\n      if (side === 'left') {\n        if (touchesStart.x > params.swipeActiveArea) return;\n      }\n      if (side === 'right') {\n        if (touchesStart.x < app.width - params.swipeActiveArea) return;\n      }\n    }\n    if (params.swipeCloseActiveAreaSide && panel.opened) {\n      if (side === 'left') {\n        if (touchesStart.x < ($el[0].offsetWidth - params.swipeCloseActiveAreaSide)) return;\n      }\n      if (side === 'right') {\n        if (touchesStart.x > ((app.width - $el[0].offsetWidth) + params.swipeCloseActiveAreaSide)) return;\n      }\n    }\n    touchMoves = 0;\n    $viewEl = $(panel.getViewEl());\n    isMoved = false;\n    isTouched = true;\n    isScrolling = undefined;\n\n    touchStartTime = Utils.now();\n    direction = undefined;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    touchMoves += 1;\n    if (touchMoves < 2) return;\n    if (e.f7PreventSwipePanel || app.preventSwipePanelBySwipeBack || app.preventSwipePanel) {\n      isTouched = false;\n      return;\n    }\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (typeof isScrolling === 'undefined') {\n      isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n    }\n    if (isScrolling) {\n      isTouched = false;\n      return;\n    }\n    if (!direction) {\n      if (pageX > touchesStart.x) {\n        direction = 'to-right';\n      } else {\n        direction = 'to-left';\n      }\n\n      if (params.swipe === 'both') {\n        if (params.swipeActiveArea > 0 && !panel.opened) {\n          if (side === 'left' && touchesStart.x > params.swipeActiveArea) {\n            isTouched = false;\n            return;\n          }\n          if (side === 'right' && touchesStart.x < app.width - params.swipeActiveArea) {\n            isTouched = false;\n            return;\n          }\n        }\n      }\n      if ($el.hasClass('panel-visible-by-breakpoint')) {\n        isTouched = false;\n        return;\n      }\n\n      if (\n        (side === 'left'\n          && (\n            direction === 'to-left' && !$el.hasClass('panel-active')\n          )\n        )\n        || (side === 'right'\n          && (\n            direction === 'to-right' && !$el.hasClass('panel-active')\n          )\n        )\n      ) {\n        isTouched = false;\n        return;\n      }\n    }\n\n    let threshold = panel.opened ? 0 : -params.swipeThreshold;\n    if (side === 'right') threshold = -threshold;\n\n    if (params.swipeNoFollow) {\n      const touchesDiffNoFollow = (pageX - touchesStart.x);\n      const timeDiff = (new Date()).getTime() - touchStartTime;\n      let needToSwitch;\n      if (!panel.opened && (\n        (side === 'left' && touchesDiffNoFollow > -threshold)\n        || (side === 'right' && -touchesDiffNoFollow > threshold)\n      )) {\n        needToSwitch = true;\n      }\n      if (panel.opened && (\n        (side === 'left' && touchesDiffNoFollow < 0)\n        || (side === 'right' && touchesDiffNoFollow > 0)\n      )) {\n        needToSwitch = true;\n      }\n\n      if (needToSwitch) {\n        if (timeDiff < 300) {\n          if (direction === 'to-left') {\n            if (side === 'right') app.panel.open(side);\n            if (side === 'left' && $el.hasClass('panel-active')) app.panel.close();\n          }\n          if (direction === 'to-right') {\n            if (side === 'left') app.panel.open(side);\n            if (side === 'right' && $el.hasClass('panel-active')) app.panel.close();\n          }\n        }\n        isTouched = false;\n        isMoved = false;\n      }\n      return;\n    }\n\n    if (!isMoved) {\n      if (!panel.opened) {\n        $el.css('display', 'block');\n        $backdropEl.css('display', 'block');\n        $el.trigger('panel:swipeopen', panel);\n        panel.emit('local::swipeOpen panelSwipeOpen', panel);\n      }\n      panelWidth = $el[0].offsetWidth;\n      $el.transition(0);\n    }\n\n    isMoved = true;\n\n    e.preventDefault();\n\n    touchesDiff = (pageX - touchesStart.x) + threshold;\n\n    if (side === 'right') {\n      if (effect === 'cover') {\n        translate = touchesDiff + (panel.opened ? 0 : panelWidth);\n        if (translate < 0) translate = 0;\n        if (translate > panelWidth) {\n          translate = panelWidth;\n        }\n      } else {\n        translate = touchesDiff - (panel.opened ? panelWidth : 0);\n        if (translate > 0) translate = 0;\n        if (translate < -panelWidth) {\n          translate = -panelWidth;\n        }\n      }\n    } else {\n      translate = touchesDiff + (panel.opened ? panelWidth : 0);\n      if (translate < 0) translate = 0;\n      if (translate > panelWidth) {\n        translate = panelWidth;\n      }\n    }\n    if (effect === 'reveal') {\n      $viewEl.transform(`translate3d(${translate}px,0,0)`).transition(0);\n      $backdropEl.transform(`translate3d(${translate}px,0,0)`).transition(0);\n\n      $el.trigger('panel:swipe', panel, Math.abs(translate / panelWidth));\n      panel.emit('local::swipe panelSwipe', panel, Math.abs(translate / panelWidth));\n    } else {\n      if (side === 'left') translate -= panelWidth;\n      $el.transform(`translate3d(${translate}px,0,0)`).transition(0);\n\n      $backdropEl.transition(0);\n      backdropOpacity = 1 - Math.abs(translate / panelWidth);\n      $backdropEl.css({ opacity: backdropOpacity });\n\n      $el.trigger('panel:swipe', panel, Math.abs(translate / panelWidth));\n      panel.emit('local::swipe panelSwipe', panel, Math.abs(translate / panelWidth));\n    }\n  }\n  function handleTouchEnd() {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    const timeDiff = (new Date()).getTime() - touchStartTime;\n    let action;\n    const edge = (translate === 0 || Math.abs(translate) === panelWidth);\n\n    const threshold = params.swipeThreshold || 0;\n\n    if (!panel.opened) {\n      if (Math.abs(touchesDiff) < threshold) {\n        action = 'reset';\n      } else if (effect === 'cover') {\n        if (translate === 0) {\n          action = 'swap'; // open\n        } else if (timeDiff < 300 && Math.abs(translate) > 0) {\n          action = 'swap'; // open\n        } else if (timeDiff >= 300 && Math.abs(translate) < panelWidth / 2) {\n          action = 'swap'; // open\n        } else {\n          action = 'reset'; // close\n        }\n      } else if (translate === 0) {\n        action = 'reset';\n      } else if (\n        (timeDiff < 300 && Math.abs(translate) > 0)\n        || (timeDiff >= 300 && (Math.abs(translate) >= panelWidth / 2))\n      ) {\n        action = 'swap';\n      } else {\n        action = 'reset';\n      }\n    } else if (effect === 'cover') {\n      if (translate === 0) {\n        action = 'reset'; // open\n      } else if (timeDiff < 300 && Math.abs(translate) > 0) {\n        action = 'swap'; // open\n      } else if (timeDiff >= 300 && Math.abs(translate) < panelWidth / 2) {\n        action = 'reset'; // open\n      } else {\n        action = 'swap'; // close\n      }\n    } else if (translate === -panelWidth) {\n      action = 'reset';\n    } else if (\n      (timeDiff < 300 && Math.abs(translate) >= 0)\n      || (timeDiff >= 300 && (Math.abs(translate) <= panelWidth / 2))\n    ) {\n      if (side === 'left' && translate === panelWidth) action = 'reset';\n      else action = 'swap';\n    } else {\n      action = 'reset';\n    }\n    if (action === 'swap') {\n      if (panel.opened) {\n        panel.close(!edge);\n      } else {\n        panel.open(!edge);\n      }\n    }\n    if (action === 'reset') {\n      if (!panel.opened) {\n        if (edge) {\n          $el.css({ display: '' });\n        } else {\n          const target = effect === 'reveal' ? $viewEl : $el;\n          $('html').addClass('with-panel-transitioning');\n          target.transitionEnd(() => {\n            if ($el.hasClass('panel-active')) return;\n            $el.css({ display: '' });\n            $('html').removeClass('with-panel-transitioning');\n          });\n        }\n      }\n    }\n    if (effect === 'reveal') {\n      Utils.nextFrame(() => {\n        $viewEl.transition('');\n        $viewEl.transform('');\n      });\n    }\n    $el.transition('').transform('');\n    $backdropEl.css({ display: '' }).transform('').transition('').css('opacity', '');\n  }\n\n  // Add Events\n  app.on('touchstart:passive', handleTouchStart);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  panel.on('panelDestroy', () => {\n    app.off('touchstart:passive', handleTouchStart);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n  });\n}\n\nexport default swipePanel;\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Support from '../../utils/support';\n\nfunction resizablePanel(panel) {\n  const app = panel.app;\n  Utils.extend(panel, {\n    resizable: true,\n    resizableWidth: null,\n    resizableInitialized: true,\n  });\n  const $htmlEl = $('html');\n  const { $el, $backdropEl, side, effect } = panel;\n  if (!$el) return;\n\n  let isTouched;\n  let isMoved;\n  const touchesStart = {};\n  let touchesDiff;\n  let panelWidth;\n\n  let $viewEl;\n\n  let panelMinWidth;\n  let panelMaxWidth;\n  let visibleByBreakpoint;\n\n  function transformCSSWidth(v) {\n    if (!v) return null;\n    if (v.indexOf('%') >= 0 || v.indexOf('vw') >= 0) {\n      return parseInt(v, 10) / 100 * app.width;\n    }\n    const newV = parseInt(v, 10);\n    if (Number.isNaN(newV)) return null;\n    return newV;\n  }\n\n  function isResizable() {\n    return panel.resizable && $el.hasClass('panel-resizable');\n  }\n\n  function handleTouchStart(e) {\n    if (!isResizable()) return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    isMoved = false;\n    isTouched = true;\n    panelMinWidth = transformCSSWidth($el.css('min-width'));\n    panelMaxWidth = transformCSSWidth($el.css('max-width'));\n    visibleByBreakpoint = $el.hasClass('panel-visible-by-breakpoint');\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\n    if (!isMoved) {\n      panelWidth = $el[0].offsetWidth;\n      $el.transition(0);\n      $el.addClass('panel-resizing');\n      $htmlEl.css('cursor', 'col-resize');\n      if (effect === 'reveal' || visibleByBreakpoint) {\n        $viewEl = $(panel.getViewEl());\n      }\n      if (effect === 'reveal' && !visibleByBreakpoint) {\n        $backdropEl.transition(0);\n        $viewEl.transition(0);\n      }\n    }\n\n    isMoved = true;\n\n    e.preventDefault();\n\n    touchesDiff = (pageX - touchesStart.x);\n\n    let newPanelWidth = side === 'left' ? panelWidth + touchesDiff : panelWidth - touchesDiff;\n    if (panelMinWidth && !Number.isNaN(panelMinWidth)) {\n      newPanelWidth = Math.max(newPanelWidth, panelMinWidth);\n    }\n    if (panelMaxWidth && !Number.isNaN(panelMaxWidth)) {\n      newPanelWidth = Math.min(newPanelWidth, panelMaxWidth);\n    }\n    newPanelWidth = Math.min(Math.max(newPanelWidth, 0), app.width);\n\n    panel.resizableWidth = newPanelWidth;\n    $el[0].style.width = `${newPanelWidth}px`;\n    if (effect === 'reveal' && !visibleByBreakpoint) {\n      if ($viewEl) {\n        $viewEl.transform(`translate3d(${side === 'left' ? newPanelWidth : -newPanelWidth}px, 0, 0)`);\n      }\n      if ($backdropEl) {\n        $backdropEl.transform(`translate3d(${side === 'left' ? newPanelWidth : -newPanelWidth}px, 0, 0)`);\n      }\n    } else if (visibleByBreakpoint && $viewEl) {\n      $viewEl.css(`margin-${side}`, `${newPanelWidth}px`);\n    }\n\n    $el.trigger('panel:resize', panel, newPanelWidth);\n    panel.emit('local::resize panelResize', panel, newPanelWidth);\n  }\n  function handleTouchEnd() {\n    $('html').css('cursor', '');\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n\n    $htmlEl[0].style.setProperty(`--f7-panel-${side}-width`, `${panel.resizableWidth}px`);\n    $el[0].style.width = '';\n    if (effect === 'reveal' && !visibleByBreakpoint) {\n      $viewEl.transform('');\n      $backdropEl.transform('');\n    }\n    $el.removeClass('panel-resizing');\n    Utils.nextFrame(() => {\n      if (visibleByBreakpoint) return;\n      $el.transition('');\n      if (effect === 'reveal') {\n        $backdropEl.transition('');\n        if ($viewEl) $viewEl.transition('');\n      }\n    });\n  }\n\n  function handleResize() {\n    if (!panel.opened || !panel.resizableWidth) return;\n    panelMinWidth = transformCSSWidth($el.css('min-width'));\n    panelMaxWidth = transformCSSWidth($el.css('max-width'));\n\n    if (panelMinWidth && !Number.isNaN(panelMinWidth) && panel.resizableWidth < panelMinWidth) {\n      panel.resizableWidth = Math.max(panel.resizableWidth, panelMinWidth);\n    }\n    if (panelMaxWidth && !Number.isNaN(panelMaxWidth) && panel.resizableWidth > panelMaxWidth) {\n      panel.resizableWidth = Math.min(panel.resizableWidth, panelMaxWidth);\n    }\n    panel.resizableWidth = Math.min(Math.max(panel.resizableWidth, 0), app.width);\n\n    $htmlEl[0].style.setProperty(`--f7-panel-${side}-width`, `${panel.resizableWidth}px`);\n  }\n\n  if (panel.$el.find('.panel-resize-handler').length === 0) {\n    panel.$el.append('<div class=\"panel-resize-handler\"></div>');\n  }\n  panel.$resizeHandlerEl = panel.$el.children('.panel-resize-handler');\n\n  $el.addClass('panel-resizable');\n\n  // Add Events\n  const passive = Support.passiveListener ? { passive: true } : false;\n\n  panel.$el.on(app.touchEvents.start, '.panel-resize-handler', handleTouchStart, passive);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  app.on('resize', handleResize);\n  panel.on('beforeOpen', handleResize);\n\n  panel.once('panelDestroy', () => {\n    $el.removeClass('panel-resizable');\n    panel.$resizeHandlerEl.remove();\n    panel.$el.off(app.touchEvents.start, '.panel-resize-handler', handleTouchStart, passive);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    app.off('resize', handleResize);\n    panel.off('beforeOpen', handleResize);\n  });\n}\n\nexport default resizablePanel;\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\nimport SwipePanel from './swipe-panel';\nimport ResizablePanel from './resizable-panel';\n\nclass Panel extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const panel = this;\n\n    let el = params.el;\n\n    if (!el && params.content) {\n      el = params.content;\n    }\n\n    const $el = $(el);\n    if ($el.length === 0) return panel;\n    if ($el[0].f7Panel) return $el[0].f7Panel;\n\n    $el[0].f7Panel = panel;\n\n    let { opened, side, effect } = params;\n    if (typeof opened === 'undefined') opened = $el.hasClass('panel-active');\n    if (typeof side === 'undefined') side = $el.hasClass('panel-left') ? 'left' : 'right';\n    if (typeof effect === 'undefined') effect = $el.hasClass('panel-cover') ? 'cover' : 'reveal';\n\n    if (!app.panel[side]) {\n      app.panel[side] = panel;\n    } else {\n      throw new Error(`Framework7: Can't create panel; app already has a ${side} panel!`);\n    }\n\n    let $backdropEl = $('.panel-backdrop');\n\n    if ($backdropEl.length === 0) {\n      $backdropEl = $('<div class=\"panel-backdrop\"></div>');\n      $backdropEl.insertBefore($el);\n    }\n\n    Utils.extend(panel, {\n      app,\n      side,\n      effect,\n      $el,\n      el: $el[0],\n      opened,\n      $backdropEl,\n      backdropEl: $backdropEl[0],\n      params,\n    });\n\n    // Install Modules\n    panel.useModules();\n\n    // Init\n    panel.init();\n\n    return panel;\n  }\n\n  getViewEl() {\n    const panel = this;\n    const app = panel.app;\n    let viewEl;\n    if (app.root.children('.views').length > 0) {\n      viewEl = app.root.children('.views')[0];\n    } else {\n      viewEl = app.root.children('.view')[0];\n    }\n    return viewEl;\n  }\n\n  setBreakpoint(emitEvents = true) {\n    const panel = this;\n    const app = panel.app;\n    const { side, $el } = panel;\n    const $viewEl = $(panel.getViewEl());\n    const breakpoint = app.params.panel[`${side}Breakpoint`];\n    const wasVisible = $el.hasClass('panel-visible-by-breakpoint');\n\n    if (app.width >= breakpoint) {\n      if (!wasVisible) {\n        $('html').removeClass(`with-panel-${side}-reveal with-panel-${side}-cover with-panel`);\n        $el.css('display', '').addClass('panel-visible-by-breakpoint').removeClass('panel-active');\n        panel.onOpen();\n        panel.onOpened();\n        $viewEl.css({\n          [`margin-${side}`]: `${$el.width()}px`,\n        });\n        app.allowPanelOpen = true;\n        if (emitEvents) {\n          panel.emit('local::breakpoint panelBreakpoint');\n          panel.$el.trigger('panel:breakpoint', panel);\n        }\n      } else {\n        $viewEl.css({\n          [`margin-${side}`]: `${$el.width()}px`,\n        });\n      }\n    } else if (wasVisible) {\n      $el.css('display', '').removeClass('panel-visible-by-breakpoint panel-active');\n      panel.onClose();\n      panel.onClosed();\n      $viewEl.css({\n        [`margin-${side}`]: '',\n      });\n      if (emitEvents) {\n        panel.emit('local::breakpoint panelBreakpoint');\n        panel.$el.trigger('panel:breakpoint', panel);\n      }\n    }\n  }\n\n  initBreakpoints() {\n    const panel = this;\n    const app = panel.app;\n    panel.resizeHandler = function resizeHandler() {\n      panel.setBreakpoint();\n    };\n    if (app.params.panel[`${panel.side}Breakpoint`]) {\n      app.on('resize', panel.resizeHandler);\n    }\n    panel.setBreakpoint();\n    return panel;\n  }\n\n  initSwipePanel() {\n    if (\"universal\" !== 'desktop') {\n      SwipePanel(this);\n    }\n  }\n\n  initResizablePanel() {\n    ResizablePanel(this);\n  }\n\n  toggle(animate = true) {\n    const panel = this;\n    if (panel.opened) panel.close(animate);\n    else panel.open(animate);\n  }\n\n  onOpen() {\n    const panel = this;\n    panel.opened = true;\n\n    panel.$el.trigger('panel:beforeopen', panel);\n    panel.emit('local::beforeOpen panelBeforeOpen', panel);\n\n    panel.$el.trigger('panel:open', panel);\n    panel.emit('local::open panelOpen', panel);\n  }\n\n  onOpened() {\n    const panel = this;\n    const app = panel.app;\n    app.panel.allowOpen = true;\n\n    panel.$el.trigger('panel:opened', panel);\n    panel.emit('local::opened panelOpened', panel);\n  }\n\n  onClose() {\n    const panel = this;\n    panel.opened = false;\n    panel.$el.addClass('panel-closing');\n\n    panel.$el.trigger('panel:beforeclose', panel);\n    panel.emit('local::beforeClose panelBeforeClose', panel);\n\n    panel.$el.trigger('panel:close', panel);\n    panel.emit('local::close panelClose', panel);\n  }\n\n  onClosed() {\n    const panel = this;\n    const app = panel.app;\n    app.panel.allowOpen = true;\n    panel.$el.removeClass('panel-closing');\n    panel.$el.trigger('panel:closed', panel);\n    panel.emit('local::closed panelClosed', panel);\n  }\n\n  open(animate = true) {\n    const panel = this;\n    const app = panel.app;\n    if (!app.panel.allowOpen) return false;\n\n    const { side, effect, $el, $backdropEl, opened } = panel;\n\n    const $panelParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n\n    if (!$panelParentEl.is(app.root) || $el.prevAll('.views, .view').length) {\n      const $insertBeforeEl = app.root.children('.panel, .views, .view').eq(0);\n      const $insertAfterEl = app.root.children('.statusbar').eq(0);\n\n      if ($insertBeforeEl.length) {\n        $el.insertBefore($insertBeforeEl);\n      } else if ($insertAfterEl.length) {\n        $el.insertAfter($insertBeforeEl);\n      } else {\n        app.root.prepend($el);\n      }\n\n      if ($backdropEl\n        && $backdropEl.length\n        && (\n          (\n            !$backdropEl.parent().is(app.root)\n            && $backdropEl.nextAll('.panel').length === 0\n          )\n          || (\n            $backdropEl.parent().is(app.root)\n            && $backdropEl.nextAll('.panel').length === 0\n          )\n        )\n      ) {\n        $backdropEl.insertBefore($el);\n      }\n\n      panel.once('panelClosed', () => {\n        if (wasInDom) {\n          $panelParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    }\n\n    // Ignore if opened\n    if (opened || $el.hasClass('panel-visible-by-breakpoint') || $el.hasClass('panel-active')) return false;\n\n    // Close if some panel is opened\n    app.panel.close(side === 'left' ? 'right' : 'left', animate);\n\n    app.panel.allowOpen = false;\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n    $el\n      .css({ display: 'block' })\n      .addClass('panel-active');\n\n    $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n    $backdropEl.css({ display: 'block' });\n\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n    // panel._clientLeft = $el[0].clientLeft;\n\n    // Transition End;\n    const transitionEndTarget = effect === 'reveal' ? $el.nextAll('.view, .views').eq(0) : $el;\n\n    function panelTransitionEnd() {\n      transitionEndTarget.transitionEnd((e) => {\n        if ($(e.target).is(transitionEndTarget)) {\n          if ($el.hasClass('panel-active')) {\n            panel.onOpened();\n            $backdropEl.css({ display: '' });\n          } else {\n            panel.onClosed();\n            $backdropEl.css({ display: '' });\n          }\n        } else panelTransitionEnd();\n      });\n    }\n\n    if (animate) {\n      Utils.nextFrame(() => {\n        $('html').addClass(`with-panel with-panel-${side}-${effect}`);\n        panel.onOpen();\n        panelTransitionEnd();\n      });\n    } else {\n      $('html').addClass(`with-panel with-panel-${side}-${effect}`);\n      panel.onOpen();\n      panel.onOpened();\n      $backdropEl.css({ display: '' });\n    }\n\n    return true;\n  }\n\n  close(animate = true) {\n    const panel = this;\n    const app = panel.app;\n\n    const { side, effect, $el, $backdropEl, opened } = panel;\n    if (!opened || $el.hasClass('panel-visible-by-breakpoint') || !$el.hasClass('panel-active')) return false;\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n    $el.removeClass('panel-active');\n\n    $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n\n    const transitionEndTarget = effect === 'reveal' ? $el.nextAll('.view, .views').eq(0) : $el;\n\n    panel.onClose();\n    app.panel.allowOpen = false;\n\n    if (animate) {\n      transitionEndTarget.transitionEnd(() => {\n        if ($el.hasClass('panel-active')) return;\n        $el.css({ display: '' });\n        $('html').removeClass('with-panel-transitioning');\n        panel.onClosed();\n      });\n      $('html')\n        .removeClass(`with-panel with-panel-${side}-${effect}`)\n        .addClass('with-panel-transitioning');\n    } else {\n      $el.css({ display: '' });\n      $el.removeClass('not-animated');\n      $('html').removeClass(`with-panel with-panel-transitioning with-panel-${side}-${effect}`);\n      panel.onClosed();\n    }\n    return true;\n  }\n\n  init() {\n    const panel = this;\n    const app = panel.app;\n    if (app.params.panel[`${panel.side}Breakpoint`]) {\n      panel.initBreakpoints();\n    }\n    if (process.env.TARGET !== 'desktop') {\n      if (\n        (app.params.panel.swipe === panel.side)\n        || (app.params.panel.swipe === 'both')\n        || (app.params.panel.swipe && app.params.panel.swipe !== panel.side && app.params.panel.swipeCloseOpposite)\n      ) {\n        panel.initSwipePanel();\n      }\n    }\n    if (panel.params.resizable || panel.$el.hasClass('panel-resizable')) {\n      panel.initResizablePanel();\n    }\n  }\n\n  destroy() {\n    let panel = this;\n    const app = panel.app;\n\n    if (!panel.$el) {\n      // Panel already destroyed\n      return;\n    }\n\n    panel.emit('local::beforeDestroy panelBeforeDestroy', panel);\n    panel.$el.trigger('panel:beforedestroy', panel);\n\n    if (panel.resizeHandler) {\n      app.off('resize', panel.resizeHandler);\n    }\n\n    if (panel.$el.hasClass('panel-visible-by-breakpoint')) {\n      const $viewEl = $(panel.getViewEl());\n      panel.$el.css('display', '').removeClass('panel-visible-by-breakpoint panel-active');\n      $viewEl.css({\n        [`margin-${panel.side}`]: '',\n      });\n      panel.emit('local::breakpoint panelBreakpoint');\n      panel.$el.trigger('panel:breakpoint', panel);\n    }\n\n    panel.$el.trigger('panel:destroy', panel);\n    panel.emit('local::destroy panelDestroy');\n    delete app.panel[panel.side];\n    if (panel.el) {\n      panel.el.f7Panel = null;\n      delete panel.el.f7Panel;\n    }\n    Utils.deleteProps(panel);\n\n    panel = null;\n  }\n}\n\nexport default Panel;\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Panel from './panel-class';\n\nexport default {\n  name: 'panel',\n  params: {\n    panel: {\n      leftBreakpoint: 0,\n      rightBreakpoint: 0,\n      swipe: undefined, // or 'left' or 'right' or 'both'\n      swipeActiveArea: 0,\n      swipeCloseActiveAreaSide: 0,\n      swipeCloseOpposite: true,\n      swipeOnlyClose: false,\n      swipeNoFollow: false,\n      swipeThreshold: 0,\n      closeByBackdropClick: true,\n    },\n  },\n  static: {\n    Panel,\n  },\n  instance: {\n    panel: {\n      allowOpen: true,\n    },\n  },\n  create() {\n    const app = this;\n    Utils.extend(app.panel, {\n      disableResizable(panel = 'both') {\n        let side;\n        let panels = [];\n        if (typeof panel === 'string') {\n          if (panel === 'both') {\n            side = 'both';\n            panels = [app.panel.left, app.panel.right];\n          } else {\n            side = panel;\n            panels.push(app.panel[side]);\n          }\n        } else {\n          panels = [panel];\n        }\n        panels.forEach((panelInstance) => {\n          panelInstance.resizable = false;\n          panelInstance.$el.removeClass('panel-resizable');\n        });\n      },\n      enableResizable(panel = 'both') {\n        let side;\n        let panels = [];\n        if (typeof panel === 'string') {\n          if (panel === 'both') {\n            side = 'both';\n            panels = [app.panel.left, app.panel.right];\n          } else {\n            side = panel;\n            panels.push(app.panel[side]);\n          }\n        } else {\n          panels = [panel];\n        }\n        panels.forEach((panelInstance) => {\n          if (!panelInstance) return;\n          if (!panelInstance.resizableInitialized) {\n            panelInstance.initResizablePanel();\n          } else {\n            panelInstance.resizable = true;\n            panelInstance.$el.addClass('panel-resizable');\n          }\n        });\n      },\n      disableSwipe(panel = 'both') {\n        let side;\n        let panels = [];\n        if (typeof panel === 'string') {\n          if (panel === 'both') {\n            side = 'both';\n            panels = [app.panel.left, app.panel.right];\n          } else {\n            side = panel;\n            panels.push(app.panel[side]);\n          }\n        } else {\n          panels = [panel];\n        }\n        panels.forEach((panelInstance) => {\n          panelInstance.swipeable = false;\n        });\n      },\n      enableSwipe(panel = 'both') {\n        let panels = [];\n        let side;\n        if (typeof panel === 'string') {\n          side = panel;\n          if (\n            (app.params.panel.swipe === 'left' && side === 'right')\n            || (app.params.panel.swipe === 'right' && side === 'left')\n            || side === 'both'\n          ) {\n            side = 'both';\n            app.params.panel.swipe = side;\n            panels = [app.panel.left, app.panel.right];\n          } else {\n            app.params.panel.swipe = side;\n            panels.push(app.panel[side]);\n          }\n        } else if (panel) {\n          panels.push(panel);\n        }\n        panels.forEach((panelInstance) => {\n          if (!panelInstance) return;\n          if (!panelInstance.swipeInitialized) {\n            panelInstance.initSwipePanel();\n          } else {\n            panelInstance.swipeable = true;\n          }\n        });\n      },\n      create(params) {\n        return new Panel(app, params);\n      },\n      open(side, animate) {\n        let panelSide = side;\n        if (!panelSide) {\n          if ($('.panel').length > 1) {\n            return false;\n          }\n          panelSide = $('.panel').hasClass('panel-left') ? 'left' : 'right';\n        }\n        if (!panelSide) return false;\n        if (app.panel[panelSide]) {\n          return app.panel[panelSide].open(animate);\n        }\n        const $panelEl = $(`.panel-${panelSide}`);\n        if ($panelEl.length > 0) {\n          return app.panel.create({ el: $panelEl }).open(animate);\n        }\n        return false;\n      },\n      close(side, animate) {\n        let $panelEl;\n        let panelSide;\n        if (panelSide) {\n          panelSide = side;\n          $panelEl = $(`.panel-${panelSide}`);\n        } else {\n          $panelEl = $('.panel.panel-active');\n          panelSide = $panelEl.hasClass('panel-left') ? 'left' : 'right';\n        }\n        if (!panelSide) return false;\n        if (app.panel[panelSide]) {\n          return app.panel[panelSide].close(animate);\n        }\n        if ($panelEl.length > 0) {\n          return app.panel.create({ el: $panelEl }).close(animate);\n        }\n        return false;\n      },\n      toggle(side, animate) {\n        let $panelEl;\n        let panelSide = side;\n        if (side) {\n          panelSide = side;\n          $panelEl = $(`.panel-${panelSide}`);\n        } else if ($('.panel.panel-active').length) {\n          $panelEl = $('.panel.panel-active');\n          panelSide = $panelEl.hasClass('panel-left') ? 'left' : 'right';\n        } else {\n          if ($('.panel').length > 1) {\n            return false;\n          }\n          panelSide = $('.panel').hasClass('panel-left') ? 'left' : 'right';\n          $panelEl = $(`.panel-${panelSide}`);\n        }\n        if (!panelSide) return false;\n        if (app.panel[panelSide]) {\n          return app.panel[panelSide].toggle(animate);\n        }\n        if ($panelEl.length > 0) {\n          return app.panel.create({ el: $panelEl }).toggle(animate);\n        }\n        return false;\n      },\n      get(side) {\n        let panelSide = side;\n        if (!panelSide) {\n          if ($('.panel').length > 1) {\n            return undefined;\n          }\n          panelSide = $('.panel').hasClass('panel-left') ? 'left' : 'right';\n        }\n        if (!panelSide) return undefined;\n        if (app.panel[panelSide]) {\n          return app.panel[panelSide];\n        }\n        const $panelEl = $(`.panel-${panelSide}`);\n        if ($panelEl.length > 0) {\n          return app.panel.create({ el: $panelEl });\n        }\n        return undefined;\n      },\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n\n      // Create Panels\n      $('.panel').each((index, panelEl) => {\n        const side = $(panelEl).hasClass('panel-left') ? 'left' : 'right';\n        app.panel[side] = app.panel.create({ el: panelEl, side });\n      });\n    },\n  },\n  clicks: {\n    '.panel-open': function open(clickedEl, data = {}) {\n      const app = this;\n      let side = 'left';\n      if (data.panel === 'right' || ($('.panel').length === 1 && $('.panel').hasClass('panel-right'))) {\n        side = 'right';\n      }\n      app.panel.open(side, data.animate);\n    },\n    '.panel-close': function close(clickedEl, data = {}) {\n      const app = this;\n      const side = data.panel;\n      app.panel.close(side, data.animate);\n    },\n    '.panel-toggle': function close(clickedEl, data = {}) {\n      const app = this;\n      const side = data.panel;\n      app.panel.toggle(side, data.animate);\n    },\n    '.panel-backdrop': function close() {\n      const app = this;\n      const $panelEl = $('.panel-active');\n      const instance = $panelEl[0] && $panelEl[0].f7Panel;\n      $panelEl.trigger('panel:backdrop-click');\n      if (instance) {\n        instance.emit('backdropClick', instance);\n      }\n      app.emit('panelBackdropClick', instance || $panelEl[0]);\n      if (app.params.panel.closeByBackdropClick) app.panel.close();\n    },\n  },\n};\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\n\nexport default function (colEl, updateItems) {\n  const picker = this;\n  const app = picker.app;\n  const $colEl = $(colEl);\n  const colIndex = $colEl.index();\n  const col = picker.cols[colIndex];\n  if (col.divider) return;\n\n  col.$el = $colEl;\n  col.el = $colEl[0];\n  col.$itemsEl = col.$el.find('.picker-items');\n  col.items = col.$itemsEl.find('.picker-item');\n\n  let itemHeight;\n  let itemsHeight;\n  let minTranslate;\n  let maxTranslate;\n  let animationFrameId;\n\n  function updateDuringScroll() {\n    animationFrameId = Utils.requestAnimationFrame(() => {\n      col.updateItems(undefined, undefined, 0);\n      updateDuringScroll();\n    });\n  }\n\n  col.replaceValues = function replaceColValues(values, displayValues) {\n    col.detachEvents();\n    col.values = values;\n    col.displayValues = displayValues;\n    col.$itemsEl.html(picker.renderColumn(col, true));\n    col.items = col.$itemsEl.find('.picker-item');\n    col.calcSize();\n    col.setValue(col.values[0], 0, true);\n    col.attachEvents();\n  };\n  col.calcSize = function calcColSize() {\n    if (picker.params.rotateEffect) {\n      col.$el.removeClass('picker-column-absolute');\n      if (!col.width) col.$el.css({ width: '' });\n    }\n    let colWidth = 0;\n    const colHeight = col.$el[0].offsetHeight;\n    itemHeight = col.items[0].offsetHeight;\n    itemsHeight = itemHeight * col.items.length;\n    minTranslate = ((colHeight / 2) - itemsHeight) + (itemHeight / 2);\n    maxTranslate = (colHeight / 2) - (itemHeight / 2);\n    if (col.width) {\n      colWidth = col.width;\n      if (parseInt(colWidth, 10) === colWidth) colWidth += 'px';\n      col.$el.css({ width: colWidth });\n    }\n    if (picker.params.rotateEffect) {\n      if (!col.width) {\n        col.items.each((index, itemEl) => {\n          const item = $(itemEl).children('span');\n          colWidth = Math.max(colWidth, item[0].offsetWidth);\n        });\n        col.$el.css({ width: `${colWidth + 2}px` });\n      }\n      col.$el.addClass('picker-column-absolute');\n    }\n  };\n\n  col.setValue = function setColValue(newValue, transition = '', valueCallbacks) {\n    const newActiveIndex = col.$itemsEl.find(`.picker-item[data-picker-value=\"${newValue}\"]`).index();\n    if (typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n      return;\n    }\n    const newTranslate = (-newActiveIndex * itemHeight) + maxTranslate;\n    // Update wrapper\n    col.$itemsEl.transition(transition);\n    col.$itemsEl.transform(`translate3d(0,${newTranslate}px,0)`);\n\n    // Watch items\n    if (picker.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex) {\n      Utils.cancelAnimationFrame(animationFrameId);\n      col.$itemsEl.transitionEnd(() => {\n        Utils.cancelAnimationFrame(animationFrameId);\n      });\n      updateDuringScroll();\n    }\n\n    // Update items\n    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n  };\n\n  col.updateItems = function updateColItems(activeIndex, translate, transition, valueCallbacks) {\n    if (typeof translate === 'undefined') {\n      // eslint-disable-next-line\n      translate = Utils.getTranslate(col.$itemsEl[0], 'y');\n    }\n    // eslint-disable-next-line\n    if (typeof activeIndex === 'undefined') activeIndex = -Math.round((translate - maxTranslate) / itemHeight);\n    // eslint-disable-next-line\n    if (activeIndex < 0) activeIndex = 0;\n    // eslint-disable-next-line\n    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n    const previousActiveIndex = col.activeIndex;\n    col.activeIndex = activeIndex;\n    col.$itemsEl.find('.picker-item-selected').removeClass('picker-item-selected');\n\n    col.items.transition(transition);\n\n    const selectedItem = col.items.eq(activeIndex).addClass('picker-item-selected').transform('');\n\n    // Set 3D rotate effect\n    if (picker.params.rotateEffect) {\n      col.items.each((index, itemEl) => {\n        const $itemEl = $(itemEl);\n        const itemOffsetTop = $itemEl.index() * itemHeight;\n        const translateOffset = maxTranslate - translate;\n        const itemOffset = itemOffsetTop - translateOffset;\n        const percentage = itemOffset / itemHeight;\n        const itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n\n        let angle = (-18 * percentage);\n        if (angle > 180) angle = 180;\n        if (angle < -180) angle = -180;\n        if (Math.abs(percentage) > itemsFit) {\n          $itemEl.addClass('picker-item-far');\n        } else {\n          $itemEl.removeClass('picker-item-far');\n        }\n        $itemEl.transform(`translate3d(0, ${-translate + maxTranslate}px, ${picker.needsOriginFix ? -110 : 0}px) rotateX(${angle}deg)`);\n      });\n    }\n\n    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n      // Update values\n      col.value = selectedItem.attr('data-picker-value');\n      col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value;\n      // On change callback\n      if (previousActiveIndex !== activeIndex) {\n        if (col.onChange) {\n          col.onChange(picker, col.value, col.displayValue);\n        }\n        picker.updateValue();\n      }\n    }\n  };\n\n  let allowItemClick = true;\n  let isTouched;\n  let isMoved;\n  let touchStartY;\n  let touchCurrentY;\n  let touchStartTime;\n  let touchEndTime;\n  let startTranslate;\n  let returnTo;\n  let currentTranslate;\n  let prevTranslate;\n  let velocityTranslate;\n  function handleTouchStart(e) {\n    if (isMoved || isTouched) return;\n    e.preventDefault();\n    isTouched = true;\n    touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchCurrentY = touchStartY;\n    touchStartTime = (new Date()).getTime();\n\n    allowItemClick = true;\n    startTranslate = Utils.getTranslate(col.$itemsEl[0], 'y');\n    currentTranslate = startTranslate;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.preventDefault();\n    allowItemClick = false;\n    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (!isMoved) {\n      // First move\n      Utils.cancelAnimationFrame(animationFrameId);\n      isMoved = true;\n      startTranslate = Utils.getTranslate(col.$itemsEl[0], 'y');\n      currentTranslate = startTranslate;\n      col.$itemsEl.transition(0);\n    }\n\n    const diff = touchCurrentY - touchStartY;\n    currentTranslate = startTranslate + diff;\n    returnTo = undefined;\n\n    // Normalize translate\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate - ((minTranslate - currentTranslate) ** 0.8);\n      returnTo = 'min';\n    }\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate + ((currentTranslate - maxTranslate) ** 0.8);\n      returnTo = 'max';\n    }\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${currentTranslate}px,0)`);\n\n    // Update items\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnTouchmove);\n\n    // Calc velocity\n    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n    prevTranslate = currentTranslate;\n  }\n  function handleTouchEnd() {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    col.$itemsEl.transition('');\n    if (returnTo) {\n      if (returnTo === 'min') {\n        col.$itemsEl.transform(`translate3d(0,${minTranslate}px,0)`);\n      } else {\n        col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`);\n      }\n    }\n    touchEndTime = new Date().getTime();\n    let newTranslate;\n    if (touchEndTime - touchStartTime > 300) {\n      newTranslate = currentTranslate;\n    } else {\n      newTranslate = currentTranslate + (velocityTranslate * picker.params.momentumRatio);\n    }\n\n    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n\n    // Active Index\n    const activeIndex = Math.round(Math.abs(((newTranslate - maxTranslate) / itemHeight)));\n\n    // Normalize translate\n    if (!picker.params.freeMode) newTranslate = (-activeIndex * itemHeight) + maxTranslate;\n\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${parseInt(newTranslate, 10)}px,0)`);\n\n    // Update items\n    col.updateItems(activeIndex, newTranslate, '', true);\n\n    // Watch items\n    if (picker.params.updateValuesOnMomentum) {\n      updateDuringScroll();\n      col.$itemsEl.transitionEnd(() => {\n        Utils.cancelAnimationFrame(animationFrameId);\n      });\n    }\n\n    // Allow click\n    setTimeout(() => {\n      allowItemClick = true;\n    }, 100);\n  }\n\n  let mousewheelTimeout;\n  function handleMouseWheel(e) {\n    const { deltaX, deltaY } = e;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) return;\n    clearTimeout(mousewheelTimeout);\n\n    e.preventDefault();\n\n    Utils.cancelAnimationFrame(animationFrameId);\n    startTranslate = Utils.getTranslate(col.$itemsEl[0], 'y');\n    col.$itemsEl.transition(0);\n\n    currentTranslate = startTranslate - deltaY;\n    returnTo = undefined;\n\n    // Normalize translate\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate;\n      returnTo = 'min';\n    }\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate;\n      returnTo = 'max';\n    }\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${currentTranslate}px,0)`);\n\n    // Update items\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnMousewheel);\n\n    // On end\n    mousewheelTimeout = setTimeout(() => {\n      col.$itemsEl.transition('');\n      if (returnTo) {\n        if (returnTo === 'min') {\n          col.$itemsEl.transform(`translate3d(0,${minTranslate}px,0)`);\n        } else {\n          col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`);\n        }\n      }\n      touchEndTime = new Date().getTime();\n      let newTranslate = currentTranslate;\n      newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n\n      // Active Index\n      const activeIndex = Math.round(Math.abs(((newTranslate - maxTranslate) / itemHeight)));\n\n      // Normalize translate\n      if (!picker.params.freeMode) newTranslate = (-activeIndex * itemHeight) + maxTranslate;\n\n      // Transform wrapper\n      col.$itemsEl.transform(`translate3d(0,${parseInt(newTranslate, 10)}px,0)`);\n\n      // Update items\n      col.updateItems(activeIndex, newTranslate, '', true);\n    }, 200);\n  }\n\n  function handleClick() {\n    if (!allowItemClick) return;\n    Utils.cancelAnimationFrame(animationFrameId);\n    const value = $(this).attr('data-picker-value');\n    col.setValue(value);\n  }\n\n  const activeListener = app.support.passiveListener ? { passive: false, capture: false } : false;\n  col.attachEvents = function attachColEvents() {\n    col.$el.on(app.touchEvents.start, handleTouchStart, activeListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n    if (picker.params.mousewheel) {\n      col.$el.on('wheel', handleMouseWheel);\n    }\n    col.items.on('click', handleClick);\n  };\n  col.detachEvents = function detachColEvents() {\n    col.$el.off(app.touchEvents.start, handleTouchStart, activeListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    if (picker.params.mousewheel) {\n      col.$el.off('wheel', handleMouseWheel);\n    }\n    col.items.off('click', handleClick);\n  };\n\n  col.init = function initCol() {\n    col.calcSize();\n    col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`).transition(0);\n    if (colIndex === 0) col.$el.addClass('picker-column-first');\n    if (colIndex === picker.cols.length - 1) col.$el.addClass('picker-column-last');\n    // Update items on init\n    if (updateItems) col.updateItems(0, maxTranslate, 0);\n\n    col.attachEvents();\n  };\n\n  col.destroy = function destroyCol() {\n    col.detachEvents();\n  };\n\n  col.init();\n}\n","import $ from 'dom7';\nimport { window } from 'ssr-window';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\nimport pickerColumn from './picker-column';\n\nclass Picker extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const picker = this;\n    picker.params = Utils.extend({}, app.params.picker, params);\n\n    let $containerEl;\n    if (picker.params.containerEl) {\n      $containerEl = $(picker.params.containerEl);\n      if ($containerEl.length === 0) return picker;\n    }\n\n    let $inputEl;\n    if (picker.params.inputEl) {\n      $inputEl = $(picker.params.inputEl);\n    }\n\n    let view;\n    if ($inputEl) {\n      view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n    }\n    if (!view) view = app.views.main;\n\n    Utils.extend(picker, {\n      app,\n      $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      needsOriginFix: app.device.ios || ((window.navigator.userAgent.toLowerCase().indexOf('safari') >= 0 && window.navigator.userAgent.toLowerCase().indexOf('chrome') < 0) && !app.device.android),\n      cols: [],\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      initialized: false,\n      opened: false,\n      url: picker.params.url,\n      view,\n    });\n\n    function onResize() {\n      picker.resizeCols();\n    }\n    function onInputClick() {\n      picker.open();\n    }\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n    function onHtmlClick(e) {\n      if (picker.destroyed || !picker.params) return;\n      const $targetEl = $(e.target);\n      if (picker.isPopover()) return;\n      if (!picker.opened || picker.closing) return;\n      if ($targetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($inputEl && $inputEl.length > 0) {\n        if ($targetEl[0] !== $inputEl[0] && $targetEl.closest('.sheet-modal').length === 0) {\n          picker.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal').length === 0) {\n        picker.close();\n      }\n    }\n\n    // Events\n    Utils.extend(picker, {\n      attachResizeEvent() {\n        app.on('resize', onResize);\n      },\n      detachResizeEvent() {\n        app.off('resize', onResize);\n      },\n      attachInputEvents() {\n        picker.$inputEl.on('click', onInputClick);\n        if (picker.params.inputReadOnly) {\n          picker.$inputEl.on('focus mousedown', onInputFocus);\n        }\n      },\n      detachInputEvents() {\n        picker.$inputEl.off('click', onInputClick);\n        if (picker.params.inputReadOnly) {\n          picker.$inputEl.off('focus mousedown', onInputFocus);\n        }\n      },\n      attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n      },\n      detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n      },\n    });\n\n    picker.init();\n\n    return picker;\n  }\n\n  initInput() {\n    const picker = this;\n    if (!picker.$inputEl) return;\n    if (picker.params.inputReadOnly) picker.$inputEl.prop('readOnly', true);\n  }\n\n  resizeCols() {\n    const picker = this;\n    if (!picker.opened) return;\n    for (let i = 0; i < picker.cols.length; i += 1) {\n      if (!picker.cols[i].divider) {\n        picker.cols[i].calcSize();\n        picker.cols[i].setValue(picker.cols[i].value, 0, false);\n      }\n    }\n  }\n\n  isPopover() {\n    const picker = this;\n    const { app, modal, params } = picker;\n    if (params.openIn === 'sheet') return false;\n    if (modal && modal.type !== 'popover') return false;\n\n    if (!picker.inline && picker.inputEl) {\n      if (params.openIn === 'popover') return true;\n      if (app.device.ios) {\n        return !!app.device.ipad;\n      }\n      if (app.width >= 768) {\n        return true;\n      }\n      if (app.device.desktop && app.theme === 'aurora') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  formatValue() {\n    const picker = this;\n    const { value, displayValue } = picker;\n    if (picker.params.formatValue) {\n      return picker.params.formatValue.call(picker, value, displayValue);\n    }\n    return value.join(' ');\n  }\n\n  setValue(values, transition) {\n    const picker = this;\n    let valueIndex = 0;\n    if (picker.cols.length === 0) {\n      picker.value = values;\n      picker.updateValue(values);\n      return;\n    }\n    for (let i = 0; i < picker.cols.length; i += 1) {\n      if (picker.cols[i] && !picker.cols[i].divider) {\n        picker.cols[i].setValue(values[valueIndex], transition);\n        valueIndex += 1;\n      }\n    }\n  }\n\n  getValue() {\n    const picker = this;\n    return picker.value;\n  }\n\n  updateValue(forceValues) {\n    const picker = this;\n    const newValue = forceValues || [];\n    const newDisplayValue = [];\n    let column;\n    if (picker.cols.length === 0) {\n      const noDividerColumns = picker.params.cols.filter(c => !c.divider);\n      for (let i = 0; i < noDividerColumns.length; i += 1) {\n        column = noDividerColumns[i];\n        if (column.displayValues !== undefined && column.values !== undefined && column.values.indexOf(newValue[i]) !== -1) {\n          newDisplayValue.push(column.displayValues[column.values.indexOf(newValue[i])]);\n        } else {\n          newDisplayValue.push(newValue[i]);\n        }\n      }\n    } else {\n      for (let i = 0; i < picker.cols.length; i += 1) {\n        if (!picker.cols[i].divider) {\n          newValue.push(picker.cols[i].value);\n          newDisplayValue.push(picker.cols[i].displayValue);\n        }\n      }\n    }\n\n    if (newValue.indexOf(undefined) >= 0) {\n      return;\n    }\n    picker.value = newValue;\n    picker.displayValue = newDisplayValue;\n    picker.emit('local::change pickerChange', picker, picker.value, picker.displayValue);\n    if (picker.inputEl) {\n      picker.$inputEl.val(picker.formatValue());\n      picker.$inputEl.trigger('change');\n    }\n  }\n\n  initColumn(colEl, updateItems) {\n    const picker = this;\n    pickerColumn.call(picker, colEl, updateItems);\n  }\n  // eslint-disable-next-line\n  destroyColumn(colEl) {\n    const picker = this;\n    const $colEl = $(colEl);\n    const index = $colEl.index();\n    if (picker.cols[index] && picker.cols[index].destroy) {\n      picker.cols[index].destroy();\n    }\n  }\n\n  renderToolbar() {\n    const picker = this;\n    if (picker.params.renderToolbar) return picker.params.renderToolbar.call(picker, picker);\n    return `\n      <div class=\"toolbar toolbar-top no-shadow\">\n        <div class=\"toolbar-inner\">\n          <div class=\"left\"></div>\n          <div class=\"right\">\n            <a class=\"link sheet-close popover-close\">${picker.params.toolbarCloseText}</a>\n          </div>\n        </div>\n      </div>\n    `.trim();\n  }\n  // eslint-disable-next-line\n  renderColumn(col, onlyItems) {\n    const colClasses = `picker-column ${col.textAlign ? `picker-column-${col.textAlign}` : ''} ${col.cssClass || ''}`;\n    let columnHtml;\n    let columnItemsHtml;\n\n    if (col.divider) {\n      columnHtml = `\n        <div class=\"${colClasses} picker-column-divider\">${col.content}</div>\n      `;\n    } else {\n      columnItemsHtml = col.values.map((value, index) => `\n        <div class=\"picker-item\" data-picker-value=\"${value}\">\n          <span>${col.displayValues ? col.displayValues[index] : value}</span>\n        </div>\n      `).join('');\n      columnHtml = `\n        <div class=\"${colClasses}\">\n          <div class=\"picker-items\">${columnItemsHtml}</div>\n        </div>\n      `;\n    }\n\n    return onlyItems ? columnItemsHtml.trim() : columnHtml.trim();\n  }\n\n  renderInline() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const inlineHtml = `\n      <div class=\"picker picker-inline ${rotateEffect ? 'picker-3d' : ''} ${cssClass || ''}\">\n        ${toolbar ? picker.renderToolbar() : ''}\n        <div class=\"picker-columns\">\n          ${picker.cols.map(col => picker.renderColumn(col)).join('')}\n          <div class=\"picker-center-highlight\"></div>\n        </div>\n      </div>\n    `.trim();\n\n    return inlineHtml;\n  }\n\n  renderSheet() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const sheetHtml = `\n      <div class=\"sheet-modal picker picker-sheet ${rotateEffect ? 'picker-3d' : ''} ${cssClass || ''}\">\n        ${toolbar ? picker.renderToolbar() : ''}\n        <div class=\"sheet-modal-inner picker-columns\">\n          ${picker.cols.map(col => picker.renderColumn(col)).join('')}\n          <div class=\"picker-center-highlight\"></div>\n        </div>\n      </div>\n    `.trim();\n\n    return sheetHtml;\n  }\n\n  renderPopover() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const popoverHtml = `\n      <div class=\"popover picker-popover\">\n        <div class=\"popover-inner\">\n          <div class=\"picker ${rotateEffect ? 'picker-3d' : ''} ${cssClass || ''}\">\n            ${toolbar ? picker.renderToolbar() : ''}\n            <div class=\"picker-columns\">\n              ${picker.cols.map(col => picker.renderColumn(col)).join('')}\n              <div class=\"picker-center-highlight\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `.trim();\n\n    return popoverHtml;\n  }\n\n  render() {\n    const picker = this;\n    if (picker.params.render) return picker.params.render.call(picker);\n    if (!picker.inline) {\n      if (picker.isPopover()) return picker.renderPopover();\n      return picker.renderSheet();\n    }\n    return picker.renderInline();\n  }\n\n  onOpen() {\n    const picker = this;\n    const { initialized, $el, app, $inputEl, inline, value, params } = picker;\n    picker.opened = true;\n    picker.closing = false;\n    picker.opening = true;\n\n    // Init main events\n    picker.attachResizeEvent();\n\n    // Init cols\n    $el.find('.picker-column').each((index, colEl) => {\n      let updateItems = true;\n      if (\n        (!initialized && params.value)\n        || (initialized && value)\n      ) {\n        updateItems = false;\n      }\n      picker.initColumn(colEl, updateItems);\n    });\n\n    // Set value\n    if (!initialized) {\n      if (value) picker.setValue(value, 0);\n      else if (params.value) {\n        picker.setValue(params.value, 0);\n      }\n    } else if (value) {\n      picker.setValue(value, 0);\n    }\n\n    // Extra focus\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    picker.initialized = true;\n\n    // Trigger events\n    if ($el) {\n      $el.trigger('picker:open', picker);\n    }\n    if ($inputEl) {\n      $inputEl.trigger('picker:open', picker);\n    }\n    picker.emit('local::open pickerOpen', picker);\n  }\n\n  onOpened() {\n    const picker = this;\n    picker.opening = false;\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:opened', picker);\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:opened', picker);\n    }\n    picker.emit('local::opened pickerOpened', picker);\n  }\n\n  onClose() {\n    const picker = this;\n    const app = picker.app;\n    picker.opening = false;\n    picker.closing = true;\n\n    // Detach events\n    picker.detachResizeEvent();\n\n    picker.cols.forEach((col) => {\n      if (col.destroy) col.destroy();\n    });\n    if (picker.$inputEl && app.theme === 'md') {\n      picker.$inputEl.trigger('blur');\n    }\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:close', picker);\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:close', picker);\n    }\n    picker.emit('local::close pickerClose', picker);\n  }\n\n  onClosed() {\n    const picker = this;\n    picker.opened = false;\n    picker.closing = false;\n\n    if (!picker.inline) {\n      Utils.nextTick(() => {\n        if (picker.modal && picker.modal.el && picker.modal.destroy) {\n          if (!picker.params.routableModals) {\n            picker.modal.destroy();\n          }\n        }\n        delete picker.modal;\n      });\n    }\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:closed', picker);\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:closed', picker);\n    }\n    picker.emit('local::closed pickerClosed', picker);\n  }\n\n  open() {\n    const picker = this;\n    const { app, opened, inline, $inputEl } = picker;\n    if (opened) return;\n    if (picker.cols.length === 0 && picker.params.cols.length) {\n      picker.params.cols.forEach((col) => {\n        picker.cols.push(col);\n      });\n    }\n    if (inline) {\n      picker.$el = $(picker.render());\n      picker.$el[0].f7Picker = picker;\n      picker.$containerEl.append(picker.$el);\n      picker.onOpen();\n      picker.onOpened();\n      return;\n    }\n    const isPopover = picker.isPopover();\n    const modalType = isPopover ? 'popover' : 'sheet';\n    const modalParams = {\n      targetEl: $inputEl,\n      scrollToEl: picker.params.scrollToInput ? $inputEl : undefined,\n      content: picker.render(),\n      backdrop: isPopover,\n      on: {\n        open() {\n          const modal = this;\n          picker.modal = modal;\n          picker.$el = isPopover ? modal.$el.find('.picker') : modal.$el;\n          picker.$el[0].f7Picker = picker;\n          picker.onOpen();\n        },\n        opened() { picker.onOpened(); },\n        close() { picker.onClose(); },\n        closed() { picker.onClosed(); },\n      },\n    };\n    if (picker.params.routableModals) {\n      picker.view.router.navigate({\n        url: picker.url,\n        route: {\n          path: picker.url,\n          [modalType]: modalParams,\n        },\n      });\n    } else {\n      picker.modal = app[modalType].create(modalParams);\n      picker.modal.open();\n    }\n  }\n\n  close() {\n    const picker = this;\n    const { opened, inline } = picker;\n    if (!opened) return;\n    if (inline) {\n      picker.onClose();\n      picker.onClosed();\n      return;\n    }\n    if (picker.params.routableModals) {\n      picker.view.router.back();\n    } else {\n      picker.modal.close();\n    }\n  }\n\n  init() {\n    const picker = this;\n\n    picker.initInput();\n\n    if (picker.inline) {\n      picker.open();\n      picker.emit('local::init pickerInit', picker);\n      return;\n    }\n\n    if (!picker.initialized && picker.params.value) {\n      picker.setValue(picker.params.value);\n    }\n\n    // Attach input Events\n    if (picker.$inputEl) {\n      picker.attachInputEvents();\n    }\n    if (picker.params.closeByOutsideClick) {\n      picker.attachHtmlEvents();\n    }\n    picker.emit('local::init pickerInit', picker);\n  }\n\n  destroy() {\n    const picker = this;\n    if (picker.destroyed) return;\n    const { $el } = picker;\n    picker.emit('local::beforeDestroy pickerBeforeDestroy', picker);\n    if ($el) $el.trigger('picker:beforedestroy', picker);\n\n    picker.close();\n\n    // Detach Events\n    if (picker.$inputEl) {\n      picker.detachInputEvents();\n    }\n    if (picker.params.closeByOutsideClick) {\n      picker.detachHtmlEvents();\n    }\n\n    if ($el && $el.length) delete picker.$el[0].f7Picker;\n    Utils.deleteProps(picker);\n    picker.destroyed = true;\n  }\n}\n\nexport default Picker;\n","import $ from 'dom7';\nimport ConstructorMethods from '../../utils/constructor-methods';\nimport Picker from './picker-class';\n\nexport default {\n  name: 'picker',\n  static: {\n    Picker,\n  },\n  create() {\n    const app = this;\n    app.picker = ConstructorMethods({\n      defaultSelector: '.picker',\n      constructor: Picker,\n      app,\n      domProp: 'f7Picker',\n    });\n    app.picker.close = function close(el = '.picker') {\n      const $el = $(el);\n      if ($el.length === 0) return;\n      const picker = $el[0].f7Picker;\n      if (!picker || (picker && !picker.opened)) return;\n      picker.close();\n    };\n  },\n  params: {\n    picker: {\n      // Picker settings\n      updateValuesOnMomentum: false,\n      updateValuesOnTouchmove: true,\n      updateValuesOnMousewheel: true,\n      mousewheel: true,\n      rotateEffect: false,\n      momentumRatio: 7,\n      freeMode: false,\n      cols: [],\n      // Common opener settings\n      containerEl: null,\n      openIn: 'auto', // or 'popover' or 'sheet'\n      formatValue: null,\n      inputEl: null,\n      inputReadOnly: true,\n      closeByOutsideClick: true,\n      scrollToInput: true,\n      toolbar: true,\n      toolbarCloseText: 'Done',\n      cssClass: null,\n      routableModals: true,\n      view: null,\n      url: 'select/',\n      // Render functions\n      renderToolbar: null,\n      render: null,\n    },\n  },\n};\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Modal from './modal-class';\n\nclass CustomModal extends Modal {\n  constructor(app, params) {\n    const extendedParams = Utils.extend({\n      backdrop: true,\n      closeByBackdropClick: true,\n      on: {},\n    }, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const customModal = this;\n\n    customModal.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!customModal.params.el) {\n      $el = $(customModal.params.content);\n    } else {\n      $el = $(customModal.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return customModal.destroy();\n    }\n    let $backdropEl;\n    if (customModal.params.backdrop) {\n      $backdropEl = app.root.children('.custom-modal-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"custom-modal-backdrop\"></div>');\n        app.root.append($backdropEl);\n      }\n    }\n\n    function handleClick(e) {\n      if (!customModal || customModal.destroyed) return;\n      if ($backdropEl && e.target === $backdropEl[0]) {\n        customModal.close();\n      }\n    }\n\n    customModal.on('customModalOpened', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.on('click', handleClick);\n      }\n    });\n    customModal.on('customModalClose', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.off('click', handleClick);\n      }\n    });\n\n    Utils.extend(customModal, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'customModal',\n    });\n\n    $el[0].f7Modal = customModal;\n\n    return customModal;\n  }\n}\nexport default CustomModal;\n","import Modal from './modal-class';\nimport CustomModal from './custom-modal-class';\n\nexport default {\n  name: 'modal',\n  static: {\n    Modal,\n    CustomModal,\n  },\n  create() {\n    const app = this;\n    app.customModal = {\n      create(params) {\n        return new CustomModal(app, params);\n      },\n    };\n  },\n  params: {\n    modal: {\n      moveToRoot: true,\n      queueDialogs: true,\n    },\n  },\n};\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\n\nclass Messages extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const m = this;\n\n    const defaults = {\n      autoLayout: true,\n      messages: [],\n      newMessagesFirst: false,\n      scrollMessages: true,\n      scrollMessagesOnEdge: true,\n      firstMessageRule: undefined,\n      lastMessageRule: undefined,\n      tailMessageRule: undefined,\n      sameNameMessageRule: undefined,\n      sameHeaderMessageRule: undefined,\n      sameFooterMessageRule: undefined,\n      sameAvatarMessageRule: undefined,\n      customClassMessageRule: undefined,\n      renderMessage: undefined,\n    };\n\n    // Extend defaults with modules params\n    m.useModulesParams(defaults);\n\n    m.params = Utils.extend(defaults, params);\n\n    const $el = $(params.el).eq(0);\n    if ($el.length === 0) return m;\n\n    if ($el[0].f7Messages) return $el[0].f7Messages;\n\n    $el[0].f7Messages = m;\n\n    const $pageContentEl = $el.closest('.page-content').eq(0);\n\n    Utils.extend(m, {\n      messages: m.params.messages,\n      $el,\n      el: $el[0],\n      $pageContentEl,\n      pageContentEl: $pageContentEl[0],\n\n    });\n    // Install Modules\n    m.useModules();\n\n    // Init\n    m.init();\n\n    return m;\n  }\n  // eslint-disable-next-line\n  getMessageData(messageEl) {\n    const $messageEl = $(messageEl);\n    const data = {\n      name: $messageEl.find('.message-name').html(),\n      header: $messageEl.find('.message-header').html(),\n      textHeader: $messageEl.find('.message-text-header').html(),\n      textFooter: $messageEl.find('.message-text-footer').html(),\n      footer: $messageEl.find('.message-footer').html(),\n      isTitle: $messageEl.hasClass('messages-title'),\n      type: $messageEl.hasClass('message-sent') ? 'sent' : 'received',\n      text: $messageEl.find('.message-text').html(),\n      image: $messageEl.find('.message-image').html(),\n      imageSrc: $messageEl.find('.message-image img').attr('src'),\n      typing: $messageEl.hasClass('message-typing'),\n    };\n    if (data.isTitle) {\n      data.text = $messageEl.html();\n    }\n    if (data.text && data.textHeader) {\n      data.text = data.text.replace(`<div class=\"message-text-header\">${data.textHeader}</div>`, '');\n    }\n    if (data.text && data.textFooter) {\n      data.text = data.text.replace(`<div class=\"message-text-footer\">${data.textFooter}</div>`, '');\n    }\n    let avatar = $messageEl.find('.message-avatar').css('background-image');\n    if (avatar === 'none' || avatar === '') avatar = undefined;\n    if (avatar && typeof avatar === 'string') {\n      avatar = avatar.replace('url(', '').replace(')', '').replace(/\"/g, '').replace(/'/g, '');\n    } else {\n      avatar = undefined;\n    }\n    data.avatar = avatar;\n\n    return data;\n  }\n\n  getMessagesData() {\n    const m = this;\n    const data = [];\n    m.$el.find('.message, .messages-title').each((index, messageEl) => {\n      data.push(m.getMessageData(messageEl));\n    });\n    return data;\n  }\n\n  renderMessage(messageToRender) {\n    const m = this;\n    const message = Utils.extend({\n      type: 'sent',\n      attrs: {},\n    }, messageToRender);\n    if (m.params.renderMessage) {\n      return m.params.renderMessage.call(m, message);\n    }\n    if (message.isTitle) {\n      return `<div class=\"messages-title\">${message.text}</div>`;\n    }\n    const attrs = Object.keys(message.attrs).map(attr => `${attr}=\"${message.attrs[attr]}\"`).join(' ');\n    return `\n      <div class=\"message message-${message.type} ${message.isTyping ? 'message-typing' : ''} ${message.cssClass || ''}\" ${attrs}>\n        ${message.avatar ? `\n        <div class=\"message-avatar\" style=\"background-image:url(${message.avatar})\"></div>\n        ` : ''}\n        <div class=\"message-content\">\n          ${message.name ? `<div class=\"message-name\">${message.name}</div>` : ''}\n          ${message.header ? `<div class=\"message-header\">${message.header}</div>` : ''}\n          <div class=\"message-bubble\">\n            ${message.textHeader ? `<div class=\"message-text-header\">${message.textHeader}</div>` : ''}\n            ${message.image ? `<div class=\"message-image\">${message.image}</div>` : ''}\n            ${message.imageSrc && !message.image ? `<div class=\"message-image\"><img src=\"${message.imageSrc}\"></div>` : ''}\n            ${message.text || message.isTyping ? `<div class=\"message-text\">${message.text || ''}${message.isTyping ? '<div class=\"message-typing-indicator\"><div></div><div></div><div></div></div>' : ''}</div>` : ''}\n            ${message.textFooter ? `<div class=\"message-text-footer\">${message.textFooter}</div>` : ''}\n          </div>\n          ${message.footer ? `<div class=\"message-footer\">${message.footer}</div>` : ''}\n        </div>\n      </div>\n    `;\n  }\n\n  renderMessages(messagesToRender = this.messages, method = this.params.newMessagesFirst ? 'prepend' : 'append') {\n    const m = this;\n    const html = messagesToRender.map(message => m.renderMessage(message)).join('');\n    m.$el[method](html);\n  }\n\n  isFirstMessage(...args) {\n    const m = this;\n    if (m.params.firstMessageRule) return m.params.firstMessageRule(...args);\n    return false;\n  }\n\n  isLastMessage(...args) {\n    const m = this;\n    if (m.params.lastMessageRule) return m.params.lastMessageRule(...args);\n    return false;\n  }\n\n  isTailMessage(...args) {\n    const m = this;\n    if (m.params.tailMessageRule) return m.params.tailMessageRule(...args);\n    return false;\n  }\n\n  isSameNameMessage(...args) {\n    const m = this;\n    if (m.params.sameNameMessageRule) return m.params.sameNameMessageRule(...args);\n    return false;\n  }\n\n  isSameHeaderMessage(...args) {\n    const m = this;\n    if (m.params.sameHeaderMessageRule) return m.params.sameHeaderMessageRule(...args);\n    return false;\n  }\n\n  isSameFooterMessage(...args) {\n    const m = this;\n    if (m.params.sameFooterMessageRule) return m.params.sameFooterMessageRule(...args);\n    return false;\n  }\n\n  isSameAvatarMessage(...args) {\n    const m = this;\n    if (m.params.sameAvatarMessageRule) return m.params.sameAvatarMessageRule(...args);\n    return false;\n  }\n\n  isCustomClassMessage(...args) {\n    const m = this;\n    if (m.params.customClassMessageRule) return m.params.customClassMessageRule(...args);\n    return undefined;\n  }\n\n  layout() {\n    const m = this;\n    m.$el.find('.message, .messages-title').each((index, messageEl) => {\n      const $messageEl = $(messageEl);\n      if (!m.messages) {\n        m.messages = m.getMessagesData();\n      }\n      const classes = [];\n      const message = m.messages[index];\n      const previousMessage = m.messages[index - 1];\n      const nextMessage = m.messages[index + 1];\n      if (m.isFirstMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-first');\n      }\n      if (m.isLastMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-last');\n      }\n      if (m.isTailMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-tail');\n      }\n      if (m.isSameNameMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-name');\n      }\n      if (m.isSameHeaderMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-header');\n      }\n      if (m.isSameFooterMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-footer');\n      }\n      if (m.isSameAvatarMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-avatar');\n      }\n      let customMessageClasses = m.isCustomClassMessage(message, previousMessage, nextMessage);\n      if (customMessageClasses && customMessageClasses.length) {\n        if (typeof customMessageClasses === 'string') {\n          customMessageClasses = customMessageClasses.split(' ');\n        }\n        customMessageClasses.forEach((customClass) => {\n          classes.push(customClass);\n        });\n      }\n      $messageEl.removeClass('message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar');\n      classes.forEach((className) => {\n        $messageEl.addClass(className);\n      });\n    });\n  }\n\n  clear() {\n    const m = this;\n    m.messages = [];\n    m.$el.html('');\n  }\n\n  removeMessage(messageToRemove, layout = true) {\n    const m = this;\n    // Index or El\n    let index;\n    let $el;\n    if (typeof messageToRemove === 'number') {\n      index = messageToRemove;\n      $el = m.$el.find('.message, .messages-title').eq(index);\n    } else if (m.messages && m.messages.indexOf(messageToRemove) >= 0) {\n      index = m.messages.indexOf(messageToRemove);\n      $el = m.$el.children().eq(index);\n    } else {\n      $el = $(messageToRemove);\n      index = $el.index();\n    }\n    if ($el.length === 0) {\n      return m;\n    }\n    $el.remove();\n    m.messages.splice(index, 1);\n    if (m.params.autoLayout && layout) m.layout();\n    return m;\n  }\n\n  removeMessages(messagesToRemove, layout = true) {\n    const m = this;\n    if (Array.isArray(messagesToRemove)) {\n      const messagesToRemoveEls = [];\n      messagesToRemove.forEach((messageToRemoveIndex) => {\n        messagesToRemoveEls.push(m.$el.find('.message, .messages-title').eq(messageToRemoveIndex));\n      });\n      messagesToRemoveEls.forEach((messageToRemove) => {\n        m.removeMessage(messageToRemove, false);\n      });\n    } else {\n      $(messagesToRemove).each((index, messageToRemove) => {\n        m.removeMessage(messageToRemove, false);\n      });\n    }\n    if (m.params.autoLayout && layout) m.layout();\n    return m;\n  }\n\n  addMessage(...args) {\n    const m = this;\n    let messageToAdd;\n    let animate;\n    let method;\n    if (typeof args[1] === 'boolean') {\n      [messageToAdd, animate, method] = args;\n    } else {\n      [messageToAdd, method, animate] = args;\n    }\n    if (typeof animate === 'undefined') {\n      animate = true;\n    }\n    if (typeof method === 'undefined') {\n      method = m.params.newMessagesFirst ? 'prepend' : 'append';\n    }\n\n    return m.addMessages([messageToAdd], animate, method);\n  }\n\n  addMessages(...args) {\n    const m = this;\n    let messagesToAdd;\n    let animate;\n    let method;\n    if (typeof args[1] === 'boolean') {\n      [messagesToAdd, animate, method] = args;\n    } else {\n      [messagesToAdd, method, animate] = args;\n    }\n    if (typeof animate === 'undefined') {\n      animate = true;\n    }\n    if (typeof method === 'undefined') {\n      method = m.params.newMessagesFirst ? 'prepend' : 'append';\n    }\n\n    // Define scroll positions before new messages added\n    const scrollHeightBefore = m.pageContentEl.scrollHeight;\n    const heightBefore = m.pageContentEl.offsetHeight;\n    const scrollBefore = m.pageContentEl.scrollTop;\n\n    // Add message to DOM and data\n    let messagesHTML = '';\n    const typingMessage = m.messages.filter(el => el.isTyping)[0];\n    messagesToAdd.forEach((messageToAdd) => {\n      if (typingMessage) {\n        if (method === 'append') {\n          m.messages.splice(m.messages.indexOf(typingMessage), 0, messageToAdd);\n        } else {\n          m.messages.splice(m.messages.indexOf(typingMessage) + 1, 0, messageToAdd);\n        }\n      } else {\n        m.messages[method === 'append' ? 'push' : 'unshift'](messageToAdd);\n      }\n      messagesHTML += m.renderMessage(messageToAdd);\n    });\n    const $messagesEls = $(messagesHTML);\n    if (animate) {\n      if (method === 'append' && !m.params.newMessagesFirst) {\n        $messagesEls.addClass('message-appear-from-bottom');\n      }\n      if (method === 'prepend' && m.params.newMessagesFirst) {\n        $messagesEls.addClass('message-appear-from-top');\n      }\n    }\n    if (typingMessage) {\n      if (method === 'append') {\n        $messagesEls.insertBefore(m.$el.find('.message-typing'));\n      } else {\n        $messagesEls.insertAfter(m.$el.find('.message-typing'));\n      }\n    } else {\n      m.$el[method]($messagesEls);\n    }\n\n    // Layout\n    if (m.params.autoLayout) m.layout();\n\n    if (method === 'prepend' && !typingMessage) {\n      m.pageContentEl.scrollTop = scrollBefore + (m.pageContentEl.scrollHeight - scrollHeightBefore);\n    }\n\n    if (m.params.scrollMessages && ((method === 'append' && !m.params.newMessagesFirst) || (method === 'prepend' && m.params.newMessagesFirst && !typingMessage))) {\n      if (m.params.scrollMessagesOnEdge) {\n        let onEdge = false;\n        if (m.params.newMessagesFirst && scrollBefore === 0) {\n          onEdge = true;\n        }\n        if (!m.params.newMessagesFirst && (scrollBefore - (scrollHeightBefore - heightBefore) >= -10)) {\n          onEdge = true;\n        }\n        if (onEdge) m.scroll(animate ? undefined : 0);\n      } else {\n        m.scroll(animate ? undefined : 0);\n      }\n    }\n\n    return m;\n  }\n\n  showTyping(message = {}) {\n    const m = this;\n    const typingMessage = m.messages.filter(el => el.isTyping)[0];\n    if (typingMessage) {\n      m.removeMessage(m.messages.indexOf(typingMessage));\n    }\n    m.addMessage(Utils.extend({\n      type: 'received',\n      isTyping: true,\n    }, message));\n    return m;\n  }\n\n  hideTyping() {\n    const m = this;\n    let typingMessageIndex;\n    let typingFound;\n    m.messages.forEach((message, index) => {\n      if (message.isTyping) typingMessageIndex = index;\n    });\n    if (typeof typingMessageIndex !== 'undefined') {\n      if (m.$el.find('.message').eq(typingMessageIndex).hasClass('message-typing')) {\n        typingFound = true;\n        m.removeMessage(typingMessageIndex);\n      }\n    }\n    if (!typingFound) {\n      const $typingMessageEl = m.$el.find('.message-typing');\n      if ($typingMessageEl.length) {\n        m.removeMessage($typingMessageEl);\n      }\n    }\n    return m;\n  }\n\n  scroll(duration = 300, scrollTop) {\n    const m = this;\n    const currentScroll = m.pageContentEl.scrollTop;\n    let newScrollTop;\n    if (typeof scrollTop !== 'undefined') newScrollTop = scrollTop;\n    else {\n      newScrollTop = m.params.newMessagesFirst ? 0 : m.pageContentEl.scrollHeight - m.pageContentEl.offsetHeight;\n      if (newScrollTop === currentScroll) return m;\n    }\n    m.$pageContentEl.scrollTop(newScrollTop, duration);\n    return m;\n  }\n\n  init() {\n    const m = this;\n    if (!m.messages || m.messages.length === 0) {\n      m.messages = m.getMessagesData();\n    }\n    if (m.params.messages && m.params.messages.length) {\n      m.renderMessages();\n    }\n    if (m.params.autoLayout) m.layout();\n    if (m.params.scrollMessages) m.scroll(0);\n  }\n\n  destroy() {\n    const m = this;\n    m.emit('local::beforeDestroy messagesBeforeDestroy', m);\n    m.$el.trigger('messages:beforedestroy', m);\n    if (m.$el[0]) {\n      m.$el[0].f7Messages = null;\n      delete m.$el[0].f7Messages;\n    }\n    Utils.deleteProps(m);\n  }\n}\n\nexport default Messages;\n","import $ from 'dom7';\nimport Messages from './messages-class';\nimport ConstructorMethods from '../../utils/constructor-methods';\n\nexport default {\n  name: 'messages',\n  static: {\n    Messages,\n  },\n  create() {\n    const app = this;\n    app.messages = ConstructorMethods({\n      defaultSelector: '.messages',\n      constructor: Messages,\n      app,\n      domProp: 'f7Messages',\n      addMethods: 'renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages'.split(' '),\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl).find('.messages-init').each((index, messagesEl) => {\n        app.messages.destroy(messagesEl);\n      });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl).find('.messages-init').each((index, messagesEl) => {\n        app.messages.create({ el: messagesEl });\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.messages-init').each((index, messagesEl) => {\n        app.messages.destroy(messagesEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.messages-init').each((index, messagesEl) => {\n        app.messages.create({ el: messagesEl });\n      });\n    },\n  },\n  vnode: {\n    'messages-init': {\n      insert(vnode) {\n        const app = this;\n        const messagesEl = vnode.elm;\n        app.messages.create({ el: messagesEl });\n      },\n      destroy(vnode) {\n        const app = this;\n        const messagesEl = vnode.elm;\n        app.messages.destroy(messagesEl);\n      },\n    },\n  },\n};\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\n\nclass Messagebar extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const messagebar = this;\n\n    const defaults = {\n      top: false,\n      topOffset: 0,\n      bottomOffset: 0,\n      attachments: [],\n      renderAttachments: undefined,\n      renderAttachment: undefined,\n      maxHeight: null,\n      resizePage: true,\n    };\n\n    // Extend defaults with modules params\n    messagebar.useModulesParams(defaults);\n\n    messagebar.params = Utils.extend(defaults, params);\n\n    // El\n    const $el = $(messagebar.params.el);\n    if ($el.length === 0) return messagebar;\n\n    if ($el[0].f7Messagebar) return $el[0].f7Messagebar;\n\n    $el[0].f7Messagebar = messagebar;\n\n    // Page and PageContent\n    const $pageEl = $el.parents('.page').eq(0);\n    const $pageContentEl = $pageEl.find('.page-content').eq(0);\n\n    // Area\n    const $areaEl = $el.find('.messagebar-area');\n\n    // Textarea\n    let $textareaEl;\n    if (messagebar.params.textareaEl) {\n      $textareaEl = $(messagebar.params.textareaEl);\n    } else {\n      $textareaEl = $el.find('textarea');\n    }\n\n    // Attachments & Library\n    const $attachmentsEl = $el.find('.messagebar-attachments');\n    const $sheetEl = $el.find('.messagebar-sheet');\n\n    if (messagebar.params.top) {\n      $el.addClass('messagebar-top');\n    }\n\n    Utils.extend(messagebar, {\n      $el,\n      el: $el[0],\n      $areaEl,\n      areaEl: $areaEl[0],\n      $textareaEl,\n      textareaEl: $textareaEl[0],\n      $attachmentsEl,\n      attachmentsEl: $attachmentsEl[0],\n      attachmentsVisible: $attachmentsEl.hasClass('messagebar-attachments-visible'),\n      $sheetEl,\n      sheetEl: $sheetEl[0],\n      sheetVisible: $sheetEl.hasClass('messagebar-sheet-visible'),\n      $pageEl,\n      pageEl: $pageEl[0],\n      $pageContentEl,\n      pageContentEl: $pageContentEl,\n      top: $el.hasClass('messagebar-top') || messagebar.params.top,\n      attachments: [],\n    });\n\n    // Events\n    function onAppResize() {\n      if (messagebar.params.resizePage) {\n        messagebar.resizePage();\n      }\n    }\n    function onSubmit(e) {\n      e.preventDefault();\n    }\n    function onAttachmentClick(e) {\n      const index = $(this).index();\n      if ($(e.target).closest('.messagebar-attachment-delete').length) {\n        $(this).trigger('messagebar:attachmentdelete', index);\n        messagebar.emit('local::attachmentDelete messagebarAttachmentDelete', messagebar, this, index);\n      } else {\n        $(this).trigger('messagebar:attachmentclick', index);\n        messagebar.emit('local::attachmentClick messagebarAttachmentClick', messagebar, this, index);\n      }\n    }\n    function onTextareaChange() {\n      messagebar.checkEmptyState();\n      messagebar.$el.trigger('messagebar:change');\n      messagebar.emit('local::change messagebarChange', messagebar);\n    }\n    function onTextareaFocus() {\n      messagebar.sheetHide();\n      messagebar.$el.addClass('messagebar-focused');\n      messagebar.$el.trigger('messagebar:focus');\n      messagebar.emit('local::focus messagebarFocus', messagebar);\n    }\n    function onTextareaBlur() {\n      messagebar.$el.removeClass('messagebar-focused');\n      messagebar.$el.trigger('messagebar:blur');\n      messagebar.emit('local::blur messagebarBlur', messagebar);\n    }\n\n    messagebar.attachEvents = function attachEvents() {\n      $el.on('textarea:resize', onAppResize);\n      $el.on('submit', onSubmit);\n      $el.on('click', '.messagebar-attachment', onAttachmentClick);\n      $textareaEl.on('change input', onTextareaChange);\n      $textareaEl.on('focus', onTextareaFocus);\n      $textareaEl.on('blur', onTextareaBlur);\n      app.on('resize', onAppResize);\n    };\n    messagebar.detachEvents = function detachEvents() {\n      $el.off('textarea:resize', onAppResize);\n      $el.off('submit', onSubmit);\n      $el.off('click', '.messagebar-attachment', onAttachmentClick);\n      $textareaEl.off('change input', onTextareaChange);\n      $textareaEl.off('focus', onTextareaFocus);\n      $textareaEl.off('blur', onTextareaBlur);\n      app.off('resize', onAppResize);\n    };\n\n\n    // Install Modules\n    messagebar.useModules();\n\n    // Init\n    messagebar.init();\n\n    return messagebar;\n  }\n\n  focus() {\n    const messagebar = this;\n    messagebar.$textareaEl.focus();\n    return messagebar;\n  }\n\n  blur() {\n    const messagebar = this;\n    messagebar.$textareaEl.blur();\n    return messagebar;\n  }\n\n  clear() {\n    const messagebar = this;\n    messagebar.$textareaEl.val('').trigger('change');\n    return messagebar;\n  }\n\n  getValue() {\n    const messagebar = this;\n    return messagebar.$textareaEl.val().trim();\n  }\n\n  setValue(value) {\n    const messagebar = this;\n    messagebar.$textareaEl.val(value).trigger('change');\n    return messagebar;\n  }\n\n  setPlaceholder(placeholder) {\n    const messagebar = this;\n    messagebar.$textareaEl.attr('placeholder', placeholder);\n    return messagebar;\n  }\n\n  resizePage() {\n    const messagebar = this;\n    const {\n      params,\n      $el,\n      top,\n      $pageEl,\n      $pageContentEl,\n      $areaEl,\n      $textareaEl,\n      $sheetEl,\n      $attachmentsEl,\n    } = messagebar;\n    const elHeight = $el[0].offsetHeight;\n    let maxHeight = params.maxHeight;\n    if (top) {\n      /*\n      Disable at the moment\n      const requiredPaddingTop = elHeight + params.topOffset;\n      const currentPaddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n      if (requiredPaddingTop !== currentPaddingTop) {\n        if (!maxHeight) {\n          maxHeight = $pageEl[0].offsetHeight - currentPaddingTop - $sheetEl.outerHeight() - $attachmentsEl.outerHeight() - parseInt($areaEl.css('margin-top'), 10) - parseInt($areaEl.css('margin-bottom'), 10);\n        }\n        $textareaEl.css('max-height', `${maxHeight}px`);\n        $pageContentEl.css('padding-top', `${requiredPaddingTop}px`);\n        $el.trigger('messagebar:resizePage');\n        messagebar.emit('local::resizepage messagebarResizePage');\n      }\n      */\n    } else {\n      const currentPaddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n      const requiredPaddingBottom = elHeight + params.bottomOffset;\n      if (requiredPaddingBottom !== currentPaddingBottom && $pageContentEl.length) {\n        const currentPaddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n        const pageScrollHeight = $pageContentEl[0].scrollHeight;\n        const pageOffsetHeight = $pageContentEl[0].offsetHeight;\n        const pageScrollTop = $pageContentEl[0].scrollTop;\n        const scrollOnBottom = (pageScrollTop === pageScrollHeight - pageOffsetHeight);\n        if (!maxHeight) {\n          maxHeight = $pageEl[0].offsetHeight - currentPaddingTop - $sheetEl.outerHeight() - $attachmentsEl.outerHeight() - parseInt($areaEl.css('margin-top'), 10) - parseInt($areaEl.css('margin-bottom'), 10);\n        }\n        $textareaEl.css('max-height', `${maxHeight}px`);\n        $pageContentEl.css('padding-bottom', `${requiredPaddingBottom}px`);\n        if (scrollOnBottom) {\n          $pageContentEl.scrollTop($pageContentEl[0].scrollHeight - pageOffsetHeight);\n        }\n        $el.trigger('messagebar:resizepage');\n        messagebar.emit('local::resizePage messagebarResizePage', messagebar);\n      }\n    }\n  }\n\n  checkEmptyState() {\n    const messagebar = this;\n    const { $el, $textareaEl } = messagebar;\n    const value = $textareaEl.val().trim();\n    if (value && value.length) {\n      $el.addClass('messagebar-with-value');\n    } else {\n      $el.removeClass('messagebar-with-value');\n    }\n  }\n\n  attachmentsCreate(innerHTML = '') {\n    const messagebar = this;\n    const $attachmentsEl = $(`<div class=\"messagebar-attachments\">${innerHTML}</div>`);\n    $attachmentsEl.insertBefore(messagebar.$textareaEl);\n    Utils.extend(messagebar, {\n      $attachmentsEl,\n      attachmentsEl: $attachmentsEl[0],\n    });\n    return messagebar;\n  }\n\n  attachmentsShow(innerHTML = '') {\n    const messagebar = this;\n    messagebar.$attachmentsEl = messagebar.$el.find('.messagebar-attachments');\n    if (messagebar.$attachmentsEl.length === 0) {\n      messagebar.attachmentsCreate(innerHTML);\n    }\n    messagebar.$el.addClass('messagebar-attachments-visible');\n    messagebar.attachmentsVisible = true;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  attachmentsHide() {\n    const messagebar = this;\n    messagebar.$el.removeClass('messagebar-attachments-visible');\n    messagebar.attachmentsVisible = false;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  attachmentsToggle() {\n    const messagebar = this;\n    if (messagebar.attachmentsVisible) {\n      messagebar.attachmentsHide();\n    } else {\n      messagebar.attachmentsShow();\n    }\n    return messagebar;\n  }\n\n  renderAttachment(attachment) {\n    const messagebar = this;\n    if (messagebar.params.renderAttachment) {\n      return messagebar.params.renderAttachment.call(messagebar, attachment);\n    }\n    return `\n      <div class=\"messagebar-attachment\">\n        <img src=\"${attachment}\">\n        <span class=\"messagebar-attachment-delete\"></span>\n      </div>\n    `;\n  }\n\n  renderAttachments() {\n    const messagebar = this;\n    let html;\n    if (messagebar.params.renderAttachments) {\n      html = messagebar.params.renderAttachments.call(messagebar, messagebar.attachments);\n    } else {\n      html = `${messagebar.attachments.map(attachment => messagebar.renderAttachment(attachment)).join('')}`;\n    }\n    if (messagebar.$attachmentsEl.length === 0) {\n      messagebar.attachmentsCreate(html);\n    } else {\n      messagebar.$attachmentsEl.html(html);\n    }\n  }\n\n  sheetCreate(innerHTML = '') {\n    const messagebar = this;\n    const $sheetEl = $(`<div class=\"messagebar-sheet\">${innerHTML}</div>`);\n    messagebar.$el.append($sheetEl);\n    Utils.extend(messagebar, {\n      $sheetEl,\n      sheetEl: $sheetEl[0],\n    });\n    return messagebar;\n  }\n\n  sheetShow(innerHTML = '') {\n    const messagebar = this;\n    messagebar.$sheetEl = messagebar.$el.find('.messagebar-sheet');\n    if (messagebar.$sheetEl.length === 0) {\n      messagebar.sheetCreate(innerHTML);\n    }\n    messagebar.$el.addClass('messagebar-sheet-visible');\n    messagebar.sheetVisible = true;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  sheetHide() {\n    const messagebar = this;\n    messagebar.$el.removeClass('messagebar-sheet-visible');\n    messagebar.sheetVisible = false;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  sheetToggle() {\n    const messagebar = this;\n    if (messagebar.sheetVisible) {\n      messagebar.sheetHide();\n    } else {\n      messagebar.sheetShow();\n    }\n    return messagebar;\n  }\n\n  init() {\n    const messagebar = this;\n    messagebar.attachEvents();\n    messagebar.checkEmptyState();\n    return messagebar;\n  }\n\n  destroy() {\n    const messagebar = this;\n    messagebar.emit('local::beforeDestroy messagebarBeforeDestroy', messagebar);\n    messagebar.$el.trigger('messagebar:beforedestroy', messagebar);\n    messagebar.detachEvents();\n    if (messagebar.$el[0]) {\n      messagebar.$el[0].f7Messagebar = null;\n      delete messagebar.$el[0].f7Messagebar;\n    }\n    Utils.deleteProps(messagebar);\n  }\n}\n\nexport default Messagebar;\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Messagebar from './messagebar-class';\nimport ConstructorMethods from '../../utils/constructor-methods';\n\nexport default {\n  name: 'messagebar',\n  static: {\n    Messagebar,\n  },\n  create() {\n    const app = this;\n    app.messagebar = ConstructorMethods({\n      defaultSelector: '.messagebar',\n      constructor: Messagebar,\n      app,\n      domProp: 'f7Messagebar',\n      addMethods: 'clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle'.split(' '),\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl).find('.messagebar-init').each((index, messagebarEl) => {\n        app.messagebar.destroy(messagebarEl);\n      });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl).find('.messagebar-init').each((index, messagebarEl) => {\n        app.messagebar.create(Utils.extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.messagebar-init').each((index, messagebarEl) => {\n        app.messagebar.destroy(messagebarEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.messagebar-init').each((index, messagebarEl) => {\n        app.messagebar.create(Utils.extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n      });\n    },\n  },\n  vnode: {\n    'messagebar-init': {\n      insert(vnode) {\n        const app = this;\n        const messagebarEl = vnode.elm;\n        app.messagebar.create(Utils.extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n      },\n      destroy(vnode) {\n        const app = this;\n        const messagebarEl = vnode.elm;\n        app.messagebar.destroy(messagebarEl);\n      },\n    },\n  },\n};\n","/* eslint indent: [\"off\"] */\nimport $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport Framework7Class from '../../utils/class';\n\nclass PhotoBrowser extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const pb = this;\n    pb.app = app;\n\n    const defaults = Utils.extend({\n      on: {},\n    }, app.params.photoBrowser);\n\n    // Extend defaults with modules params\n    pb.useModulesParams(defaults);\n\n    pb.params = Utils.extend(defaults, params);\n\n    Utils.extend(pb, {\n      exposed: false,\n      opened: false,\n      activeIndex: pb.params.swiper.initialSlide,\n      url: pb.params.url,\n      view: pb.params.view || app.views.main,\n      swipeToClose: {\n        allow: true,\n        isTouched: false,\n        diff: undefined,\n        start: undefined,\n        current: undefined,\n        started: false,\n        activeSlide: undefined,\n        timeStart: undefined,\n      },\n    });\n\n    // Install Modules\n    pb.useModules();\n\n    // Init\n    pb.init();\n  }\n\n  onSlideChange(swiper) {\n    const pb = this;\n    pb.activeIndex = swiper.activeIndex;\n\n    let current = swiper.activeIndex + 1;\n    let total = pb.params.virtualSlides ? pb.params.photos.length : swiper.slides.length;\n    if (swiper.params.loop) {\n      total -= 2;\n      current -= swiper.loopedSlides;\n      if (current < 1) current = total + current;\n      if (current > total) current -= total;\n    }\n\n    const $activeSlideEl = pb.params.virtualSlides\n      ? swiper.$wrapperEl.find(`.swiper-slide[data-swiper-slide-index=\"${swiper.activeIndex}\"]`)\n      : swiper.slides.eq(swiper.activeIndex);\n    const $previousSlideEl = pb.params.virtualSlides\n      ? swiper.$wrapperEl.find(`.swiper-slide[data-swiper-slide-index=\"${swiper.previousIndex}\"]`)\n      : swiper.slides.eq(swiper.previousIndex);\n\n    let $currentEl = pb.$el.find('.photo-browser-current');\n    let $totalEl = pb.$el.find('.photo-browser-total');\n    if (pb.params.type === 'page' && pb.params.navbar && $currentEl.length === 0 && pb.app.theme === 'ios') {\n      const navbarEl = pb.app.navbar.getElByPage(pb.$el);\n      if (navbarEl) {\n        $currentEl = $(navbarEl).find('.photo-browser-current');\n        $totalEl = $(navbarEl).find('.photo-browser-total');\n      }\n    }\n    $currentEl.text(current);\n    $totalEl.text(total);\n\n    // Update captions\n    if (pb.captions.length > 0) {\n      const captionIndex = swiper.params.loop ? $activeSlideEl.attr('data-swiper-slide-index') : pb.activeIndex;\n      pb.$captionsContainerEl.find('.photo-browser-caption-active').removeClass('photo-browser-caption-active');\n      pb.$captionsContainerEl.find(`[data-caption-index=\"${captionIndex}\"]`).addClass('photo-browser-caption-active');\n    }\n\n    // Stop Video\n    const previousSlideVideo = $previousSlideEl.find('video');\n    if (previousSlideVideo.length > 0) {\n      if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\n    }\n  }\n\n  onTouchStart() {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n    if (!swipeToClose.allow) return;\n    swipeToClose.isTouched = true;\n  }\n\n  onTouchMove(e) {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n\n    if (!swipeToClose.isTouched) return;\n    if (!swipeToClose.started) {\n      swipeToClose.started = true;\n      swipeToClose.start = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (pb.params.virtualSlides) {\n        swipeToClose.activeSlide = pb.swiper.$wrapperEl.children('.swiper-slide-active');\n      } else {\n        swipeToClose.activeSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n      }\n      swipeToClose.timeStart = Utils.now();\n    }\n    e.preventDefault();\n    swipeToClose.current = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    swipeToClose.diff = swipeToClose.start - swipeToClose.current;\n    const opacity = 1 - (Math.abs(swipeToClose.diff) / 300);\n    const color = pb.exposed || pb.params.theme === 'dark' ? 0 : 255;\n    swipeToClose.activeSlide.transform(`translate3d(0,${-swipeToClose.diff}px,0)`);\n    pb.swiper.$el.css('background-color', `rgba(${color}, ${color}, ${color}, ${opacity})`).transition(0);\n  }\n\n  onTouchEnd() {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n    swipeToClose.isTouched = false;\n    if (!swipeToClose.started) {\n      swipeToClose.started = false;\n      return;\n    }\n    swipeToClose.started = false;\n    swipeToClose.allow = false;\n    const diff = Math.abs(swipeToClose.diff);\n    const timeDiff = (new Date()).getTime() - swipeToClose.timeStart;\n    if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\n      Utils.nextTick(() => {\n        if (pb.$el) {\n          if (swipeToClose.diff < 0) pb.$el.addClass('swipe-close-to-bottom');\n          else pb.$el.addClass('swipe-close-to-top');\n        }\n        pb.emit('local::swipeToClose', pb);\n        pb.close();\n        swipeToClose.allow = true;\n      });\n      return;\n    }\n    if (diff !== 0) {\n      swipeToClose.activeSlide.addClass('photo-browser-transitioning').transitionEnd(() => {\n        swipeToClose.allow = true;\n        swipeToClose.activeSlide.removeClass('photo-browser-transitioning');\n      });\n    } else {\n      swipeToClose.allow = true;\n    }\n    pb.swiper.$el.transition('').css('background-color', '');\n    swipeToClose.activeSlide.transform('');\n  }\n\n  // Render Functions\n  renderNavbar() {\n    const pb = this;\n    if (pb.params.renderNavbar) return pb.params.renderNavbar.call(pb);\n\n    let iconsColor = pb.params.iconsColor;\n    if (!pb.params.iconsColor && pb.params.theme === 'dark') iconsColor = 'white';\n\n    const backLinkText = (pb.app.theme === 'ios' || pb.app.theme === 'aurora') && pb.params.backLinkText ? pb.params.backLinkText : '';\n\n    const isPopup = pb.params.type !== 'page';\n    const navbarHtml = `\n      <div class=\"navbar\">\n        <div class=\"navbar-inner sliding\">\n          <div class=\"left\">\n            <a class=\"link ${isPopup ? 'popup-close' : ''} ${!backLinkText ? 'icon-only' : ''} ${!isPopup ? 'back' : ''}\" ${isPopup ? 'data-popup=\".photo-browser-popup\"' : ''}>\n              <i class=\"icon icon-back ${iconsColor ? `color-${iconsColor}` : ''}\"></i>\n              ${backLinkText ? `<span>${backLinkText}</span>` : ''}\n            </a>\n          </div>\n          <div class=\"title\">\n            <span class=\"photo-browser-current\"></span>\n            <span class=\"photo-browser-of\">${pb.params.navbarOfText}</span>\n            <span class=\"photo-browser-total\"></span>\n          </div>\n          <div class=\"right\"></div>\n        </div>\n      </div>\n    `.trim();\n    return navbarHtml;\n  }\n\n  renderToolbar() {\n    const pb = this;\n    if (pb.params.renderToolbar) return pb.params.renderToolbar.call(pb);\n\n    let iconsColor = pb.params.iconsColor;\n    if (!pb.params.iconsColor && pb.params.theme === 'dark') iconsColor = 'white';\n\n    const toolbarHtml = `\n      <div class=\"toolbar toolbar-bottom tabbar\">\n        <div class=\"toolbar-inner\">\n          <a class=\"link photo-browser-prev\">\n            <i class=\"icon icon-back ${iconsColor ? `color-${iconsColor}` : ''}\"></i>\n          </a>\n          <a class=\"link photo-browser-next\">\n            <i class=\"icon icon-forward ${iconsColor ? `color-${iconsColor}` : ''}\"></i>\n          </a>\n        </div>\n      </div>\n    `.trim();\n    return toolbarHtml;\n  }\n\n  renderCaption(caption, index) {\n    const pb = this;\n    if (pb.params.renderCaption) return pb.params.renderCaption.call(pb, caption, index);\n    const captionHtml = `\n      <div class=\"photo-browser-caption\" data-caption-index=\"${index}\">\n        ${caption}\n      </div>\n    `.trim();\n    return captionHtml;\n  }\n\n  renderObject(photo, index) {\n    const pb = this;\n    if (pb.params.renderObject) return pb.params.renderObject.call(pb, photo, index);\n    const objHtml = `\n      <div class=\"photo-browser-slide photo-browser-object-slide swiper-slide\" data-swiper-slide-index=\"${index}\">${photo.html ? photo.html : photo}</div>\n    `;\n    return objHtml;\n  }\n\n  renderLazyPhoto(photo, index) {\n    const pb = this;\n    if (pb.params.renderLazyPhoto) return pb.params.renderLazyPhoto.call(pb, photo, index);\n    const photoHtml = `\n      <div class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\" data-swiper-slide-index=\"${index}\">\n          <div class=\"preloader swiper-lazy-preloader ${pb.params.theme === 'dark' ? 'color-white' : ''}\">${Utils[`${pb.app.theme}PreloaderContent`] || ''}</div>\n          <span class=\"swiper-zoom-container\">\n              <img data-src=\"${photo.url ? photo.url : photo}\" class=\"swiper-lazy\">\n          </span>\n      </div>\n    `.trim();\n    return photoHtml;\n  }\n\n  renderPhoto(photo, index) {\n    const pb = this;\n    if (pb.params.renderPhoto) return pb.params.renderPhoto.call(pb, photo, index);\n    const photoHtml = `\n      <div class=\"photo-browser-slide swiper-slide\" data-swiper-slide-index=\"${index}\">\n        <span class=\"swiper-zoom-container\">\n          <img src=\"${photo.url ? photo.url : photo}\">\n        </span>\n      </div>\n    `.trim();\n    return photoHtml;\n  }\n\n  render() {\n    const pb = this;\n    if (pb.params.render) return pb.params.render.call(pb, pb.params);\n    const html = `\n      <div class=\"photo-browser photo-browser-${pb.params.theme}\">\n        <div class=\"view\">\n          <div class=\"page photo-browser-page photo-browser-page-${pb.params.theme} no-toolbar ${!pb.params.navbar ? 'no-navbar' : ''}\" data-name=\"photo-browser-page\">\n            ${pb.params.navbar ? pb.renderNavbar() : ''}\n            ${pb.params.toolbar ? pb.renderToolbar() : ''}\n            <div class=\"photo-browser-captions photo-browser-captions-${pb.params.captionsTheme || pb.params.theme}\">\n              ${pb.params.photos.map((photo, index) => {\n                if (photo.caption) return pb.renderCaption(photo.caption, index);\n                return '';\n              }).join(' ')}\n            </div>\n            <div class=\"photo-browser-swiper-container swiper-container\">\n              <div class=\"photo-browser-swiper-wrapper swiper-wrapper\">\n                ${pb.params.virtualSlides ? '' : pb.params.photos.map((photo, index) => {\n                  if (photo.html || ((typeof photo === 'string' || photo instanceof String) && photo.indexOf('<') >= 0 && photo.indexOf('>') >= 0)) {\n                    return pb.renderObject(photo, index);\n                  }\n                  if (pb.params.swiper.lazy === true || (pb.params.swiper.lazy && pb.params.swiper.lazy.enabled)) {\n                    return pb.renderLazyPhoto(photo, index);\n                  }\n                  return pb.renderPhoto(photo, index);\n                }).join(' ')}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `.trim();\n    return html;\n  }\n\n  renderStandalone() {\n    const pb = this;\n    if (pb.params.renderStandalone) return pb.params.renderStandalone.call(pb);\n    const standaloneHtml = `<div class=\"popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen\">${pb.render()}</div>`;\n    return standaloneHtml;\n  }\n\n  renderPage() {\n    const pb = this;\n    if (pb.params.renderPage) return pb.params.renderPage.call(pb);\n    const pageHtml = pb.render();\n\n    return pageHtml;\n  }\n\n  renderPopup() {\n    const pb = this;\n    if (pb.params.renderPopup) return pb.params.renderPopup.call(pb);\n    const popupHtml = `<div class=\"popup photo-browser-popup\">${pb.render()}</div>`;\n\n    return popupHtml;\n  }\n\n  // Callbacks\n  onOpen(type, el) {\n    const pb = this;\n    const app = pb.app;\n    const $el = $(el);\n\n    $el[0].f7PhotoBrowser = pb;\n\n    pb.$el = $el;\n    pb.el = $el[0];\n    pb.openedIn = type;\n    pb.opened = true;\n\n    pb.$swiperContainerEl = pb.$el.find('.photo-browser-swiper-container');\n    pb.$swiperWrapperEl = pb.$el.find('.photo-browser-swiper-wrapper');\n    pb.slides = pb.$el.find('.photo-browser-slide');\n    pb.$captionsContainerEl = pb.$el.find('.photo-browser-captions');\n    pb.captions = pb.$el.find('.photo-browser-caption');\n\n    // Init Swiper\n    const swiperParams = Utils.extend({}, pb.params.swiper, {\n      initialSlide: pb.activeIndex,\n      on: {\n        tap(e) {\n          pb.emit('local::tap', e);\n        },\n        click(e) {\n          if (pb.params.exposition) {\n            pb.expositionToggle();\n          }\n          pb.emit('local::click', e);\n        },\n        doubleTap(e) {\n          pb.emit('local::doubleTap', e);\n        },\n        slideChange(...args) {\n          const swiper = this;\n          pb.onSlideChange(swiper);\n          pb.emit('local::slideChange', ...args);\n        },\n        transitionStart(...args) {\n          pb.emit('local::transitionStart', ...args);\n        },\n        transitionEnd(...args) {\n          pb.emit('local::transitionEnd', ...args);\n        },\n        slideChangeTransitionStart(...args) {\n          pb.emit('local::slideChangeTransitionStart', ...args);\n        },\n        slideChangeTransitionEnd(...args) {\n          pb.emit('local::slideChangeTransitionEnd', ...args);\n        },\n        lazyImageLoad(...args) {\n          pb.emit('local::lazyImageLoad', ...args);\n        },\n        lazyImageReady(...args) {\n          const slideEl = args[0];\n          $(slideEl).removeClass('photo-browser-slide-lazy');\n          pb.emit('local::lazyImageReady', ...args);\n        },\n      },\n    });\n    if (pb.params.swipeToClose && pb.params.type !== 'page') {\n      Utils.extend(swiperParams.on, {\n        touchStart(e) {\n          pb.onTouchStart(e);\n          pb.emit('local::touchStart', e);\n        },\n        touchMoveOpposite(e) {\n          pb.onTouchMove(e);\n          pb.emit('local::touchMoveOpposite', e);\n        },\n        touchEnd(e) {\n          pb.onTouchEnd(e);\n          pb.emit('local::touchEnd', e);\n        },\n      });\n    }\n    if (pb.params.virtualSlides) {\n      Utils.extend(swiperParams, {\n        virtual: {\n          slides: pb.params.photos,\n          renderSlide(photo, index) {\n            if (photo.html || ((typeof photo === 'string' || photo instanceof String) && photo.indexOf('<') >= 0 && photo.indexOf('>') >= 0)) {\n              return pb.renderObject(photo, index);\n            }\n            if (pb.params.swiper.lazy === true || (pb.params.swiper.lazy && pb.params.swiper.lazy.enabled)) {\n              return pb.renderLazyPhoto(photo, index);\n            }\n            return pb.renderPhoto(photo, index);\n          },\n        },\n      });\n    }\n\n    pb.swiper = app.swiper.create(pb.$swiperContainerEl, swiperParams);\n\n    if (pb.activeIndex === 0) {\n      pb.onSlideChange(pb.swiper);\n    }\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:open');\n    }\n    pb.emit('local::open photoBrowserOpen', pb);\n  }\n\n  onOpened() {\n    const pb = this;\n\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:opened');\n    }\n    pb.emit('local::opened photoBrowserOpened', pb);\n  }\n\n  onClose() {\n    const pb = this;\n    if (pb.destroyed) return;\n\n    // Destroy Swiper\n    if (pb.swiper && pb.swiper.destroy) {\n      pb.swiper.destroy(true, false);\n      pb.swiper = null;\n      delete pb.swiper;\n    }\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:close');\n    }\n    pb.emit('local::close photoBrowserClose', pb);\n  }\n\n  onClosed() {\n    const pb = this;\n    if (pb.destroyed) return;\n    pb.opened = false;\n    pb.$el = null;\n    pb.el = null;\n    delete pb.$el;\n    delete pb.el;\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:closed');\n    }\n    pb.emit('local::closed photoBrowserClosed', pb);\n  }\n\n  // Open\n  openPage() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const pageHtml = pb.renderPage();\n\n    pb.view.router.navigate({\n      url: pb.url,\n      route: {\n        content: pageHtml,\n        path: pb.url,\n        on: {\n          pageBeforeIn(e, page) {\n            pb.view.$el.addClass(`with-photo-browser-page with-photo-browser-page-${pb.params.theme}`);\n            pb.onOpen('page', page.el);\n          },\n          pageAfterIn(e, page) {\n            pb.onOpened('page', page.el);\n          },\n          pageBeforeOut(e, page) {\n            pb.view.$el.removeClass(`with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-${pb.params.theme}`);\n            pb.onClose('page', page.el);\n          },\n          pageAfterOut(e, page) {\n            pb.onClosed('page', page.el);\n          },\n        },\n      },\n    });\n    return pb;\n  }\n\n  openStandalone() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const standaloneHtml = pb.renderStandalone();\n\n    const popupParams = {\n      backdrop: false,\n      content: standaloneHtml,\n      on: {\n        popupOpen(popup) {\n          pb.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          pb.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          pb.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          pb.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (pb.params.routableModals) {\n      pb.view.router.navigate({\n        url: pb.url,\n        route: {\n          path: pb.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      pb.modal = pb.app.popup.create(popupParams).open();\n    }\n    return pb;\n  }\n\n  openPopup() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const popupHtml = pb.renderPopup();\n\n    const popupParams = {\n      content: popupHtml,\n      on: {\n        popupOpen(popup) {\n          pb.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          pb.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          pb.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          pb.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (pb.params.routableModals) {\n      pb.view.router.navigate({\n        url: pb.url,\n        route: {\n          path: pb.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      pb.modal = pb.app.popup.create(popupParams).open();\n    }\n    return pb;\n  }\n\n  // Exposition\n  expositionEnable() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.addClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.addClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions) pb.$captionsContainerEl.addClass('photo-browser-captions-exposed');\n    pb.exposed = true;\n    return pb;\n  }\n\n  expositionDisable() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.removeClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.removeClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions) pb.$captionsContainerEl.removeClass('photo-browser-captions-exposed');\n    pb.exposed = false;\n    return pb;\n  }\n\n  expositionToggle() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.toggleClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.toggleClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions) pb.$captionsContainerEl.toggleClass('photo-browser-captions-exposed');\n    pb.exposed = !pb.exposed;\n    return pb;\n  }\n\n  open(index) {\n    const pb = this;\n    const type = pb.params.type;\n    if (pb.opened) {\n      if (pb.swiper && typeof index !== 'undefined') {\n        pb.swiper.slideTo(parseInt(index, 10));\n      }\n      return pb;\n    }\n    if (typeof index !== 'undefined') {\n      pb.activeIndex = index;\n    }\n    if (type === 'standalone') {\n      pb.openStandalone();\n    }\n    if (type === 'page') {\n      pb.openPage();\n    }\n    if (type === 'popup') {\n      pb.openPopup();\n    }\n    return pb;\n  }\n\n  close() {\n    const pb = this;\n    if (!pb.opened) return pb;\n    if (pb.params.routableModals || pb.openedIn === 'page') {\n      if (pb.view) pb.view.router.back();\n    } else {\n      pb.modal.once('modalClosed', () => {\n        Utils.nextTick(() => {\n          if (pb.destroyed) return;\n          pb.modal.destroy();\n          delete pb.modal;\n        });\n      });\n      pb.modal.close();\n    }\n    return pb;\n  }\n  // eslint-disable-next-line\n  init() {}\n\n  destroy() {\n    let pb = this;\n    pb.emit('local::beforeDestroy photoBrowserBeforeDestroy', pb);\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:beforedestroy');\n      pb.$el[0].f7PhotoBrowser = null;\n      delete pb.$el[0].f7PhotoBrowser;\n    }\n    Utils.deleteProps(pb);\n    pb.destroyed = true;\n    pb = null;\n  }\n}\n\nexport default PhotoBrowser;\n","import PhotoBrowser from './photo-browser-class';\nimport ConstructorMethods from '../../utils/constructor-methods';\n\nexport default {\n  name: 'photoBrowser',\n  params: {\n    photoBrowser: {\n      photos: [],\n      exposition: true,\n      expositionHideCaptions: false,\n      type: 'standalone',\n      navbar: true,\n      toolbar: true,\n      theme: 'light',\n      captionsTheme: undefined,\n      iconsColor: undefined,\n      swipeToClose: true,\n      backLinkText: 'Close',\n      navbarOfText: 'of',\n      view: undefined,\n      url: 'photos/',\n      routableModals: true,\n      virtualSlides: true,\n\n      renderNavbar: undefined,\n      renderToolbar: undefined,\n      renderCaption: undefined,\n      renderObject: undefined,\n      renderLazyPhoto: undefined,\n      renderPhoto: undefined,\n      renderPage: undefined,\n      renderPopup: undefined,\n      renderStandalone: undefined,\n\n      swiper: {\n        initialSlide: 0,\n        spaceBetween: 20,\n        speed: 300,\n        loop: false,\n        preloadImages: true,\n        navigation: {\n          nextEl: '.photo-browser-next',\n          prevEl: '.photo-browser-prev',\n        },\n        zoom: {\n          enabled: true,\n          maxRatio: 3,\n          minRatio: 1,\n        },\n        lazy: {\n          enabled: true,\n        },\n      },\n    },\n  },\n  create() {\n    const app = this;\n    app.photoBrowser = ConstructorMethods({\n      defaultSelector: '.photo-browser',\n      constructor: PhotoBrowser,\n      app,\n      domProp: 'f7PhotoBrowser',\n    });\n  },\n  static: {\n    PhotoBrowser,\n  },\n};\n","import $ from 'dom7';\nimport { window } from 'ssr-window';\nimport Utils from '../../utils/utils';\nimport Modal from '../modal/modal-class';\n\nclass Notification extends Modal {\n  constructor(app, params) {\n    const extendedParams = Utils.extend({\n      on: {},\n    }, app.params.notification, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const notification = this;\n\n    notification.app = app;\n\n    notification.params = extendedParams;\n\n    const {\n      icon,\n      title,\n      titleRightText,\n      subtitle,\n      text,\n      closeButton,\n      closeTimeout,\n      cssClass,\n      closeOnClick,\n    } = notification.params;\n\n    let $el;\n    if (!notification.params.el) {\n      // Find Element\n      const notificationHtml = notification.render({\n        icon,\n        title,\n        titleRightText,\n        subtitle,\n        text,\n        closeButton,\n        cssClass,\n      });\n\n      $el = $(notificationHtml);\n    } else {\n      $el = $(notification.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return notification.destroy();\n    }\n\n    Utils.extend(notification, {\n      $el,\n      el: $el[0],\n      type: 'notification',\n    });\n\n    $el[0].f7Modal = notification;\n\n    if (closeButton) {\n      $el.find('.notification-close-button').on('click', () => {\n        notification.close();\n      });\n    }\n    $el.on('click', (e) => {\n      if (closeButton && $(e.target).closest('.notification-close-button').length) {\n        return;\n      }\n      notification.emit('local::click notificationClick', notification);\n      if (closeOnClick) notification.close();\n    });\n\n    notification.on('beforeDestroy', () => {\n      $el.off('click');\n    });\n\n    /* Touch Events */\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchesDiff;\n    let touchStartTime;\n    let notificationHeight;\n    const touchesStart = {};\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      isMoved = false;\n      isScrolling = undefined;\n      touchStartTime = Utils.now();\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) < Math.abs(pageX - touchesStart.x));\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n      if (!isMoved) {\n        notification.$el.removeClass('notification-transitioning');\n        notification.$el.transition(0);\n        notificationHeight = notification.$el[0].offsetHeight / 2;\n      }\n      isMoved = true;\n      touchesDiff = (pageY - touchesStart.y);\n      let newTranslate = touchesDiff;\n      if (touchesDiff > 0) {\n        newTranslate = touchesDiff ** 0.8;\n      }\n      notification.$el.transform(`translate3d(0, ${newTranslate}px, 0)`);\n    }\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      isTouched = false;\n      isMoved = false;\n      if (touchesDiff === 0) {\n        return;\n      }\n\n      const timeDiff = Utils.now() - touchStartTime;\n      notification.$el.transition('');\n      notification.$el.addClass('notification-transitioning');\n      notification.$el.transform('');\n\n      if (\n        (touchesDiff < -10 && timeDiff < 300)\n        || (-touchesDiff >= notificationHeight / 1)\n      ) {\n        notification.close();\n      }\n    }\n\n    function attachTouchEvents() {\n      if (\"universal\" !== 'desktop') {\n        notification.$el.on(app.touchEvents.start, handleTouchStart, { passive: true });\n        app.on('touchmove:active', handleTouchMove);\n        app.on('touchend:passive', handleTouchEnd);\n      }\n    }\n    function detachTouchEvents() {\n      if (process.env.TARGET !== 'desktop') {\n        notification.$el.off(app.touchEvents.start, handleTouchStart, { passive: true });\n        app.off('touchmove:active', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    }\n\n    let timeoutId;\n    function closeOnTimeout() {\n      timeoutId = Utils.nextTick(() => {\n        if (isTouched && isMoved) {\n          closeOnTimeout();\n          return;\n        }\n        notification.close();\n      }, closeTimeout);\n    }\n    notification.on('open', () => {\n      if (notification.params.swipeToClose) {\n        attachTouchEvents();\n      }\n      $('.notification.modal-in').each((index, openedEl) => {\n        const notificationInstance = app.notification.get(openedEl);\n        if (openedEl !== notification.el && notificationInstance) {\n          notificationInstance.close();\n        }\n      });\n      if (closeTimeout) {\n        closeOnTimeout();\n      }\n    });\n    notification.on('close beforeDestroy', () => {\n      if (notification.params.swipeToClose) {\n        detachTouchEvents();\n      }\n      window.clearTimeout(timeoutId);\n    });\n\n    return notification;\n  }\n\n  render() {\n    const notification = this;\n    if (notification.params.render) return notification.params.render.call(notification, notification);\n    const { icon, title, titleRightText, subtitle, text, closeButton, cssClass } = notification.params;\n    return `\n      <div class=\"notification ${cssClass || ''}\">\n        <div class=\"notification-header\">\n          ${icon ? `<div class=\"notification-icon\">${icon}</div>` : ''}\n          ${title ? `<div class=\"notification-title\">${title}</div>` : ''}\n          ${titleRightText ? `<div class=\"notification-title-right-text\">${titleRightText}</div>` : ''}\n          ${closeButton ? '<span class=\"notification-close-button\"></span>' : ''}\n        </div>\n        <div class=\"notification-content\">\n          ${subtitle ? `<div class=\"notification-subtitle\">${subtitle}</div>` : ''}\n          ${text ? `<div class=\"notification-text\">${text}</div>` : ''}\n        </div>\n      </div>\n    `.trim();\n  }\n}\nexport default Notification;\n","import Utils from '../../utils/utils';\nimport Notification from './notification-class';\nimport ModalMethods from '../../utils/modal-methods';\n\nexport default {\n  name: 'notification',\n  static: {\n    Notification,\n  },\n  create() {\n    const app = this;\n    app.notification = Utils.extend(\n      {},\n      ModalMethods({\n        app,\n        constructor: Notification,\n        defaultSelector: '.notification.modal-in',\n      })\n    );\n  },\n  params: {\n    notification: {\n      icon: null,\n      title: null,\n      titleRightText: null,\n      subtitle: null,\n      text: null,\n      closeButton: false,\n      closeTimeout: null,\n      closeOnClick: false,\n      swipeToClose: true,\n      cssClass: null,\n      render: null,\n    },\n  },\n};\n"],"sourceRoot":""}