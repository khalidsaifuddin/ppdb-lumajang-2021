{"version":3,"sources":["webpack:///./node_modules/framework7/modules/router/router.js","webpack:///./node_modules/framework7/modules/device/device.js","webpack:///./node_modules/framework7/modules/support/support.js","webpack:///./node_modules/framework7/modules/utils/utils.js","webpack:///./node_modules/framework7/modules/resize/resize.js","webpack:///./node_modules/framework7/modules/request/request.js","webpack:///./node_modules/framework7/modules/touch/touch.js","webpack:///./node_modules/framework7/modules/clicks/clicks.js","webpack:///./node_modules/framework7/modules/router/template-loader.js","webpack:///./node_modules/framework7/modules/router/component-loader.js","webpack:///./node_modules/framework7/modules/history/history.js","webpack:///./node_modules/framework7/modules/storage/storage.js","webpack:///./node_modules/framework7/modules/component/snabbdom/vnode.js","webpack:///./node_modules/framework7/modules/component/snabbdom/is.js","webpack:///./node_modules/framework7/modules/component/snabbdom/h.js","webpack:///./node_modules/framework7/modules/component/vdom.js","webpack:///./node_modules/framework7/modules/component/snabbdom/htmldomapi.js","webpack:///./node_modules/framework7/modules/component/snabbdom/snabbdom.js","webpack:///./node_modules/framework7/modules/component/snabbdom/modules/attributes.js","webpack:///./node_modules/framework7/modules/component/snabbdom/modules/props.js","webpack:///./node_modules/framework7/modules/component/snabbdom/modules/style.js","webpack:///./node_modules/framework7/modules/component/eventslisteners.js","webpack:///./node_modules/framework7/modules/component/patch.js","webpack:///./node_modules/framework7/modules/component/component-class.js","webpack:///./node_modules/framework7/modules/component/parse-component.js","webpack:///./node_modules/framework7/modules/component/component.js","webpack:///./node_modules/framework7/modules/service-worker/service-worker.js","webpack:///./node_modules/framework7/framework7.esm.bundle.js","webpack:///./node_modules/framework7/modules/router/swipe-back.js","webpack:///./node_modules/framework7/modules/router/redirect.js","webpack:///./node_modules/framework7/modules/router/process-route-queue.js","webpack:///./node_modules/framework7/modules/router/app-router-check.js","webpack:///./node_modules/framework7/modules/router/router-class.js","webpack:///./node_modules/framework7/modules/router/navigate.js","webpack:///./node_modules/framework7/modules/router/tab.js","webpack:///./node_modules/framework7/modules/router/modal.js","webpack:///./node_modules/framework7/modules/router/back.js","webpack:///./node_modules/framework7/modules/router/clear-previous-history.js"],"names":["name","static","Router","instance","cache","xhr","templates","components","create","this","app","params","router","proto","device","Device","on","init","classNames","html","document","querySelector","metaStatusbar","standalone","ios","content","push","Math","floor","pixelRatio","os","desktop","osVersion","split","replace","i","parseInt","iphoneX","cordova","phonegap","forEach","className","classList","add","support","Support","utils","Utils","getSize","root","width","height","left","top","offset","offsetWidth","offsetHeight","window","addEventListener","emit","orientationchange","ipad","body","scrollLeft","setTimeout","resize","request","Request","touch","fastClicks","fastClicksDistanceThreshold","fastClicksDelayBetweenClicks","fastClicksExclude","touchClicksDistanceThreshold","disableContextMenu","tapHold","tapHoldDelay","tapHoldPreventClicks","activeState","activeStateElements","mdTouchRipple","iosTouchRipple","auroraTouchRipple","touchRippleElements","touchEvents","start","move","end","touchStartX","touchStartY","touchStartTime","targetElement","trackClick","activeSelection","scrollParent","lastClickTime","isMoved","tapHoldFired","tapHoldTimeout","preventClick","activableElement","activeTimeout","needsFastClick","needsFastClickTimeOut","rippleWave","rippleTarget","rippleTimeout","useRipple","theme","findActivableElement","el","activable","target","$","parents","is","length","preventPropagation","newActivable","eq","hasClass","isInsideScrollableViewLight","addActive","addClass","removeActive","removeClass","createRipple","$el","x","y","touchRipple","removeRipple","remove","undefined","rippleTouchStart","rippleElements","rippleParent","findRippleElement","pageContent","prop","clearTimeout","isInsideScrollableView","rippleTouchMove","rippleTouchEnd","emitAppTouchEvent","e","events","data","appTouchStartActive","appTouchMoveActive","appTouchEndActive","appTouchStartPassive","appTouchMovePassive","appTouchEndPassive","webView","passiveListener","passive","activeListener","nodes","allowClick","type","detail","nodeName","indexOf","toLowerCase","activeElement","forwardedTouchEvent","cancelable","stopImmediatePropagation","stopPropagation","prevent","android","targetNeedsPrevent","preventDefault","androidChrome","targetTouches","touches","trigger","closest","selection","getSelection","rangeCount","focusNode","isCollapsed","noBlur","androidNeedsBlur","blur","Date","getTime","pageX","pageY","each","parent","scrollHeight","f7ScrollTop","scrollTop","distance","abs","touchEndTime","tag","skipInputs","disabled","readOnly","targetNeedsFocus","focus","changedTouches","evt","createEvent","eventType","initMouseEvent","screenX","screenY","clientX","clientY","navigator","elementFromPoint","dispatchEvent","sendClick","isOverswipe","localPreventClick","which","clicks","externalLinks","$clickedEl","$clickedLinkEl","isLink","url","attr","InAppBrowser","open","Object","keys","modules","moduleName","moduleClicks","preventF7Router","clickSelector","matchingClickedElement","call","dataset","clickedLinkData","view","f7View","linksView","ViewClass","views","main","context","JSON","parse","err","f7RouteProps","props","back","navigate","initClicks","templateLoader","template","templateUrl","options","resolve","reject","compile","t","compiledHtml","Template7","extend","$app","$root","methods","$route","route","$f7route","$router","$f7router","$theme","md","aurora","abort","xhrRequest","then","templateContent","catch","modalTemplateLoader","tabTemplateLoader","pageTemplateLoader","newOptions","getPageEl","componentLoader","component","componentUrl","cachedComponent","compiledUrl","replaceRequestUrlParams","componentOptions","extendContext","merge","createdComponent","cached","loadedComponent","parsedComponent","modalComponentLoader","rootEl","tabComponentLoader","tabEl","pageComponentLoader","routerEl","history","History","Storage","get","key","Promise","localStorage","getItem","set","value","setItem","stringify","removeItem","clear","filter","keyName","map","callback","index","storage","vnode","sel","children","text","elm","array","Array","isArray","primitive","s","h","b","c","addNS","ns","childData","selfClosing","propsAttrs","booleanProps","tempDom","createElement","getData","initial","isRoot","attributes","prototype","attrName","attrValue","eventName","substr","stop","once","eventNamePart","eventNameIndex","handlerString","methodName","method","fired","customArgs","needMethodBind","path","pathIndex","Error","slice","join","handler","args","handlerArguments","a","argument","arg","trim","isNaN","deepArg","parseFloat","bind","getEventHandler","style","attrs","hooks","class","insert","destroy","update","postpatch","getVnodeHooks","oldVnode","vn","$options","updated","f","getHooks","prepatch","hook","elementToVNode","nodeType","tagName","SVGElement","childNodes","child","getChildren","textContent","innerHTML","result","htmlDomApi","createElementNS","namespaceURI","qualifiedName","createTextNode","createComment","insertBefore","parentNode","newNode","referenceNode","removeChild","node","appendChild","nextSibling","setTextContent","getTextContent","isElement","isText","isComment","isUndef","isDef","emptyNode","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","ch","updateAttrs","oldAttrs","cur","setAttribute","removeAttribute","charCodeAt","setAttributeNS","attributesModule","updateProps","oldProps","propsModule","raf","requestAnimationFrame","setNextFrame","obj","val","fn","updateStyle","oldStyle","oldHasDel","removeProperty","delayed","name2","setProperty","handleEvent","event","invokeHandler","updateEvents","oldOn","oldListener","listener","oldElm","off","patch","domApi","j","cbs","api","createRmCb","childElm","listeners","parent_1","createElm","insertedVnodeQueue","hashIdx","dotIdx","hash","dot","min","addVnodes","parentElm","before","vnodes","startIdx","invokeDestroyHook","removeVnodes","i_1","rm","patchVnode","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","updateChildren","pre","isVnode","id","emptyNodeAt","post","amount","applied","getComputedStyle","ev","Framework7Component","self","$$","$dom7","$f7","$id","defineProperty","enumerable","configurable","Proxy","deleteProperty","has","cycleKey","render","beforeCreate","$render","$vnode","vdom","$styleEl","styleScoped","$attachEvents","created","f7Component","eventNameToColonCase","newVNode","mergeState","$forceUpdate","mountMethod","beforeMount","append","mounted","beforeDestroy","$detachEvents","destroyed","deleteProps","parseComponent","componentString","callbackCreateName","callbackRenderName","hasTemplate","match","templateType","item","arr","scriptContent","scriptEl","string","rules","rule","scripts","renderContent","SW","registrations","register","scope","serviceWorker","container","reg","error","unregister","registration","all","splice","paths","use","RouterTemplateLoaderModule","RouterComponentLoaderModule","Framework7","DeviceModule","SupportModule","UtilsModule","ResizeModule","RequestModule","TouchModule","ClicksModule","RouterModule","HistoryModule","StorageModule","ComponentModule","ServiceWorkerModule","Statusbar","View","Navbar","Toolbar","Subnavbar","TouchRipple","Modal","Appbar","Dialog","Popup","LoginScreen","Popover","Actions","Sheet","Toast","Preloader","Progressbar","Sortable","Swipeout","Accordion","ContactsList","VirtualList","ListIndex","Timeline","Tabs","Panel","Card","Chip","Form","Input","Checkbox","Radio","Toggle","Range","Stepper","SmartSelect","Grid","Calendar","Picker","InfiniteScroll","PullToRefresh","Lazy","DataTable","Fab","Searchbar","Messages","Messagebar","Swiper","PhotoBrowser","Notification","Autocomplete","Tooltip","Gauge","Skeleton","Menu","ColorPicker","Treeview","Vi","Elevation","Typography","SwipeBack","r","isScrolling","viewContainerWidth","touchesDiff","dynamicNavbar","separateNavbar","$pageShadowEl","$pageOpacityEl","animatableNavEls","$navbarEl","isTouched","touchesStart","$currentPageEl","$previousPageEl","allowViewTouchMove","$currentNavbarInnerEl","$previousNavbarInnerEl","paramsSwipeBackAnimateShadow","paramsSwipeBackAnimateOpacity","paramsSwipeBackActiveArea","paramsSwipeBackThreshold","transformOrigin","rtl","setAnimatableNavElements","progress","reset","transition","styles","styleProp","handleTouchStart","swipeBackEnabled","swipeout","allowPageChange","masterDetailBreakpoint","now","handleTouchMove","f7PreventSwipeBack","preventSwipeBack","cancel","find","activeNavBackIconText","previousNavBackIconText","els","inverter","currentNavIsLarge","previousNavIsLarge","fromLarge","toLarge","$currentNavElements","$previousNavElements","iosAnimateNavbarBackIcon","f7NavbarLeftOffset","prev","navEl","$navEl","isSubnavbar","isLeft","isTitle","overflow","transform","subIndex","subNavEl","opacity","isSliding","transformTarget","textEl","activeNavTranslate","f7NavbarRightOffset","round","previousNavTranslate","animatableNavElements","sheet","close","f7PreventPanelSwipe","preventSwipePanelBySwipeBack","percentage","max","callbackData","currentPageEl","previousPageEl","currentNavbarEl","previousNavbarEl","currentPageTranslate","previousPageTranslate","swipeBackActive","handleTouchEnd","timeDiff","pageChanged","removeAttr","currentRoute","f7Page","currentPage","pageCallback","swipeBack","transitionEnd","unshift","pop","saveHistory","pushState","stackPages","initialPages","removePage","removeNavbar","previousRoute","preloadPreviousPage","preload","capture","direction","redirect","replaceState","redirectUrl","redirectOptions","processQueue","routerQueue","routeQueue","to","from","queue","next","shift","enterNextRoute","routesBeforeEnter","beforeEnter","routesBeforeLeave","beforeLeave","isAppRouter","routes","viewId","navbarEl","scrollHistory","iosDynamicNavbar","iosSeparateDynamicNavbar","initialNavbars","useModules","newRoute","newNavbarInner","oldNavbarInner","newNavEls","oldNavEls","animateIcon","animatableNavEl","navbarInner","isIconLabel","needsOpacityTransition","$iconEl","leftOffset","rightOffset","navEls","n","otherEls","otherNavEl","iconTextEl","offsetLeft","oldPage","newPage","animateCustom","apply","oldIsLarge","newIsLarge","routerTransitionClass","animationEnd","nextFrame","animateNavbars","modalEl","removeEl","keepAlive","tabIndex","tabChild","$destroy","removeElements","removeElementsWithTimeout","removeElementsTimeout","findElement","stringSelector","notStacked","$container","selector","found","viewMainClass","flattenedRoutes","hasTabRoutes","tabs","mergedPathsRoutes","tabRoute","tRoute","parentPath","tab","concat","flattenRoutes","detailRoutes","detailRoute","dRoute","masterRoute","masterRoutePath","childRoute","cRoute","query","parseUrlQuery","toUrl","PathToRegexp","toString","serializeObject","foundTabRoute","$tabEl","tabId","matchingRoute","parseRouteUrl","matched","pathsToMatch","alias","aliasPath","pathToMatch","exec","keyObj","paramValue","decodeURIComponent","paramName","regExp","RegExp","xhrCache","requestUrl","ignoreCache","hasQuery","passRouteQueryToRequest","passRouteParamsToRequest","xhrCacheIgnoreGetParameters","xhrCacheIgnore","cachedUrl","time","xhrCacheDuration","beforeSend","complete","status","responseText","removeFromXhrCache","toRemove","pageEl","pageFrom","pageFromEl","$pageEl","fromPage","$pageFromEl","page","position","restoreScrollTopOnBack","camelName","toUpperCase","colonName","getPageData","attachEvents","$pageContent","pageContentIndex","pageContentEl","f7PageInitialized","detachEvents","f7RouteEventsAttached","f7RouteEventsOn","f7RouteEventsOnce","newUrl","appRouterCheck","pushStateRoot","pushStateSeparator","iosSwipeBack","mdSwipeBack","auroraSwipeBack","historyRestored","hasTabRoute","initUrl","documentUrl","location","href","origin","pushStateOnLoad","pushStateAnimateOnLoad","pathname","console","warn","restoreHistory","state","search","findMatchingRoute","reloadCurrent","$navbarInnerEl","prepend","master","role","initOptions","removeThemeElements","tabLoad","animate","pageAfterIn","initViewState","routerProp","Framework7Class","forward","masterPageEl","otherDetailPageEl","modalType","forwardOptions","reloadPages","reloadPrevious","reloadAll","clearPreviousHistory","reloadDetail","masterDetailEnabled","isMaster","currentRouteIsModal","modal","modalLoadProp","modalToClose","modalInstance","previousUrl","modalRemove","$oldPage","$newNavbarInner","$oldNavbarInner","$viewEl","$newPage","reload","keepAliveData","$navbarsInView","isDetail","$pagesInView","pageInView","navbarInView","contains","newPagePosition","navbar","getElByPage","oldNavbarInnerEl","pageIndex","navbarIndex","newPageInDom","$mount","componentEl","f7PageMounted","$oldPageEl","$oldNavbarInnerEl","afterAnimation","pageClasses","navbarClasses","keepOldPage","clearRouterQueue","setPositionClasses","delay","load","loadParams","loadOptions","ignorePageChange","pageName","sameParams","allowDuplicateUrls","navigateParams","createRoute","navigateOptions","findRouteByKey","constructRouteUrl","navigateUrl","currentPath","routerLoaded","modalLoad","pageLoadProp","async","resolveParams","resolveOptions","resolvedAsModal","modalRoute","preloadMaster","masterLoaded","processRouteQueue","loadModules","refreshPage","parentPageEl","$parentPageEl","hasContentLoadProp","tabShowResult","show","$newTabEl","$oldTabEl","animated","onTabsChanged","tabParentPageData","onTabLoaded","contentEl","tabEventTarget","unloadTabContent","tabRemove","f7RouterTabLoaded","loadTab","loadTabParams","loadTabOptions","tabContent","asyncResolve","asyncReject","tabLoadProp","hasTabComponentChild","removeTabContent","foundLoadProp","isPanel","modalOrPanel","modalParams","onModalLoaded","hasEl","closeOnSwipeBack","closeByRouter","modalComponent","nextTick","removeModal","loadModal","loadModalParams","loadModalOptions","modalContent","backward","backwardOptions","backIndex","currentIsMaster","force","prevAll","pageToRemove","$navbarToRemove","$pageToRemove","insertPage","$previousPages","ie","edge","firefox","go","loadBack","backParams","backOptions","prevOpenedModals","f7Modal","forceOtherUrl","isBrokenPushState","needHistoryBack","skipMaster","$previousPage","$previousMaster","expectedPreviousPageUrl","expectedPreviousPageRoute","previousPageRoute","backForceLoaded","clearPreviousPages","panel"],"mappings":"2FAAA,YAEe,KACbA,KAAM,SACNC,OAAQ,CACNC,YAEFC,SAAU,CACRC,MAAO,CACLC,IAAK,GACLC,UAAW,GACXC,WAAY,KAGhBC,OAZa,WAaMC,KACJC,IADID,KAGFE,OAAOC,SAHLH,KAIJG,OAAS,IAAIV,IAJTO,KAIyBC,IAJzBD,YAQNG,OAAS,IAAIV,IARPO,S,mGCZN,GACbT,KAAM,SACNa,MAAO,CACLC,OAAQC,KAEVd,OAAQ,CACNa,OAAQC,KAEVC,GAAI,CACFC,KADE,WAEA,IAAMC,EAAa,GACbC,EAAOC,IAASC,cAAc,QAC9BC,EAAgBF,IAASC,cAAc,sDAC7C,GAAKF,EAAL,CAWA,GAVIJ,IAAOQ,YAAcR,IAAOS,KAAOF,GAA2C,sBAA1BA,EAAcG,SACpEP,EAAWQ,KAAK,wBAIlBR,EAAWQ,KAAX,6BAAsCC,KAAKC,MAAMb,IAAOc,cACpDd,IAAOc,YAAc,GACvBX,EAAWQ,KAAK,iBAGdX,IAAOe,KAAOf,IAAOgB,SAMvB,GALAb,EAAWQ,KAAX,iBACYX,IAAOe,IADnB,iBAEYf,IAAOe,GAFnB,YAEyBf,IAAOiB,UAAUC,MAAM,KAAK,IAFrD,iBAGYlB,IAAOe,GAHnB,YAGyBf,IAAOiB,UAAUE,QAAQ,MAAO,OAEvC,QAAdnB,IAAOe,GAAc,CAEvB,IADA,IACSK,EADKC,SAASrB,IAAOiB,UAAUC,MAAM,KAAK,GAAI,IAClC,EAAGE,GAAK,EAAGA,GAAK,EACnCjB,EAAWQ,KAAX,wBAAiCS,IAE/BpB,IAAOsB,SACTnB,EAAWQ,KAAK,yBAGXX,IAAOgB,UAChBb,EAAWQ,KAAK,kBACZX,IAAOe,IACTZ,EAAWQ,KAAX,iBAA0BX,IAAOe,OAGjCf,IAAOuB,SAAWvB,IAAOwB,WAC3BrB,EAAWQ,KAAK,kBAIlBR,EAAWsB,SAAQ,SAACC,GAClBtB,EAAKuB,UAAUC,IAAIF,UCnDZ,GACbzC,KAAM,UACNa,MAAO,CACL+B,QAASC,KAEX5C,OAAQ,CACN2C,QAASC,KAEX7B,GAAI,CACFC,KADE,WAEA,IAAME,EAAOC,IAASC,cAAc,QACpC,GAAKF,EAAL,CACmB,GAERqB,SAAQ,SAACC,GAClBtB,EAAKuB,UAAUC,IAAIF,UChBZ,GACbzC,KAAM,QACNa,MAAO,CACLiC,MAAOC,KAET9C,OAAQ,CACN6C,MAAOC,MCNI,GACb/C,KAAM,SACNG,SAAU,CACR6C,QADQ,WAGN,IADYvC,KACHwC,KAAK,GAAI,MAAO,CAAEC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,IAAK,GAC9D,IAAMC,EAFM7C,KAEOwC,KAAKK,SAHhB,EAI2B,CAHvB7C,KAG4BwC,KAAK,GAAGM,YAHpC9C,KAGqDwC,KAAK,GAAGO,aAAcF,EAAOF,KAAME,EAAOD,KAApGH,EAJC,KAIMC,EAJN,KAIcC,EAJd,KAIoBC,EAJpB,KASR,OARY5C,KAIRyC,MAAQA,EAJAzC,KAKR0C,OAASA,EALD1C,KAMR2C,KAAOA,EANC3C,KAOR4C,IAAMA,EACH,CAAEH,QAAOC,SAAQC,OAAMC,SAGlCrC,GAAI,CACFC,KADE,WAEA,IAAMP,EAAMD,KAGZC,EAAIsC,UAGJS,IAAOC,iBAAiB,UAAU,WAChChD,EAAIiD,KAAK,aACR,GAGHF,IAAOC,iBAAiB,qBAAqB,WAC3ChD,EAAIiD,KAAK,yBAGbC,kBAjBE,WAkBYnD,KAEJK,OAAO+C,OACbzC,IAAS0C,KAAKC,WAAa,EAC3BC,YAAW,WACT5C,IAAS0C,KAAKC,WAAa,IAC1B,KAGPE,OA3BE,WA4BYxD,KACRuC,aC3CK,GACbhD,KAAM,UACNa,MAAO,CACLqD,QAASC,KAEXlE,OAAQ,CACNiE,QAASC,MC2uBE,OACbnE,KAAM,QACNW,OAAQ,CACNyD,MAAO,CAELC,YAAY,EACZC,4BAA6B,GAC7BC,6BAA8B,GAC9BC,kBAAmB,GAEnBC,6BAA8B,EAE9BC,oBAAoB,EAEpBC,SAAS,EACTC,aAAc,IACdC,sBAAsB,EAEtBC,aAAa,EACbC,oBAAqB,yJACrBC,eAAe,EACfC,gBAAgB,EAChBC,mBAAmB,EACnBC,oBAAqB,4XAGzBhF,SAAU,CACRiF,YAAa,CACXC,MAAOxC,IAAQuB,MAAQ,aAAe,YACtCkB,KAAMzC,IAAQuB,MAAQ,YAAc,YACpCmB,IAAK1C,IAAQuB,MAAQ,WAAa,YAGtCpD,GAAI,CACFC,KAjxBJ,WACE,IASIuE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EA9BEhG,EAAMD,KACNE,EAASD,EAAIC,OAAOyD,MACpBuC,EAAYhG,EAAO,GAAD,OAAID,EAAIkG,MAAR,gBA8BxB,SAASC,EAAqBC,GAC5B,IAEIC,EAFEC,EAASC,YAAEH,GACXI,EAAUF,EAAOE,QAAQvG,EAAOoE,qBAQtC,GANIiC,EAAOG,GAAGxG,EAAOoE,uBACnBgC,EAAYC,GAEVE,EAAQE,OAAS,IACnBL,EAAYA,EAAYA,EAAUpE,IAAIuE,GAAWA,GAE/CH,GAAaA,EAAUK,OAAS,EAAG,CAGrC,IAFA,IACIC,EADEC,EAAe,GAEZnF,EAAI,EAAGA,EAAI4E,EAAUK,OAAQjF,GAAK,EACpCkF,IACHC,EAAa5F,KAAKqF,EAAU5E,KACxB4E,EAAUQ,GAAGpF,GAAGqF,SAAS,qCACxBT,EAAUQ,GAAGpF,GAAGqF,SAAS,kCAE5BH,GAAqB,IAI3BN,EAAYE,YAAEK,GAEhB,OAAOP,GAAaC,EAGtB,SAASS,EAA4BX,GAEnC,OADoBA,EAAGI,QAAQ,iBACZE,OAAS,EAoB9B,SAASM,IACFtB,GACLA,EAAiBuB,SAAS,gBAE5B,SAASC,IACFxB,IACLA,EAAiByB,YAAY,gBAC7BzB,EAAmB,MAsFrB,SAAS0B,EAAaC,EAAKC,EAAGC,GACvBF,IACLvB,EAAa9F,EAAIwH,YAAY1H,OAAOuH,EAAKC,EAAGC,IAG9C,SAASE,IACF3B,IACLA,EAAW4B,SACX5B,OAAa6B,EACb5B,OAAe4B,GAEjB,SAASC,EAAiBxB,IACxBL,EA9BF,SAA2BK,GACzB,IAAMyB,EAAiB5H,EAAOwE,oBACxB4C,EAAMd,YAAEH,GACd,GAAIiB,EAAIZ,GAAGoB,GACT,OAAIR,EAAIP,SAAS,cAGVO,EAET,GAAIA,EAAIb,QAAQqB,GAAgBnB,OAAS,EAAG,CAC1C,IAAMoB,EAAeT,EAAIb,QAAQqB,GAAgBhB,GAAG,GACpD,OAAIiB,EAAahB,SAAS,cAGnBgB,EAET,OAAO,EAcQC,CAAkB3B,KACY,IAAxBL,EAAaW,QAIbzG,EAAO0D,WAhI9B,SAAgCyC,GAC9B,IAAM4B,EAAc5B,EAAGI,QAAQ,iBAE/B,OAA2B,IAAvBwB,EAAYtB,SAK6B,QAAzCsB,EAAYC,KAAK,sBACnBD,EAAY1H,GAAG,UAAU,WACvB4H,aAAavC,GACbuC,aAAalC,MAEfgC,EAAYC,KAAK,mBAAoB,SAGhC,GAiHHE,CAAuBpC,GACvBgB,EAA4BhB,KAM9BmC,aAAalC,GACbA,EAAgB1C,YAAW,WACzBmE,IACAL,EAAarB,EAAcjB,EAAaC,KACvC,MAPH0C,IACAL,EAAarB,EAAcjB,EAAaC,IATxCgB,OAAe4B,EAkBnB,SAASS,IACPF,aAAalC,GACbyB,IAEF,SAASY,IACFvC,IAAcC,GAAiBT,EAKlCmC,KAJAS,aAAalC,GACboB,EAAarB,EAAcjB,EAAaC,GACxCzB,WAAWmE,EAAc,IAic7B,SAASa,EAAkBhJ,EAAMiJ,GAC/BvI,EAAIiD,KAAK,CACPuF,OAAQlJ,EACRmJ,KAAM,CAACF,KAMX,SAASG,EAAoBH,GAC3BD,EAAkB,+BAAgCC,GAEpD,SAASI,EAAmBJ,GAC1BD,EAAkB,6BAA8BC,GAElD,SAASK,EAAkBL,GACzBD,EAAkB,2BAA4BC,GAEhD,SAASM,EAAqBN,GAC5BD,EAAkB,qBAAsBC,GAE1C,SAASO,EAAoBP,GAC3BD,EAAkB,oBAAqBC,GAEzC,SAASQ,EAAmBR,GAC1BD,EAAkB,mBAAoBC,GA7qBpClI,IAAOS,KAAOT,IAAO2I,SAEvBjG,IAAOC,iBAAiB,cAAc,eA8qBxC,IAAMiG,IAAkB9G,IAAQ8G,iBAAkB,CAAEC,SAAS,GACvDC,IAAiBhH,IAAQ8G,iBAAkB,CAAEC,SAAS,GAE5DxI,IAASsC,iBAAiB,SAzB1B,SAAkBuF,GAChBD,EAAkB,QAASC,MAwBgB,GAEzCpG,IAAQ8G,iBACVvI,IAASsC,iBAAiBhD,EAAI0E,YAAYC,MAAO+D,EAAqBS,GACtEzI,IAASsC,iBAAiBhD,EAAI0E,YAAYE,KAAM+D,EAAoBQ,GACpEzI,IAASsC,iBAAiBhD,EAAI0E,YAAYG,IAAK+D,EAAmBO,GAElEzI,IAASsC,iBAAiBhD,EAAI0E,YAAYC,MAAOkE,EAAsBI,GACvEvI,IAASsC,iBAAiBhD,EAAI0E,YAAYE,KAAMkE,EAAqBG,GACrEvI,IAASsC,iBAAiBhD,EAAI0E,YAAYG,IAAKkE,EAAoBE,KAEnEvI,IAASsC,iBAAiBhD,EAAI0E,YAAYC,OAAO,SAAC4D,GAChDG,EAAoBH,GACpBM,EAAqBN,MACpB,GACH7H,IAASsC,iBAAiBhD,EAAI0E,YAAYE,MAAM,SAAC2D,GAC/CI,EAAmBJ,GACnBO,EAAoBP,MACnB,GACH7H,IAASsC,iBAAiBhD,EAAI0E,YAAYG,KAAK,SAAC0D,GAC9CK,EAAkBL,GAClBQ,EAAmBR,MAClB,IAGDpG,IAAQuB,OACNzD,EAAO0D,YACT3D,EAAIM,GAAG,SApPX,SAAqBiI,GACnB,IApYqBnC,EACfgD,EAmYFC,GAAa,EACjB,OAAInE,GACFD,EAAgB,KAChBC,GAAa,GACN,GAEc,WAAlBqD,EAAEjC,OAAOgD,MAAkC,IAAbf,EAAEgB,QAAmC,SAAlBhB,EAAEjC,OAAOgD,OAG1DrE,IA7YgBmB,EA8YAmC,EAAEjC,OA7YjB8C,EAAS,8BAA+B7H,MAAM,KAChD6E,EAAGoD,UAAYJ,EAAMK,QAAQrD,EAAGoD,SAASE,gBAAkB,IA6Y3DL,GAAa,IAGZzD,IACHyD,GAAa,GAEX3I,IAASiJ,gBAAkB1E,IAC7BoE,GAAa,GAEXd,EAAEqB,sBACJP,GAAa,GAEVd,EAAEsB,aACLR,GAAa,GAEXpJ,EAAOgE,SAAWhE,EAAOkE,sBAAwBoB,IACnD8D,GAAa,GAEVA,IACHd,EAAEuB,2BACFvB,EAAEwB,kBACE9E,GAhXR,SAA4BmB,GAC1B,IAAMiB,EAAMd,YAAEH,GACV4D,GAAU,EAQd,OAPI3C,EAAIZ,GAAG,UAAYY,EAAIb,QAAQ,SAASE,OAAS,KAEjDsD,GADE3J,IAAO4J,YAEA5J,IAAOS,MAAOuG,EAAIZ,GAAG,WAI3BuD,EAuWCE,CAAmBjF,IAAkBK,IACvCiD,EAAE4B,iBAGJ5B,EAAE4B,iBAEJlF,EAAgB,MAElBY,EAAwBvC,YAAW,WACjCsC,GAAiB,IACfvF,IAAOS,KAAOT,IAAO+J,cAAgB,IAAM,KAE3CnK,EAAOgE,UACTuB,EAAiBlC,YAAW,WAC1BiC,GAAe,IACblF,IAAOS,KAAOT,IAAO+J,cAAgB,IAAM,MAG1Cf,MAiMLrJ,EAAIM,GAAG,cAjcX,SAA0BiI,GAAG,IAxKCnC,EActBiB,EA0JqB,OAG3B,GAFA/B,GAAU,EACVC,GAAe,EACXgD,EAAE8B,cAAc3D,OAAS,EAE3B,OADIhB,GAAkBwB,KACf,EAiBT,GAfIqB,EAAE+B,QAAQ5D,OAAS,GAAKhB,GAC1BwB,IAEEjH,EAAOgE,UACLuB,GAAgB0C,aAAa1C,GACjCA,EAAiBlC,YAAW,WACtBiF,GAAKA,EAAE+B,SAAW/B,EAAE+B,QAAQ5D,OAAS,IACzCnB,GAAe,EACfgD,EAAE4B,iBACF5D,YAAEgC,EAAEjC,QAAQiE,QAAQ,cACnBtK,EAAOiE,eAER2B,GAAuBqC,aAAarC,GA3LZO,EA4LUmC,EAAEjC,OA9KlCe,EAAMd,YAAEH,KA8KdR,IA7KkC,UAA9BQ,EAAGoD,SAASE,gBAA0C,SAAZtD,EAAGkD,MAA+B,UAAZlD,EAAGkD,OACrC,WAA9BlD,EAAGoD,SAASE,eAA8BrJ,IAAO4J,SACjD5C,EAAIP,SAAS,iBAAmBO,EAAIb,QAAQ,iBAAiBE,OAAS,GACtEzG,EAAO6D,mBAAqBuD,EAAImD,QAAQvK,EAAO6D,mBAAmB4C,OAAS,IA8K7E,OADAxB,GAAa,GACN,EAET,GAAI7E,IAAOS,KAAQT,IAAO4J,SAAW,iBAAkBlH,IAAS,CAC9D,IAAM0H,EAAY1H,IAAO2H,eACzB,GACED,EAAUE,YACPF,EAAUG,YAAclK,IAAS0C,QAC/BqH,EAAUI,aAAenK,IAASiJ,gBAAkBc,EAAUG,WAGnE,OADAzF,GAAkB,GACX,EAGTA,GAAkB,EAoCpB,OAlCI9E,IAAO4J,SAzNb,SAA0B7D,GACxB,IAAM0E,EAAU,+BAAgCvJ,MAAM,KACtD,SAAIb,IAASiJ,eAAiBvD,IAAO1F,IAASiJ,eAAiBjJ,IAASiJ,gBAAkBjJ,IAAS0C,SAC7F0H,EAAOrB,QAAQrD,EAAGoD,SAASE,gBAAkB,GAuN7CqB,CAAiBxC,EAAEjC,SACrB5F,IAASiJ,cAAcqB,OAI3B9F,GAAa,EACbD,EAAgBsD,EAAEjC,OAClBtB,GAAkB,IAAIiG,MAAQC,UAC9BpG,EAAcyD,EAAE8B,cAAc,GAAGc,MACjCpG,EAAcwD,EAAE8B,cAAc,GAAGe,MAG7B/K,IAAOS,MACTsE,OAAeuC,EACfpB,YAAEtB,GAAeuB,UAAU6E,MAAK,WAC9B,IAAMC,EAAS,EACXA,EAAOC,aAAeD,EAAOxI,eAAiBsC,KAChDA,EAAekG,GACFE,YAAcpG,EAAaqG,eAIzCzG,EAAiBK,EAAiBpF,EAAO4D,8BAC5C0E,EAAE4B,iBAGAlK,EAAOmE,cACTsB,EAAmBS,EAAqBlB,GACxCU,EAAgBrC,WAAW0D,EAAW,IAEpCf,GACF2B,EAAiB3C,IAEZ,KAyXLjF,EAAIM,GAAG,aAvXX,SAAyBiI,GACvB,GAAKrD,EAAL,CACA,IAAMwG,EAAWzL,EAAO2D,4BACxB,GAAI8H,EAAU,CACZ,IAAMP,EAAQ5C,EAAE8B,cAAc,GAAGc,MAC3BC,EAAQ7C,EAAE8B,cAAc,GAAGe,OAC7BnK,KAAK0K,IAAIR,EAAQrG,GAAe4G,GAAYzK,KAAK0K,IAAIP,EAAQrG,GAAe2G,KAC9EpG,GAAU,QAGZA,GAAU,EAERA,IACFJ,GAAa,EACbD,EAAgB,KAChBK,GAAU,EACNrF,EAAOgE,SACTiE,aAAa1C,GAEXvF,EAAOmE,cACT8D,aAAavC,GACbuB,KAEEjB,GACFmC,SAgWFpI,EAAIM,GAAG,YA5VX,SAAwBiI,GACtBL,aAAavC,GACbuC,aAAa1C,GAEb,IAAMoG,GAAgB,IAAIX,MAAQC,UAElC,IAAKhG,EAUH,OATKC,GAAmBS,IAChBvF,IAAO4J,UAAY1B,EAAEsB,aAAetB,EAAEsB,YAC1CtB,EAAE4B,kBAGFlK,EAAOmE,aAAa8C,IACpBjB,GACFoC,KAEK,EAGT,GAAI3H,IAASiJ,gBAAkBpB,EAAEjC,OAK/B,OAJIrG,EAAOmE,aAAa8C,IACpBjB,GACFoC,KAEK,EAOT,GAJKlD,GACHoD,EAAE4B,iBAGCyB,EAAevG,EAAiBpF,EAAO4D,6BAK1C,OAJAP,WAAW4D,EAAc,GACrBjB,GACFoC,KAEK,EAOT,GAJAhD,EAAgBuG,EAEhB1G,GAAa,EAET7E,IAAOS,KAAOsE,GACZA,EAAaqG,YAAcrG,EAAaoG,YAC1C,OAAO,EAiBX,GAVIvL,EAAOmE,cACT4C,IACA1D,WAAW4D,EAAc,IAGvBjB,GACFoC,IAnTJ,SAA0BjC,GACxB,GAAI1F,IAASiJ,gBAAkBvD,EAC7B,OAAO,EAET,IAAMyF,EAAMzF,EAAGoD,SAASE,cAClBoC,EAAc,0CAA2CvK,MAAM,KACrE,OAAI6E,EAAG2F,WAAY3F,EAAG4F,WACV,aAARH,IACQ,WAARA,GACExL,IAAO4J,QAGD,UAAR4B,GAAmBC,EAAWrC,QAAQrD,EAAGkD,MAAQ,IA2SjD2C,CAAiBhH,GAAgB,CACnC,GAAI5E,IAAOS,KAAOT,IAAO2I,QAEvB,OADA/D,EAAciH,SACP,EAGTjH,EAAciH,QAUhB,OANIxL,IAASiJ,eAAiB1E,IAAkBvE,IAASiJ,eAAiBjJ,IAASiJ,gBAAkBjJ,IAAS0C,MAAiD,UAAzC6B,EAAcuE,SAASE,eAC3IhJ,IAASiJ,cAAcqB,OAIzBzC,EAAE4B,iBACElK,EAAOkE,sBAAwBoB,GA9MrC,SAAmBgD,GACjB,IAAM7E,EAAQ6E,EAAE4D,eAAe,GACzBC,EAAM1L,IAAS2L,YAAY,eAC7BC,EAAY,QACZjM,IAAO4J,SAAoD,WAAzChF,EAAcuE,SAASE,gBAC3C4C,EAAY,aAEdF,EAAIG,eAAeD,GAAW,GAAM,EAAMvJ,IAAQ,EAAGW,EAAM8I,QAAS9I,EAAM+I,QAAS/I,EAAMgJ,QAAShJ,EAAMiJ,SAAS,GAAO,GAAO,GAAO,EAAO,EAAG,MAChJP,EAAIxC,qBAAsB,EAEtB5J,EAAII,OAAOU,KAAOiC,IAAO6J,UAAU/L,WAGrCyC,YAAW,YACT2B,EAAgBvE,IAASmM,iBAAiBtE,EAAE4D,eAAe,GAAGO,QAASnE,EAAE4D,eAAe,GAAGQ,WAEzF1H,EAAc6H,cAAcV,KAE7B,IAEHnH,EAAc6H,cAAcV,GA6L9BW,CAAUxE,IAFD,OA+QPvI,EAAIM,GAAG,SAhGX,SAA0BiI,GACxB,IAAMyE,EAAczE,GAAKA,EAAEgB,QAAuB,gBAAbhB,EAAEgB,OACnC0D,EAAoBxH,EA4BxB,OA3BIR,GAAiBsD,EAAEjC,SAAWrB,IAE9BgI,GADED,GAMF/M,EAAOgE,SAAWhE,EAAOkE,sBAAwBoB,IACnD0H,GAAoB,GAElBA,IACF1E,EAAEuB,2BACFvB,EAAEwB,kBACFxB,EAAE4B,kBAGAlK,EAAOgE,UACTuB,EAAiBlC,YACf,WACEiC,GAAe,IAEhBlF,IAAOS,KAAOT,IAAO+J,cAAgB,IAAM,MAGhD3E,GAAe,EACfR,EAAgB,MAERgI,KAmENjN,EAAIM,GAAG,cAnMX,SAA+BiI,GAI7B,OAHAjD,GAAU,EACVC,GAAe,EACfE,GAAe,EACX8C,EAAE8B,cAAc3D,OAAS,GACvBhB,GAAkBwB,KACf,IAELqB,EAAE+B,QAAQ5D,OAAS,GAAKhB,GAC1BwB,IAEEjH,EAAOgE,UACLuB,GAAgB0C,aAAa1C,GACjCA,EAAiBlC,YAAW,WACtBiF,GAAKA,EAAE+B,SAAW/B,EAAE+B,QAAQ5D,OAAS,IACzCnB,GAAe,EACfgD,EAAE4B,iBACF1E,GAAe,EACfc,YAAEgC,EAAEjC,QAAQiE,QAAQ,cACnBtK,EAAOiE,eAEZe,EAAgBsD,EAAEjC,OAClBxB,EAAcyD,EAAE8B,cAAc,GAAGc,MACjCpG,EAAcwD,EAAE8B,cAAc,GAAGe,MAE7BnL,EAAOmE,cAEJ2C,EADLrB,EAAmBS,EAAqBlB,IAItCU,EAAgBrC,WAAW0D,EAAW,IAFtCA,KAKAf,GACF2B,EAAiB3C,IAEZ,MAgKLjF,EAAIM,GAAG,aA9JX,SAA8BiI,GAC5B,IAAI7E,EACAgI,EAWJ,GAVe,cAAXnD,EAAEe,OACJ5F,EAAQ6E,EAAE8B,cAAc,GACxBqB,EAAWzL,EAAO8D,8BAQhB2H,GAAYhI,EAAO,CACrB,IAAMyH,EAAQzH,EAAMyH,MACdC,EAAQ1H,EAAM0H,OAChBnK,KAAK0K,IAAIR,EAAQrG,GAAe4G,GAAYzK,KAAK0K,IAAIP,EAAQrG,GAAe2G,KAC9EpG,GAAU,QAGZA,GAAU,EAERA,IACFG,GAAe,EACXxF,EAAOgE,SACTiE,aAAa1C,GAEXvF,EAAOmE,cACT8D,aAAavC,GACbuB,KAEEjB,GACFmC,QA+HFpI,EAAIM,GAAG,YA3HX,SAA6BiI,GAG3B,OAFAL,aAAavC,GACbuC,aAAa1C,GACT9E,IAASiJ,gBAAkBpB,EAAEjC,QAC3BrG,EAAOmE,aAAa8C,IACpBjB,GACFoC,KAEK,IAELpI,EAAOmE,cACT4C,IACA1D,WAAW4D,EAAc,IAEvBjB,GACFoC,MAEGpI,EAAOkE,sBAAwBoB,GAAiBE,KAC/C8C,EAAEsB,YAAYtB,EAAE4B,iBACpB1E,GAAe,GACR,QA0GT/E,IAASsC,iBAAiB,eAhR5B,WACEkC,GAAa,EACbD,EAAgB,KAGhBiD,aAAavC,GACbuC,aAAa1C,GACTvF,EAAOmE,aACT8C,IAIEjB,GACFoC,MAmQ0D,CAAEa,SAAS,KAC9DjJ,EAAOmE,cAChBpE,EAAIM,GAAG,cAjgBT,SAAyBiI,GACvBpC,EAAqBoC,EAAEjC,QAAQW,SAAS,gBACpC,UAAWsB,GAAiB,IAAZA,EAAE2E,OACpB5J,YAAW,WACTiD,YAAE,iBAAiBY,YAAY,kBAC9B,GAEDlB,IACFnB,EAAcyD,EAAE4C,MAChBpG,EAAcwD,EAAE6C,MAChBxD,EAAiBW,EAAEjC,OAAQiC,EAAE4C,MAAO5C,EAAE6C,WAwfxCpL,EAAIM,GAAG,aArfT,WACEiG,YAAE,iBAAiBY,YAAY,gBAC3BlB,GACFmC,OAmfFpI,EAAIM,GAAG,YAhfT,WACEiG,YAAE,iBAAiBY,YAAY,gBAC3BlB,GACFoC,QA+eJ3H,IAASsC,iBAAiB,eAAe,SAACuF,GACpCtI,EAAO+D,qBAAuB3D,IAAOS,KAAOT,IAAO4J,SAAW5J,IAAOuB,UACvE2G,EAAE4B,iBAEAlE,IACEP,GAAkBwB,IACtBmB,W,QC5oBS,OACb/I,KAAM,SACNW,OAAQ,CACNkN,OAAQ,CAENC,cAAe,cAGnB9M,GAAI,CACFC,KADE,YArGN,SAAoBP,GAiFlBA,EAAIM,GAAG,SAhFP,SAAsBiI,GACpB,IAAM8E,EAAa9G,YAAEgC,EAAEjC,QACjBgH,EAAiBD,EAAW7C,QAAQ,KACpC+C,EAASD,EAAe5G,OAAS,EACjC8G,EAAMD,GAAUD,EAAeG,KAAK,QAI1C,GAAIF,IAEED,EAAe7G,GAAGzG,EAAIC,OAAOkN,OAAOC,gBAAmBI,GAAOA,EAAI/D,QAAQ,gBAAkB,GAFlG,CAGI,IAAMnD,EAASgH,EAAeG,KAAK,UAEjCD,GACGzK,IAAOnB,SACPmB,IAAOnB,QAAQ8L,eACH,YAAXpH,GAAmC,WAAXA,KAE5BiC,EAAE4B,iBACFpH,IAAOnB,QAAQ8L,aAAaC,KAAKH,EAAKlH,QAX5C,CAkBAsH,OAAOC,KAAK7N,EAAI8N,SAAShM,SAAQ,SAACiM,GAChC,IAAMC,EAAehO,EAAI8N,QAAQC,GAAYZ,OACxCa,IACDzF,EAAE0F,iBACNL,OAAOC,KAAKG,GAAclM,SAAQ,SAACoM,GACjC,IAAMC,EAAyBd,EAAW7C,QAAQ0D,GAAerH,GAAG,GAChEsH,EAAuBzH,OAAS,GAClCsH,EAAaE,GAAeE,KAAKpO,EAAKmO,EAAwBA,EAAuBE,UAAW9F,UAMtG,IAAI+F,EAAkB,GAOtB,GANIf,IACFhF,EAAE4B,iBACFmE,EAAkBhB,EAAee,YAI/B9F,EAAE0F,gBACN,IAAIX,EAAexG,SAAS,oBAAqBwG,EAAexG,SAAS,kBAGzE,GADiB0G,GAAOA,EAAI9G,OAAS,GAAgB,MAAX8G,EAAI,IAC9BF,EAAexG,SAAS,QAAS,CAC/C,IAAIyH,EAaJ,GAZID,EAAgBC,KAClBA,EAAOhI,YAAE+H,EAAgBC,MAAM,GAAGC,QAElCD,EAAOlB,EAAW7G,QAAQ,SAAS,IAAM6G,EAAW7G,QAAQ,SAAS,GAAGgI,QACnElB,EAAexG,SAAS,SAAWyH,GAAQA,EAAKtO,OAAOwO,YACrB,iBAA1BF,EAAKtO,OAAOwO,UAAwBF,EAAOhI,YAAEgI,EAAKtO,OAAOwO,WAAW,GAAGD,OACzED,EAAKtO,OAAOwO,qBAAqBC,MAAWH,EAAOA,EAAKtO,OAAOwO,aAGvEF,GACCvO,EAAI2O,MAAMC,OAAML,EAAOvO,EAAI2O,MAAMC,OAElCL,IAASA,EAAKrO,OAAQ,OAC3B,GAAIoO,EAAgBO,SAA8C,iBAA5BP,EAAgBO,QACpD,IACEP,EAAgBO,QAAUC,KAAKC,MAAMT,EAAgBO,SACrD,MAAOG,IAIP1B,EAAe,GAAG2B,eACpBX,EAAgBY,MAAQ5B,EAAe,GAAG2B,cAExC3B,EAAexG,SAAS,QAASyH,EAAKrO,OAAOiP,KAAK3B,EAAKc,GACtDC,EAAKrO,OAAOkP,SAAS5B,EAAKc,QA2B/Be,CADYtP,S,SC1GH,GACbT,KAAM,uBACNa,MAAO,CACLmP,eADK,SACUC,EAAUC,EAAaC,EAASC,EAASC,GACtD,IAAMzP,EAASH,KACf,SAAS6P,EAAQC,GACf,IAAIC,EACAjB,EACJ,IAEE,GAAuB,mBADvBA,EAAUY,EAAQZ,SAAW,IACMA,EAAUA,EAAQT,KAAKlO,QACrD,GAAuB,iBAAZ2O,EACd,IACEA,EAAUC,KAAKC,MAAMF,GACrB,MAAOG,GAEP,MADAW,IACOX,EAITc,EADe,mBAAND,EACMA,EAAEhB,GAEFkB,IAAUH,QAAQC,EAAlBE,CAAqB1N,IAAM2N,OAAO,GAAInB,GAAW,GAAI,CAClEoB,KAAM/P,EAAOF,IACbkQ,MAAO7N,IAAM2N,OAAO,GAAI9P,EAAOF,IAAIyI,KAAMvI,EAAOF,IAAImQ,SACpDC,OAAQX,EAAQY,MAChBC,SAAUb,EAAQY,MAClBE,QAASrQ,EACTsQ,UAAWtQ,EACXuQ,OAAQ,CACN3P,IAA0B,QAArBZ,EAAOF,IAAIkG,MAChBwK,GAAyB,OAArBxQ,EAAOF,IAAIkG,MACfyK,OAA6B,WAArBzQ,EAAOF,IAAIkG,UAIzB,MAAO8I,GAEP,MADAW,IACOX,EAETU,EAAQI,EAAc,CAAEjB,YAEtBW,GAEEtP,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EACG2Q,WAAWrB,EAAaC,GACxBqB,MAAK,SAACC,GACLnB,EAAQmB,MAETC,OAAM,WACLrB,QAGJC,EAAQL,IAIZ0B,oBA3DK,SA2De1B,EAAUC,EAAaC,EAASC,EAASC,GAE3D,OADe5P,KACDuP,eAAeC,EAAUC,EAAaC,GAAS,SAAChP,GAC5DiP,EAAQjP,KACPkP,IAGLuB,kBAlEK,SAkEa3B,EAAUC,EAAaC,EAASC,EAASC,GAEzD,OADe5P,KACDuP,eAAeC,EAAUC,EAAaC,GAAS,SAAChP,GAC5DiP,EAAQjP,KACPkP,IAGLwB,mBAzEK,SAyEc5B,EAAUC,EAAaC,EAASC,EAASC,GAC1D,IAAMzP,EAASH,KACf,OAAOG,EAAOoP,eAAeC,EAAUC,EAAaC,GAAS,SAAChP,GAA0B,IAApB2Q,EAAoB,uDAAP,GAC/E1B,EAAQxP,EAAOmR,UAAU5Q,GAAO2Q,KAC/BzB,MChFM,GACbrQ,KAAM,wBACNa,MAAO,CACLmR,gBADK,SACWC,EAAWC,GAA6C,IAkClEC,EAlCmChC,EAA+B,uDAArB,GAAIC,EAAiB,uCAARC,EAAQ,uCAChEzP,EAASH,KACPC,EAAQE,EAARF,IACFwN,EAA2B,iBAAd+D,EAAyBA,EAAYC,EAClDE,EAAcxR,EAAOyR,wBAAwBnE,EAAKiC,GACxD,SAASG,EAAQgC,GACf,IAAI/C,EAAUY,EAAQZ,SAAW,GACjC,GAAuB,mBAAZA,EAAwBA,EAAUA,EAAQT,KAAKlO,QACrD,GAAuB,iBAAZ2O,EACd,IACEA,EAAUC,KAAKC,MAAMF,GACrB,MAAOG,GAEP,MADAW,IACOX,EAGX,IAAM6C,EAAgBxP,IAAMyP,MAC1B,GACAjD,EACA,CACEuB,OAAQX,EAAQY,MAChBC,SAAUb,EAAQY,MAClBE,QAASrQ,EACTsQ,UAAWtQ,EACXuQ,OAAQ,CACN3P,IAAmB,QAAdd,EAAIkG,MACTwK,GAAkB,OAAd1Q,EAAIkG,MACRyK,OAAsB,WAAd3Q,EAAIkG,SAIZ6L,EAAmB/R,EAAIuR,UAAUzR,OAAO8R,EAAkBC,GAChEnC,EAAQqC,EAAiB3L,IAGvBsL,GACFxR,EAAOR,MAAMG,WAAWiC,SAAQ,SAACkQ,GAC3BA,EAAOxE,MAAQkE,IAAaD,EAAkBO,EAAOT,cAGzDG,GAAeD,EACjB7B,EAAQ6B,GACCC,IAAgBD,GAErBvR,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EACG2Q,WAAWrD,EAAKiC,GAChBqB,MAAK,SAACmB,GACL,IAAMC,EAAkBlS,EAAIuR,UAAUxC,MAAMkD,GAC5C/R,EAAOR,MAAMG,WAAWmB,KAAK,CAC3BwM,IAAKkE,EACLH,UAAWW,IAEbtC,EAAQsC,MAETlB,OAAM,SAAChC,GAEN,MADAW,IACOX,MAGXY,EAAQ2B,IAIZY,qBApEK,SAoEgBC,EAAQb,EAAWC,EAAc/B,EAASC,EAASC,GACvD5P,KACRuR,gBAAgBC,EAAWC,EAAc/B,GAAS,SAACrJ,GACxDsJ,EAAQtJ,KACPuJ,IAGL0C,mBA3EK,SA2EcC,EAAOf,EAAWC,EAAc/B,EAASC,EAASC,GACpD5P,KACRuR,gBAAgBC,EAAWC,EAAc/B,GAAS,SAACrJ,GACxDsJ,EAAQtJ,KACPuJ,IAGL4C,oBAlFK,SAkFeC,EAAUjB,EAAWC,EAAc/B,EAASC,EAASC,GACxD5P,KACRuR,gBAAgBC,EAAWC,EAAc/B,GAAS,SAACrJ,GAAwB,IAApBgL,EAAoB,uDAAP,GACzE1B,EAAQtJ,EAAIgL,KACXzB,M,QCxFM,GACbrQ,KAAM,UACNC,OAAQ,CACNkT,QAASC,KAEXpS,GAAI,CACFC,KADE,WAEAmS,IAAQnS,KAAKR,SCNb4S,EAAU,CACdC,IADc,SACVC,GACF,OAAO,IAAIC,SAAQ,SAACpD,EAASC,GAC3B,IAEED,EADcZ,KAAKC,MAAMhM,IAAOgQ,aAAaC,QAApB,UALf,cAKe,OAA2CH,MAEpE,MAAOtK,GACPoH,EAAOpH,QAIb0K,IAXc,SAWVJ,EAAKK,GACP,OAAO,IAAIJ,SAAQ,SAACpD,EAASC,GAC3B,IACE5M,IAAOgQ,aAAaI,QAApB,UAfU,cAeV,OAA2CN,GAAO/D,KAAKsE,UAAUF,IACjExD,IACA,MAAOnH,GACPoH,EAAOpH,QAIbb,OArBc,SAqBPmL,GACL,OAAO,IAAIC,SAAQ,SAACpD,EAASC,GAC3B,IACE5M,IAAOgQ,aAAaM,WAApB,UAzBU,cAyBV,OAA8CR,IAC9CnD,IACA,MAAOnH,GACPoH,EAAOpH,QAIb+K,MA/Bc,aAkCd5M,OAlCc,aAqCdmH,KArCc,WAsCZ,OAAO,IAAIiF,SAAQ,SAACpD,EAASC,GAC3B,IAIED,EAHa9B,OAAOC,KAAK9K,IAAOgQ,cAC7BQ,QAAO,SAAAC,GAAO,OAAmC,IAA/BA,EAAQ/J,QA1CnB,iBA2CPgK,KAAI,SAAAD,GAAO,OAAIA,EAAQhS,QA3ChB,aA2CmC,QAE7C,MAAO+G,GACPoH,EAAOpH,QAIbzG,QAjDc,SAiDN4R,GACN,OAAO,IAAIZ,SAAQ,SAACpD,EAASC,GAC3B,IACE/B,OAAOC,KAAK9K,IAAOgQ,cAChBQ,QAAO,SAAAC,GAAO,OAAmC,IAA/BA,EAAQ/J,QAtDnB,iBAuDP3H,SAAQ,SAAC0R,EAASG,GACjB,IAAMd,EAAMW,EAAQhS,QAxDd,aAwDiC,IACvCmR,EAAQC,IAAIC,GAAK/B,MAAK,SAACoC,GACrBQ,EAASb,EAAKK,EAAOS,SAG3BjE,IACA,MAAOnH,GACPoH,EAAOpH,SAMA,GACbjJ,KAAM,UACNC,OAAQ,CACNoT,UACAiB,QAASjB,IC3EN,SAASkB,EAAMC,EAAKrL,EAAMsL,EAAUC,EAAMC,GAE7C,MAAO,CAAEH,IAAKA,EAAKrL,KAAMA,EAAMsL,SAAUA,EACrCC,KAAMA,EAAMC,IAAKA,EAAKpB,SAFPlL,IAATc,OAAqBd,EAAYc,EAAKoK,KAIrCgB,QCLJK,EAAQC,MAAMC,QAClB,SAASC,EAAUC,GACtB,MAAoB,iBAANA,GAA+B,iBAANA,ECWpC,SAASC,EAAET,EAAKU,EAAGC,GACtB,IAAeV,EAAUC,EAAMvS,EAA3BgH,EAAO,GA2BX,QA1BUd,IAAN8M,GACAhM,EAAO+L,EACH/N,EAASgO,GACTV,EAAWU,EAENhO,EAAagO,GAClBT,EAAOS,EAEFA,GAAKA,EAAEX,MACZC,EAAW,CAACU,UAGL9M,IAAN6M,IACD/N,EAAS+N,GACTT,EAAWS,EAEN/N,EAAa+N,GAClBR,EAAOQ,EAEFA,GAAKA,EAAEV,IACZC,EAAW,CAACS,GAGZ/L,EAAO+L,GAGX/N,EAASsN,GACT,IAAKtS,EAAI,EAAGA,EAAIsS,EAASrN,SAAUjF,EAC3BgF,EAAasN,EAAStS,MACtBsS,EAAStS,GAAKoS,OAAMlM,OAAWA,OAAWA,EAAWoM,EAAStS,QAAIkG,IAO9E,MAJe,MAAXmM,EAAI,IAAyB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IACxB,IAAfA,EAAIpN,QAA2B,MAAXoN,EAAI,IAAyB,MAAXA,EAAI,IA9CnD,SAASY,EAAMjM,EAAMsL,EAAUD,GAE3B,GADArL,EAAKkM,GAAK,6BACE,kBAARb,QAAwCnM,IAAboM,EAC3B,IAAK,IAAItS,EAAI,EAAGA,EAAIsS,EAASrN,SAAUjF,EAAG,CACtC,IAAImT,EAAYb,EAAStS,GAAGgH,UACVd,IAAdiN,GACAF,EAAME,EAAWb,EAAStS,GAAGsS,SAAUA,EAAStS,GAAGqS,MAyC3DY,CAAMjM,EAAMsL,EAAUD,GAEnBD,EAAMC,EAAKrL,EAAMsL,EAAUC,OAAMrM,GAG7B4M,Q,qVCjDf,IAAMM,EAAc,+FAA+FtT,MAAM,KACnHuT,EAAa,kHAAkHvT,MAAM,KACrIwT,EAAe,qHAAqHxT,MAAM,KAC1IyT,EAAUtU,IAASuU,cAAc,OAyIvC,SAASC,EAAQ9O,EAAIyI,EAAS7O,EAAKmV,EAASC,GAC1C,IAAM3M,EAAO,CACXoG,WAEIwG,EAAajP,EAAGiP,WACtBlB,MAAMmB,UAAUxT,QAAQsM,KAAKiH,GAAY,SAAC5H,GACxC,IAAI8H,EAAW9H,EAAKnO,KACdkW,EAAY/H,EAAKyF,MACvB,GAAI4B,EAAWrL,QAAQ8L,IAAa,EAE7B9M,EAAKyG,QAAOzG,EAAKyG,MAAQ,IACb,aAAbqG,IACFA,EAAW,YAETR,EAAatL,QAAQ8L,IAAa,EAEpC9M,EAAKyG,MAAMqG,IAA0B,IAAdC,EAEvB/M,EAAKyG,MAAMqG,GAAYC,OAEpB,GAAiB,QAAbD,EAET9M,EAAKoK,IAAM2C,OACN,GAA8B,IAA1BD,EAAS9L,QAAQ,KAAY,CAEjChB,EAAKnI,KAAImI,EAAKnI,GAAK,IACxB,IAAImV,EAAYF,EAASG,OAAO,GAC5BC,GAAO,EACP3L,GAAU,EACV4L,GAAO,EACPH,EAAUhM,QAAQ,MAAQ,GAC5BgM,EAAUlU,MAAM,KAAKO,SAAQ,SAAC+T,EAAeC,GACpB,IAAnBA,EAAsBL,EAAYI,GAEd,SAAlBA,IAA0BF,GAAO,GACf,YAAlBE,IAA6B7L,GAAU,GACrB,SAAlB6L,IAA0BD,GAAO,OAI3CnN,EAAKnI,GAAGmV,GA3Hd,SAAyBM,EAAelH,GAAuC,IAEzEmH,EACAC,EAHyE,yDAAJ,GAAxBN,EAA4B,EAA5BA,KAAM3L,EAAsB,EAAtBA,QAAS4L,EAAa,EAAbA,KAC5DM,GAAQ,EAGRC,EAAa,GACbC,GAAiB,EAOrB,IAJEJ,EADED,EAActM,QAAQ,KAAO,EAClBsM,EAEAA,EAAcxU,MAAM,KAAK,IAEzBkI,QAAQ,MAAQ,EAC7BuM,EAAWzU,MAAM,KAAKO,SAAQ,SAACuU,EAAMC,GACnC,GAAkB,IAAdA,GAA4B,SAATD,EAAvB,CACA,GAAkB,IAAdC,GAA4B,WAATD,EAIrB,OAFAJ,EAASlT,SACTqT,GAAiB,GAInB,GADKH,IAAQA,EAASpH,IAClBoH,EAAOI,GAET,MAAM,IAAIE,MAAJ,sDAAwDP,EAAWzU,MAAM,KAAKiV,MAAM,EAAGF,EAAY,GAAGG,KAAK,KAA3G,MAFUR,EAASA,EAAOI,WAK/B,CACL,IAAKxH,EAAQmH,GACX,MAAM,IAAIO,MAAJ,sDAAwDP,EAAxD,MAERC,EAASpH,EAAQmH,GAMnB,SAASU,IAAiB,2BAANC,EAAM,yBAANA,EAAM,gBACxB,IAAMpO,EAAIoO,EAAK,GACf,IAAIf,IAAQM,EAAZ,CAKA,GAJIP,GAAMpN,EAAEwB,kBACRC,GAASzB,EAAE4B,iBACf+L,GAAQ,EAEJH,EAActM,QAAQ,KAAO,EAC/B0M,EAAaQ,MACR,CACL,IAAMC,EAAmBb,EACtBxU,MAAM,KAAK,GACXA,MAAM,KAAK,GACXC,QAAQ,oBAAoB,SAAAqV,GAAC,OAAIA,EAAErV,QAAQ,KAAM,gBACjDD,MAAM,KACNkS,KAAI,SAAAoD,GAAC,OAAIA,EAAErV,QAAQ,aAAc,QACpCoV,EAAiB9U,SAAQ,SAACgV,GACxB,IAAIC,EAAMD,EAASE,OAEnB,GAAKC,MAAMF,GACN,GAAY,SAARA,EAAgBA,GAAM,OAC1B,GAAY,UAARA,EAAiBA,GAAM,OAC3B,GAAY,SAARA,EAAgBA,EAAM,UAC1B,GAAY,cAARA,EAAqBA,OAAMpP,OAC/B,GAAe,MAAXoP,EAAI,GAAYA,EAAMA,EAAIvV,QAAQ,KAAM,SAC5C,GAAe,MAAXuV,EAAI,GAAaA,EAAMA,EAAIvV,QAAQ,KAAM,SAC7C,GAAIuV,EAAItN,QAAQ,KAAO,EAAG,CAC7B,IAAIyN,EACJH,EAAIxV,MAAM,KAAKO,SAAQ,SAACuU,GACjBa,IAASA,EAAUrI,GACxBqI,EAAUA,EAAQb,MAEpBU,EAAMG,OAENH,EAAMlI,EAAQkI,QAfCA,EAAMI,WAAWJ,GAiBlCZ,EAAWnV,KAAK+V,MAIpBd,EAAM,WAAN,IAAUE,KAGZ,OA/CIC,IACFH,EAASA,EAAOmB,KAAKvI,IA8ChB6H,EA2CkBW,CAAgB7B,EAAW3G,EAAS,CAAE8G,OAAM3L,UAAS4L,cACrE,GAAiB,UAAbL,EAET,GAAIC,EAAU/L,QAAQ,MAAQ,GAAK+L,EAAU/L,QAAQ,MAAQ,EAC3D,IACEhB,EAAK6O,MAAQxI,KAAKC,MAAMyG,GACxB,MAAOjN,GACFE,EAAK8O,QAAO9O,EAAK8O,MAAQ,IAC9B9O,EAAK8O,MAAMD,MAAQ9B,OAGhB/M,EAAK8O,QAAO9O,EAAK8O,MAAQ,IAC9B9O,EAAK8O,MAAMD,MAAQ9B,OAIhB/M,EAAK8O,QAAO9O,EAAK8O,MAAQ,IAC9B9O,EAAK8O,MAAMhC,GAAYC,EAGN,OAAbD,GAAsB9M,EAAKoK,KAAQuC,IACrC3M,EAAKoK,IAAM2C,MAIjB,IAAMgC,EAxMR,SAAkB/O,EAAMzI,EAAKmV,EAASC,GACpC,IAAMoC,EAAQ,GACd,IAAK/O,IAASA,EAAK8O,QAAU9O,EAAK8O,MAAME,MAAO,OAAOD,EACtD,IAAMhX,EAAaiI,EAAK8O,MAAME,MACxBC,EAAS,GACTC,EAAU,GACVC,EAAS,GACTC,EAAY,GAmBlB,OAlBArX,EAAWe,MAAM,KAAKO,SAAQ,SAACC,GACxBoT,GACHuC,EAAO1W,KAAP,MAAA0W,EAAM,EAAS1X,EAAI8X,cAAc,SAAU/V,KAE7C4V,EAAQ3W,KAAR,MAAA2W,EAAO,EAAS3X,EAAI8X,cAAc,UAAW/V,KAC7C6V,EAAO5W,KAAP,MAAA4W,EAAM,EAAS5X,EAAI8X,cAAc,SAAU/V,KAC3C8V,EAAU7W,KAAV,MAAA6W,EAAS,EAAS7X,EAAI8X,cAAc,YAAa/V,QAG/CqT,IAAWD,GACb0C,EAAU7W,MAAK,SAAC+W,EAAUlE,GACxB,IAAMmE,EAAKnE,GAASkE,EACfC,GACDA,EAAGvP,MAAQuP,EAAGvP,KAAKoG,SAAWmJ,EAAGvP,KAAKoG,QAAQoJ,SAASC,SACzDF,EAAGvP,KAAKoG,QAAQoJ,SAASC,aAIT,IAAlBR,EAAOhR,QAAmC,IAAnBiR,EAAQjR,QAAkC,IAAlBkR,EAAOlR,QAAqC,IAArBmR,EAAUnR,SAGhFgR,EAAOhR,SACT8Q,EAAME,OAAS,SAAC7D,GACd6D,EAAO5V,SAAQ,SAAAqW,GAAC,OAAIA,EAAEtE,QAGtB8D,EAAQjR,SACV8Q,EAAMG,QAAU,SAAC9D,GACf8D,EAAQ7V,SAAQ,SAAAqW,GAAC,OAAIA,EAAEtE,QAGvB+D,EAAOlR,SACT8Q,EAAMI,OAAS,SAACG,EAAUlE,GACxB+D,EAAO9V,SAAQ,SAAAqW,GAAC,OAAIA,EAAEJ,EAAUlE,QAGhCgE,EAAUnR,SACZ8Q,EAAMK,UAAY,SAACE,EAAUlE,GAC3BgE,EAAU/V,SAAQ,SAAAqW,GAAC,OAAIA,EAAEJ,EAAUlE,SAnB9B2D,EA6KKY,CAAS3P,EAAMzI,EAAKmV,EAASC,GAiB3C,OAhBAoC,EAAMa,SAAW,SAACN,EAAUlE,GACrBkE,GAAalE,GACdkE,GAAYA,EAAStP,MAAQsP,EAAStP,KAAKyG,OAC7CtB,OAAOC,KAAKkK,EAAStP,KAAKyG,OAAOpN,SAAQ,SAAC+Q,GACpCkC,EAAatL,QAAQoJ,GAAO,IAC3BgB,EAAMpL,OAAMoL,EAAMpL,KAAO,IACzBoL,EAAMpL,KAAKyG,QAAO2E,EAAMpL,KAAKyG,MAAQ,KACT,IAA7B6I,EAAStP,KAAKyG,MAAM2D,IAAmBA,KAAOgB,EAAMpL,KAAKyG,QAC3D2E,EAAMpL,KAAKyG,MAAM2D,IAAO,QAK5B2E,IACF/O,EAAK6P,KAAOd,GAEP/O,EAgBT,SAAS8P,EAAenS,EAAIyI,EAAS7O,EAAKmV,EAASC,GACjD,GAAoB,IAAhBhP,EAAGoS,SAAgB,CAErB,IAAMC,EAAWrS,aAAcrD,IAAO2V,WAActS,EAAGoD,SAAWpD,EAAGoD,SAASE,cAC9E,OAAO6K,EACLkE,EACAvD,EAAQ9O,EAAIyI,EAAS7O,EAAKmV,EAASC,GACnCP,EAAYpL,QAAQgP,IAAY,EAAI,GApB1C,SAAqBrS,EAAIyI,EAAS7O,EAAKmV,GAGrC,IAFA,IAAMpB,EAAW,GACX3K,EAAQhD,EAAGuS,WACRlX,EAAI,EAAGA,EAAI2H,EAAM1C,OAAQjF,GAAK,EAAG,CACxC,IACMmX,EAAQL,EADInP,EAAM3H,GACgBoN,EAAS7O,EAAKmV,GAClDyD,GACF7E,EAAS/S,KAAK4X,GAGlB,OAAO7E,EAUsC8E,CAAYzS,EAAIyI,EAAS7O,EAAKmV,IAG3E,OAAoB,IAAhB/O,EAAGoS,SAEEpS,EAAG0S,YAEL,KAGM,iBAA4C,IAKrD1G,EALmB3R,EAAkC,uDAA3B,GAAIoO,EAAuB,uCAAd7O,EAAc,uCAATmV,EAAS,uCAEzDH,EAAQ+D,UAAYtY,EAAKuW,OAIzB,IAAK,IAAIvV,EAAI,EAAGA,EAAIuT,EAAQ2D,WAAWjS,OAAQjF,GAAK,EAC7C2Q,GAA6C,IAAnC4C,EAAQ2D,WAAWlX,GAAG+W,WACnCpG,EAAS4C,EAAQ2D,WAAWlX,IAGhC,IAAMuX,EAAST,EAAenG,EAAQvD,EAAS7O,EAAKmV,GAAS,GAK7D,OAFAH,EAAQ+D,UAAY,GAEbC,GCtOF,IAiBQC,EAjBS,CACpBhE,cA/CJ,SAAuBwD,GACnB,OAAO/X,SAASuU,cAAcwD,IA+C9BS,gBA7CJ,SAAyBC,EAAcC,GACnC,OAAO1Y,SAASwY,gBAAgBC,EAAcC,IA6C9CC,eA3CJ,SAAwBrF,GACpB,OAAOtT,SAAS2Y,eAAerF,IA2C/BsF,cAzCJ,SAAuBtF,GACnB,OAAOtT,SAAS4Y,cAActF,IAyC9BuF,aAvCJ,SAAsBC,EAAYC,EAASC,GACvCF,EAAWD,aAAaE,EAASC,IAuCjCC,YArCJ,SAAqBC,EAAMhB,GAClBgB,GACLA,EAAKD,YAAYf,IAoCjBiB,YAlCJ,SAAqBD,EAAMhB,GACvBgB,EAAKC,YAAYjB,IAkCjBY,WAhCJ,SAAoBI,GAChB,OAAOA,EAAKJ,YAgCZM,YA9BJ,SAAqBF,GACjB,OAAOA,EAAKE,aA8BZrB,QA5BJ,SAAiBxE,GACb,OAAOA,EAAIwE,SA4BXsB,eA1BJ,SAAwBH,EAAM5F,GAC1B4F,EAAKd,YAAc9E,GA0BnBgG,eAxBJ,SAAwBJ,GACpB,OAAOA,EAAKd,aAwBZmB,UAtBJ,SAAmBL,GACf,OAAyB,IAAlBA,EAAKpB,UAsBZ0B,OApBJ,SAAgBN,GACZ,OAAyB,IAAlBA,EAAKpB,UAoBZ2B,UAlBJ,SAAmBP,GACf,OAAyB,IAAlBA,EAAKpB,WCzChB,SAAS4B,EAAQ9F,GAAK,YAAa3M,IAAN2M,EAC7B,SAAS+F,EAAM/F,GAAK,YAAa3M,IAAN2M,EAC3B,IAAIgG,EAAYzG,EAAM,GAAI,GAAI,QAAIlM,OAAWA,GAC7C,SAAS4S,EAAUC,EAAQC,GACvB,OAAOD,EAAO3H,MAAQ4H,EAAO5H,KAAO2H,EAAO1G,MAAQ2G,EAAO3G,IAK9D,SAAS4G,EAAkB3G,EAAU4G,EAAUC,GAC3C,IAAInZ,EAAaoR,EAAKgI,EAAfpH,EAAM,GACb,IAAKhS,EAAIkZ,EAAUlZ,GAAKmZ,IAAUnZ,EAEpB,OADVoZ,EAAK9G,EAAStS,UAGEkG,KADZkL,EAAMgI,EAAGhI,OAELY,EAAIZ,GAAOpR,GAGvB,OAAOgS,EAEX,IAAI+D,EAAQ,CAAC,SAAU,SAAU,SAAU,UAAW,MAAO,QCpB7D,SAASsD,EAAY/C,EAAUlE,GAC3B,IAAIhB,EAAKoB,EAAMJ,EAAMI,IAAK8G,EAAWhD,EAAStP,KAAK8O,MAAOA,EAAQ1D,EAAMpL,KAAK8O,MAC7E,IAAKwD,GAAaxD,IAEdwD,IAAaxD,EAAjB,CAKA,IAAK1E,KAHLkI,EAAWA,GAAY,GACvBxD,EAAQA,GAAS,GAEE,CACf,IAAIyD,EAAMzD,EAAM1E,GACNkI,EAASlI,KACPmI,KACI,IAARA,EACA/G,EAAIgH,aAAapI,EAAK,KAET,IAARmI,EACL/G,EAAIiH,gBAAgBrI,GAlBxB,MAqBQA,EAAIsI,WAAW,GACflH,EAAIgH,aAAapI,EAAKmI,GAvB1B,KAyBSnI,EAAIsI,WAAW,GAEpBlH,EAAImH,eA5BZ,uCA4BkCvI,EAAKmI,GA3BnC,KA6BSnI,EAAIsI,WAAW,GAEpBlH,EAAImH,eAjCV,+BAiCkCvI,EAAKmI,GAGjC/G,EAAIgH,aAAapI,EAAKmI,IAQtC,IAAKnI,KAAOkI,EACFlI,KAAO0E,GACTtD,EAAIiH,gBAAgBrI,IAIzB,IACQwI,EADe,CAAEvb,OAAQgb,EAAalD,OAAQkD,GClD7D,SAASQ,EAAYvD,EAAUlE,GAC3B,IAAIhB,EAAKmI,EAAU/G,EAAMJ,EAAMI,IAAKsH,EAAWxD,EAAStP,KAAKyG,MAAOA,EAAQ2E,EAAMpL,KAAKyG,MACvF,IAAKqM,GAAarM,IAEdqM,IAAarM,EAAjB,CAIA,IAAK2D,KADL3D,EAAQA,GAAS,GADjBqM,EAAWA,GAAY,GAGdrM,EAAM2D,WACAoB,EAAIpB,GAGnB,IAAKA,KAAO3D,EACR8L,EAAM9L,EAAM2D,GACN0I,EAAS1I,KACHmI,GAAgB,UAARnI,GAAmBoB,EAAIpB,KAASmI,IAChD/G,EAAIpB,GAAOmI,IAIhB,IACQQ,EADU,CAAE1b,OAAQwb,EAAa1D,OAAQ0D,GCrBpDG,EAAyB,oBAAX1Y,QAA0BA,OAAO2Y,uBAA0BpY,WAE7E,SAASqY,EAAaC,EAAK3T,EAAM4T,GADjB,IAAUC,IAEZ,WAAcF,EAAI3T,GAAQ4T,GAFRJ,GAAI,WAAcA,EAAIK,MAItD,SAASC,EAAYhE,EAAUlE,GAC3B,IAAImH,EAAK1b,EAAM2U,EAAMJ,EAAMI,IAAK+H,EAAWjE,EAAStP,KAAK6O,MAAOA,EAAQzD,EAAMpL,KAAK6O,MACnF,IAAK0E,GAAa1E,IAEd0E,IAAa1E,EAAjB,CAGAA,EAAQA,GAAS,GACjB,IAAI2E,EAAY,YAFhBD,EAAWA,GAAY,IAGvB,IAAK1c,KAAQ0c,EACJ1E,EAAMhY,KACS,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACxB2U,EAAIqD,MAAM4E,eAAe5c,GAGzB2U,EAAIqD,MAAMhY,GAAQ,IAI9B,IAAKA,KAAQgY,EAET,GADA0D,EAAM1D,EAAMhY,GACC,YAATA,GAAsBgY,EAAM6E,QAC5B,IAAK,IAAIC,KAAS9E,EAAM6E,QACpBnB,EAAM1D,EAAM6E,QAAQC,GACfH,GAAajB,IAAQgB,EAASG,QAAQC,IACvCT,EAAa1H,EAAIqD,MAAO8E,EAAOpB,OAIzB,WAAT1b,GAAqB0b,IAAQgB,EAAS1c,KAC3B,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACxB2U,EAAIqD,MAAM+E,YAAY/c,EAAM0b,GAG5B/G,EAAIqD,MAAMhY,GAAQ0b,I,sVC/BlC,SAASsB,GAAYC,EAAO5F,EAAM9C,GAChC,IAAMvU,EAAOid,EAAMjT,KACbhJ,EAAKuT,EAAMpL,KAAKnI,GAElBA,GAAMA,EAAGhB,IAVf,SAAuBoX,EAAS6F,EAAO5F,GACd,mBAAZD,GAETA,EAAO,WAAP,GAAQ6F,GAAR,UAAkB5F,KAQlB6F,CAAclc,EAAGhB,GAAOid,EAAO5F,GAQnC,SAAS8F,GAAa1E,EAAUlE,GAC9B,IAAM6I,EAAQ3E,EAAStP,KAAKnI,GACtBqc,EAAc5E,EAAS6E,SACvBC,EAAS9E,EAAS9D,IAClB3T,EAAKuT,GAASA,EAAMpL,KAAKnI,GACzB2T,EAAOJ,GAASA,EAAMI,IAE5B,GAAIyI,IAAUpc,IAIVoc,GAASC,IAENrc,EAKHsN,OAAOC,KAAK6O,GAAO5a,SAAQ,SAACxC,GACrBgB,EAAGhB,IACNiH,YAAEsW,GAAQC,IAAIxd,EAAMqd,MANxB/O,OAAOC,KAAK6O,GAAO5a,SAAQ,SAACxC,GAC1BiH,YAAEsW,GAAQC,IAAIxd,EAAMqd,OAWtBrc,GAAI,CAEN,IAAMsc,EAAW7E,EAAS6E,UAhCrB,SAASlG,EAAQ6F,GAAgB,2BAAN5F,EAAM,iCAANA,EAAM,kBACtC2F,GAAYC,EAAO5F,EAAMD,EAAQ7C,QAgCjCA,EAAM+I,SAAWA,EAEjBA,EAAS/I,MAAQA,EAEZ6I,EAKH9O,OAAOC,KAAKvN,GAAIwB,SAAQ,SAACxC,GAClBod,EAAMpd,IACTiH,YAAE0N,GAAK3T,GAAGhB,EAAMsd,MANpBhP,OAAOC,KAAKvN,GAAIwB,SAAQ,SAACxC,GACvBiH,YAAE0N,GAAK3T,GAAGhB,EAAMsd,OAYT,ICtDAG,GLaR,SAAcjP,EAASkP,GAC1B,IAAIvb,EAAGwb,EAAGC,EAAM,GACZC,OAAiBxV,IAAXqV,EAAuBA,EAAS/D,EAC1C,IAAKxX,EAAI,EAAGA,EAAI+V,EAAM9Q,SAAUjF,EAE5B,IADAyb,EAAI1F,EAAM/V,IAAM,GACXwb,EAAI,EAAGA,EAAInP,EAAQpH,SAAUuW,EAAG,CACjC,IAAI3E,EAAOxK,EAAQmP,GAAGzF,EAAM/V,SACfkG,IAAT2Q,GACA4E,EAAI1F,EAAM/V,IAAIT,KAAKsX,GAS/B,SAAS8E,EAAWC,EAAUC,GAC1B,OAAO,WACH,GAAoB,KAAdA,EAAiB,CACnB,IAAIC,EAAWJ,EAAI3D,WAAW6D,GAC9BF,EAAIxD,YAAY4D,EAAUF,KAItC,SAASG,EAAU3J,EAAO4J,GACtB,IAAIhc,EAAGgH,EAAOoL,EAAMpL,UACPd,IAATc,GACI4R,EAAM5Y,EAAIgH,EAAK6P,OAAS+B,EAAM5Y,EAAIA,EAAElB,QACpCkB,EAAEoS,GACFpL,EAAOoL,EAAMpL,MAGrB,IAAIsL,EAAWF,EAAME,SAAUD,EAAMD,EAAMC,IAC3C,GAAY,MAARA,EACIsG,EAAQvG,EAAMG,QACdH,EAAMG,KAAO,IAEjBH,EAAMI,IAAMkJ,EAAI7D,cAAczF,EAAMG,WAEnC,QAAYrM,IAARmM,EAAmB,CAExB,IAAI4J,EAAU5J,EAAIrK,QAAQ,KACtBkU,EAAS7J,EAAIrK,QAAQ,IAAKiU,GAC1BE,EAAOF,EAAU,EAAIA,EAAU5J,EAAIpN,OACnCmX,EAAMF,EAAS,EAAIA,EAAS7J,EAAIpN,OAChCmF,GAAmB,IAAb6R,IAA8B,IAAZC,EAAgB7J,EAAI0C,MAAM,EAAGvV,KAAK6c,IAAIF,EAAMC,IAAQ/J,EAC5EG,EAAMJ,EAAMI,IAAMoG,EAAM5R,IAAS4R,EAAM5Y,EAAIgH,EAAKkM,IAAMwI,EAAIjE,gBAAgBzX,EAAGoK,GAC3EsR,EAAIlI,cAAcpJ,GAKxB,IAJI+R,EAAOC,GACP5J,EAAIgH,aAAa,KAAMnH,EAAI0C,MAAMoH,EAAO,EAAGC,IAC3CF,EAAS,GACT1J,EAAIgH,aAAa,QAASnH,EAAI0C,MAAMqH,EAAM,GAAGrc,QAAQ,MAAO,MAC3DC,EAAI,EAAGA,EAAIyb,EAAIpd,OAAO4G,SAAUjF,EACjCyb,EAAIpd,OAAO2B,GAAG6Y,EAAWzG,GAC7B,GAAIpN,EAASsN,GACT,IAAKtS,EAAI,EAAGA,EAAIsS,EAASrN,SAAUjF,EAAG,CAClC,IAAIoZ,EAAK9G,EAAStS,GACR,MAANoZ,GACAsC,EAAItD,YAAY5F,EAAKuJ,EAAU3C,EAAI4C,SAItChX,EAAaoN,EAAMG,OACxBmJ,EAAItD,YAAY5F,EAAKkJ,EAAI9D,eAAexF,EAAMG,OAG9CqG,EADJ5Y,EAAIoS,EAAMpL,KAAK6P,QAEP7W,EAAE3B,QACF2B,EAAE3B,OAAOwa,EAAWzG,GACpBpS,EAAEiW,QACF+F,EAAmBzc,KAAK6S,SAIhCA,EAAMI,IAAMkJ,EAAI9D,eAAexF,EAAMG,MAEzC,OAAOH,EAAMI,IAEjB,SAAS8J,EAAUC,EAAWC,EAAQC,EAAQC,EAAUvD,EAAQ6C,GAC5D,KAAOU,GAAYvD,IAAUuD,EAAU,CACnC,IAAItD,EAAKqD,EAAOC,GACN,MAANtD,GACAsC,EAAI5D,aAAayE,EAAWR,EAAU3C,EAAI4C,GAAqBQ,IAI3E,SAASG,EAAkBvK,GACvB,IAAIpS,EAAGwb,EAAGxU,EAAOoL,EAAMpL,KACvB,QAAad,IAATc,EAAoB,CAGpB,IAFI4R,EAAM5Y,EAAIgH,EAAK6P,OAAS+B,EAAM5Y,EAAIA,EAAEkW,UACpClW,EAAEoS,GACDpS,EAAI,EAAGA,EAAIyb,EAAIvF,QAAQjR,SAAUjF,EAClCyb,EAAIvF,QAAQlW,GAAGoS,GACnB,QAAuBlM,IAAnBkM,EAAME,SACN,IAAKkJ,EAAI,EAAGA,EAAIpJ,EAAME,SAASrN,SAAUuW,EAE5B,OADTxb,EAAIoS,EAAME,SAASkJ,KACW,iBAANxb,GACpB2c,EAAkB3c,IAMtC,SAAS4c,EAAaL,EAAWE,EAAQC,EAAUvD,GAC/C,KAAOuD,GAAYvD,IAAUuD,EAAU,CACnC,IAAIG,OAAM,EAAQhB,OAAY,EAAQiB,OAAK,EAAQ1D,EAAKqD,EAAOC,GAC/D,GAAU,MAANtD,EACA,GAAIR,EAAMQ,EAAG/G,KAAM,CAIf,IAHAsK,EAAkBvD,GAClByC,EAAYJ,EAAIxV,OAAOhB,OAAS,EAChC6X,EAAKnB,EAAWvC,EAAG5G,IAAKqJ,GACnBgB,EAAM,EAAGA,EAAMpB,EAAIxV,OAAOhB,SAAU4X,EACrCpB,EAAIxV,OAAO4W,GAAKzD,EAAI0D,GACpBlE,EAAMiE,EAAMzD,EAAGpS,OAAS4R,EAAMiE,EAAMA,EAAIhG,OAAS+B,EAAMiE,EAAMA,EAAI5W,QACjE4W,EAAIzD,EAAI0D,GAGRA,SAIJpB,EAAIxD,YAAYqE,EAAWnD,EAAG5G,MAqF9C,SAASuK,EAAWzG,EAAUlE,EAAO4J,GACjC,IAAIhc,EAAG6W,EACH+B,EAAM5Y,EAAIoS,EAAMpL,OAAS4R,EAAM/B,EAAO7W,EAAE6W,OAAS+B,EAAM5Y,EAAI6W,EAAKD,WAChE5W,EAAEsW,EAAUlE,GAEhB,IAAII,EAAMJ,EAAMI,IAAM8D,EAAS9D,IAC3BwK,EAAQ1G,EAAShE,SACjB8G,EAAKhH,EAAME,SACf,GAAIgE,IAAalE,EAAjB,CAEA,QAAmBlM,IAAfkM,EAAMpL,KAAoB,CAC1B,IAAKhH,EAAI,EAAGA,EAAIyb,EAAItF,OAAOlR,SAAUjF,EACjCyb,EAAItF,OAAOnW,GAAGsW,EAAUlE,GAExBwG,EADJ5Y,EAAIoS,EAAMpL,KAAK6P,OACC+B,EAAM5Y,EAAIA,EAAEmW,SACxBnW,EAAEsW,EAAUlE,GAEhBuG,EAAQvG,EAAMG,MACVqG,EAAMoE,IAAUpE,EAAMQ,GAClB4D,IAAU5D,GAnG1B,SAAwBmD,EAAWS,EAAOC,EAAOjB,GAY7C,IAXA,IAOIkB,EACAC,EACAC,EATAC,EAAc,EAAGC,EAAc,EAC/BC,EAAYP,EAAM/X,OAAS,EAC3BuY,EAAgBR,EAAM,GACtBS,EAAcT,EAAMO,GACpBG,EAAYT,EAAMhY,OAAS,EAC3B0Y,EAAgBV,EAAM,GACtBW,EAAcX,EAAMS,GAKjBL,GAAeE,GAAaD,GAAeI,GACzB,MAAjBF,EACAA,EAAgBR,IAAQK,GAEJ,MAAfI,EACLA,EAAcT,IAAQO,GAEA,MAAjBI,EACLA,EAAgBV,IAAQK,GAEJ,MAAfM,EACLA,EAAcX,IAAQS,GAEjB5E,EAAU0E,EAAeG,IAC9BZ,EAAWS,EAAeG,EAAe3B,GACzCwB,EAAgBR,IAAQK,GACxBM,EAAgBV,IAAQK,IAEnBxE,EAAU2E,EAAaG,IAC5Bb,EAAWU,EAAaG,EAAa5B,GACrCyB,EAAcT,IAAQO,GACtBK,EAAcX,IAAQS,IAEjB5E,EAAU0E,EAAeI,IAC9Bb,EAAWS,EAAeI,EAAa5B,GACvCN,EAAI5D,aAAayE,EAAWiB,EAAchL,IAAKkJ,EAAIrD,YAAYoF,EAAYjL,MAC3EgL,EAAgBR,IAAQK,GACxBO,EAAcX,IAAQS,IAEjB5E,EAAU2E,EAAaE,IAC5BZ,EAAWU,EAAaE,EAAe3B,GACvCN,EAAI5D,aAAayE,EAAWkB,EAAYjL,IAAKgL,EAAchL,KAC3DiL,EAAcT,IAAQO,GACtBI,EAAgBV,IAAQK,UAGJpX,IAAhBgX,IACAA,EAAcjE,EAAkB+D,EAAOK,EAAaE,IAGpD5E,EADJwE,EAAWD,EAAYS,EAAcvM,OAEjCsK,EAAI5D,aAAayE,EAAWR,EAAU4B,EAAe3B,GAAqBwB,EAAchL,KACxFmL,EAAgBV,IAAQK,MAGxBF,EAAYJ,EAAMG,IACJ9K,MAAQsL,EAActL,IAChCqJ,EAAI5D,aAAayE,EAAWR,EAAU4B,EAAe3B,GAAqBwB,EAAchL,MAGxFuK,EAAWK,EAAWO,EAAe3B,GACrCgB,EAAMG,QAAYjX,EAClBwV,EAAI5D,aAAayE,EAAWa,EAAU5K,IAAKgL,EAAchL,MAE7DmL,EAAgBV,IAAQK,MAIhCD,GAAeE,GAAaD,GAAeI,KACvCL,EAAcE,EAEdjB,EAAUC,EADuB,MAAxBU,EAAMS,EAAY,GAAa,KAAOT,EAAMS,EAAY,GAAGlL,IACvCyK,EAAOK,EAAaI,EAAW1B,GAG5DY,EAAaL,EAAWS,EAAOK,EAAaE,IAwBxCM,CAAerL,EAAKwK,EAAO5D,EAAI4C,GAE9BpD,EAAMQ,IACPR,EAAMtC,EAAS/D,OACfmJ,EAAIpD,eAAe9F,EAAK,IAC5B8J,EAAU9J,EAAK,KAAM4G,EAAI,EAAGA,EAAGnU,OAAS,EAAG+W,IAEtCpD,EAAMoE,GACXJ,EAAapK,EAAKwK,EAAO,EAAGA,EAAM/X,OAAS,GAEtC2T,EAAMtC,EAAS/D,OACpBmJ,EAAIpD,eAAe9F,EAAK,IAGvB8D,EAAS/D,OAASH,EAAMG,MAC7BmJ,EAAIpD,eAAe9F,EAAKJ,EAAMG,MAE9BqG,EAAM/B,IAAS+B,EAAM5Y,EAAI6W,EAAKT,YAC9BpW,EAAEsW,EAAUlE,IAGpB,OAAO,SAAekE,EAAUlE,GAC5B,IAAIpS,EAAGwS,EAAK3I,EACRmS,EAAqB,GACzB,IAAKhc,EAAI,EAAGA,EAAIyb,EAAIqC,IAAI7Y,SAAUjF,EAC9Byb,EAAIqC,IAAI9d,KAgBZ,IA9RR,SAAiBoS,GACb,YAAqBlM,IAAdkM,EAAMC,IA8QJ0L,CAAQzH,KACTA,EAlPR,SAAqB9D,GACjB,IAAIwL,EAAKxL,EAAIwL,GAAK,IAAMxL,EAAIwL,GAAK,GAC7BhL,EAAIR,EAAIlS,UAAY,IAAMkS,EAAIlS,UAAUR,MAAM,KAAKkV,KAAK,KAAO,GACnE,OAAO5C,EAAMsJ,EAAI1E,QAAQxE,GAAKvK,cAAgB+V,EAAKhL,EAAG,GAAI,QAAI9M,EAAWsM,GA+O1DyL,CAAY3H,IAEvBwC,EAAUxC,EAAUlE,GACpB2K,EAAWzG,EAAUlE,EAAO4J,IAG5BxJ,EAAM8D,EAAS9D,IACf3I,EAAS6R,EAAI3D,WAAWvF,GACxBuJ,EAAU3J,EAAO4J,GACF,OAAXnS,IACA6R,EAAI5D,aAAajO,EAAQuI,EAAMI,IAAKkJ,EAAIrD,YAAY7F,IACpDoK,EAAa/S,EAAQ,CAACyM,GAAW,EAAG,KAGvCtW,EAAI,EAAGA,EAAIgc,EAAmB/W,SAAUjF,EACzCgc,EAAmBhc,GAAGgH,KAAK6P,KAAKZ,OAAO+F,EAAmBhc,IAE9D,IAAKA,EAAI,EAAGA,EAAIyb,EAAIyC,KAAKjZ,SAAUjF,EAC/Byb,EAAIyC,KAAKle,KACb,OAAOoS,GKrSDtT,CAAK,CACjB8a,EACAG,EFmEuB,CACrB1b,OAAQic,EACRnE,OAAQmE,EACRpE,QAnCJ,SAA2B9D,GACvB,IAAIyD,EAAOhY,EAAM2U,EAAMJ,EAAMI,IAAKK,EAAIT,EAAMpL,KAAK6O,MACjD,GAAKhD,IAAOgD,EAAQhD,EAAEqD,SAEtB,IAAKrY,KAAQgY,EACTrD,EAAIqD,MAAMhY,GAAQgY,EAAMhY,IA+B5BoI,OA5BJ,SAA0BmM,EAAO0K,GAC7B,IAAIjK,EAAIT,EAAMpL,KAAK6O,MACnB,GAAKhD,GAAMA,EAAE5M,OAAb,CAIA,IAAIpI,EAAM2U,EAAMJ,EAAMI,IAAKxS,EAAI,EAAc6V,EAAQhD,EAAE5M,OAAQkY,EAAS,EAAGC,EAAU,GACrF,IAAKvgB,KAAQgY,EACTuI,EAAQ7e,KAAK1B,GACb2U,EAAIqD,MAAMhY,GAAQgY,EAAMhY,GAI5B,IADA,IAAI4P,EADQ4Q,iBAAiB7L,GACP,uBAAuB1S,MAAM,MAC5CE,EAAIyN,EAAMxI,SAAUjF,GACY,IAA/Boe,EAAQpW,QAAQyF,EAAMzN,KACtBme,IAER3L,EAAIjR,iBAAiB,iBAAiB,SAAU+c,GACxCA,EAAGzZ,SAAW2N,KACZ2L,EACS,IAAXA,GACArB,YAlBJA,MCaO,CACbze,OAAQ2c,GACR7E,OAAQ6E,GACR9E,QAAS8E,M,0QE6IIuD,G,WA5Mb,WAAYhgB,EAAKyP,GAA6B,IAApBoC,EAAoB,uDAAJ,GAAI,WAC5C,IAAM4N,EAAKpd,IAAMod,KACXQ,EAAO5d,IAAMyP,MACjB/R,KACA8R,EACA,CACEtL,MACA2Z,GAAI3Z,IACJ4Z,MAAO5Z,IACP0J,KAAMjQ,EACNogB,IAAKpgB,EACLiY,SAAU5V,IAAM2N,OAAO,CAAEyP,MAAMhQ,GAC/B4Q,IAAK5Q,EAAQgQ,IAAMA,IAGfxH,EAAagI,EAAbhI,SAGRrK,OAAO0S,eAAeL,EAAM,QAAS,CACnCM,YAAY,EACZC,cAAc,EACd5N,IAHmC,WAIjC,IAAIrQ,EAAOF,IAAMyP,MAAM,GAAI9R,EAAIyI,KAAMzI,EAAImQ,SAezC,OAdIpN,KAAUA,IAAO0d,QACnBle,EAAO,IAAIQ,IAAO0d,MAAMle,EAAM,CAC5B0Q,IAD4B,SACxB3M,EAAQhH,EAAMuc,GAChB7b,EAAIyI,KAAKnJ,GAAQuc,GAEnB6E,eAJ4B,SAIbpa,EAAQhH,UACdU,EAAIyI,KAAKnJ,UACTU,EAAImQ,QAAQ7Q,IAErBqhB,IAR4B,SAQxBra,EAAQhH,GACV,OAAQA,KAAQU,EAAIyI,MAAQnJ,KAAQU,EAAImQ,YAIvC5N,GAET0Q,IArBmC,eAyBpC,2EAA4E1R,MAAM,KAAKO,SAAQ,SAAC8e,GAC3F3I,EAAS2I,KAAW3I,EAAS2I,GAAY3I,EAAS2I,GAAUxJ,KAAK6I,OAGnEhI,EAASxP,OACXwP,EAASxP,KAAOwP,EAASxP,KAAK2O,KAAK6I,GAEnC5d,IAAM2N,OAAOiQ,EAAMhI,EAASxP,SAE1BwP,EAAS4I,SAAQ5I,EAAS4I,OAAS5I,EAAS4I,OAAOzJ,KAAK6I,IACxDhI,EAAS9H,SACXvC,OAAOC,KAAKoK,EAAS9H,SAASrO,SAAQ,SAACkU,GACrCiK,EAAKjK,GAAciC,EAAS9H,QAAQ6F,GAAYoB,KAAK6I,MAKrDhI,EAAS3X,IACXsN,OAAOC,KAAKoK,EAAS3X,IAAIwB,SAAQ,SAAC2T,GAChCwC,EAAS3X,GAAGmV,GAAawC,EAAS3X,GAAGmV,GAAW2B,KAAK6I,MAGrDhI,EAASrC,MACXhI,OAAOC,KAAKoK,EAASrC,MAAM9T,SAAQ,SAAC2T,GAClCwC,EAASrC,KAAKH,GAAawC,EAASrC,KAAKH,GAAW2B,KAAK6I,MAKzDhI,EAAS6I,cAAc7I,EAAS6I,eAGpC,IAAIrgB,EAAOwf,EAAKc,UA8BhB,OA3BItgB,GAAwB,iBAATA,GACjBA,EAAOA,EAAKuW,OACZiJ,EAAKe,OAASC,EAAKxgB,EAAMwf,EAAMjgB,GAAK,GACpCigB,EAAK7Z,GAAK1F,IAASuU,cAAcgL,EAAKe,OAAOlN,KAAO,OACpDiJ,GAAMkD,EAAK7Z,GAAI6Z,EAAKe,SACXvgB,IACTwf,EAAK7Z,GAAK3F,GAEZwf,EAAK5Y,IAAMd,YAAE0Z,EAAK7Z,IAGd6R,EAASX,QACX2I,EAAKiB,SAAWxgB,IAASuU,cAAc,SACvCgL,EAAKiB,SAASnI,UAAYd,EAASX,MAC/BW,EAASkJ,aACXlB,EAAK7Z,GAAG6U,aAAR,kBAAgChD,EAASwH,IAAM,KAInDQ,EAAKmB,gBAGDnJ,EAASoJ,SAASpJ,EAASoJ,UAG/BpB,EAAK7Z,GAAGkb,YAAcrB,EAEfA,E,+DAIP,IACQhI,EADKlY,KACLkY,SAAU5Q,EADLtH,KACKsH,IACd4Q,EAAS3X,IACXsN,OAAOC,KAAKoK,EAAS3X,IAAIwB,SAAQ,SAAC2T,GAChCpO,EAAI/G,GAAG+B,IAAMkf,qBAAqB9L,GAAYwC,EAAS3X,GAAGmV,OAG1DwC,EAASrC,MACXhI,OAAOC,KAAKoK,EAASrC,MAAM9T,SAAQ,SAAC2T,GAClCpO,EAAIuO,KAAKvT,IAAMkf,qBAAqB9L,GAAYwC,EAASrC,KAAKH,S,sCAMlE,IACQwC,EADKlY,KACLkY,SAAU5Q,EADLtH,KACKsH,IACd4Q,EAAS3X,IACXsN,OAAOC,KAAKoK,EAAS3X,IAAIwB,SAAQ,SAAC2T,GAChCpO,EAAIyV,IAAIza,IAAMkf,qBAAqB9L,GAAYwC,EAAS3X,GAAGmV,OAG3DwC,EAASrC,MACXhI,OAAOC,KAAKoK,EAASrC,MAAM9T,SAAQ,SAAC2T,GAClCpO,EAAIyV,IAAIza,IAAMkf,qBAAqB9L,GAAYwC,EAASrC,KAAKH,S,gCAMjE,IACQwC,EADKlY,KACLkY,SACJxX,EAAO,GACX,GAAIwX,EAAS4I,OACXpgB,EAAOwX,EAAS4I,cACX,GAAI5I,EAAS1I,SAClB,GAAiC,iBAAtB0I,EAAS1I,SAClB,IACE9O,EAAOsP,IAAUH,QAAQqI,EAAS1I,SAA3BQ,CARAhQ,MASP,MAAOiP,GACP,MAAMA,OAIRvO,EAAOwX,EAAS1I,SAdPxP,MAiBb,OAAOU,I,qCAIP,IACIA,EADSV,KACGghB,UAGhB,GAAItgB,GAAwB,iBAATA,EAAmB,CACpCA,EAAOA,EAAKuW,OACZ,IAAMwK,EAAWP,EAAKxgB,EANXV,UAM4BkQ,MAN5BlQ,KAONihB,OAASjE,GAPHhd,KAOcihB,OAAQQ,M,gCAI3BC,GAERpf,IAAMyP,MADO/R,KACK0hB,GADL1hB,KAER2hB,iB,6BAGAC,GACQ5hB,KACJkY,SAAS2J,aADL7hB,KACuBkY,SAAS2J,cADhC7hB,KAEJmhB,UAAU3a,YAAE,QAAQsb,OAFhB9hB,KAE4BmhB,UACrCS,GAAaA,EAHJ5hB,KAGqBqG,IAHrBrG,KAIJkY,SAAS6J,SAJL/hB,KAImBkY,SAAS6J,Y,iCAI5B/hB,KACJkY,SAAS8J,eADLhiB,KACyBkY,SAAS8J,gBADlChiB,KAEJmhB,UAAU3a,YAFNxG,KAEamhB,UAAUxZ,SAFvB3H,KAGRiiB,gBAHQjiB,KAIJkY,SAASgK,WAJLliB,KAIqBkY,SAASgK,YAJ9BliB,KAMJqG,IANIrG,KAMOqG,GAAGkb,cANVvhB,KAONqG,GAAGkb,YAAc,YAPXvhB,KAQCqG,GAAGkb,aARJvhB,KAWJihB,SAXIjhB,KAYNihB,OAASjE,GAZHhd,KAYcihB,OAAQ,CAAElN,IAZxB/T,KAYkCihB,OAAOlN,IAAKrL,KAAM,MAEjEpG,IAAM6f,YAdOniB,W,kCC7EFoiB,OAhHf,SAAwBC,GACtB,IAKI7S,EALEkQ,EAAKpd,IAAMod,KACX4C,EAAqB,gCAAH,OAAmC5C,GACrD6C,EAAqB,gCAAH,OAAmC7C,GAIrD8C,EAAcH,EAAgBI,MAAM,gCACpCC,EAAeF,EAAY,IAAM,KACnCA,IACFhT,EAAW6S,EACR7gB,MAAM,4BACNgS,QAAO,SAACmP,EAAM/O,GAAP,OAAiBA,EAAQ,KAChC8C,KAAK,cACLlV,MAAM,eACNgS,QAAO,SAACmP,EAAM/O,EAAOgP,GAAd,OAAsBhP,EAAQgP,EAAIjc,OAAS,KAClD+P,KAAK,eACLjV,QAAQ,6BAA8B,qBACtCA,QAAQ,gCAAiC,sBACzCA,QAAQ,oBAAqB,uBAC7BA,QAAQ,sBAAuB,yBAIpC,IAyBIohB,EACAC,EA1BAvL,EAAQ,KACR6J,GAAc,EA0BlB,GAxBIiB,EAAgB3Y,QAAQ,YAAc,EACxC6N,EAAQ8K,EAAgB7gB,MAAM,WAAW,GAAGA,MAAM,YAAY,GACrD6gB,EAAgB3Y,QAAQ,mBAAqB,IACtD0X,GAAc,EAEd7J,GADAA,EAAQ8K,EAAgB7gB,MAAM,kBAAkB,GAAGA,MAAM,YAAY,IAElEC,QAAQ,YADH,mBAC4Bie,EAD5B,MAELje,QAAQ,qBAAqB,SAACshB,EAAQC,GAUrC,OARAA,EAAQA,EACLxhB,MAAM,KACNkS,KAAI,SAACuP,GACJ,OAAIA,EAAKvZ,QAAL,mBAAyBgW,EAAzB,OAAmC,EAAUuD,EACjD,mBAAmBvD,EAAnB,aAA0BuD,EAAKhM,WAEhCP,KAAK,MAER,YAAYsM,EAAZ,UAOFX,EAAgB3Y,QAAQ,aAAe,EAAG,CAC5C,IAAMwZ,EAAUb,EAAgB7gB,MAAM,YACtCqhB,EAAgBK,EAAQA,EAAQvc,OAAS,GAAGnF,MAAM,cAAa,GAAGyV,YAElE4L,EAAgB,YAEbA,GAAkBA,EAAc5L,SAAQ4L,EAAgB,aAE7DA,EAAgB,UAAH,OAAaP,EAAb,2BAAkDO,EAAlD,MAGbC,EAAWniB,IAASuU,cAAc,WACzB8D,UAAY6J,EACrBrc,YAAE,QAAQsb,OAAOgB,GAEjB,IAAMtR,EAAYxO,IAAOsf,KAYzB,GATA9b,YAAEsc,GAAUnb,SACZ3E,IAAOsf,GAAsB,YACtBtf,IAAOsf,GAGT9Q,EAAUhC,UAAagC,EAAUsP,SACpCtP,EAAUhC,SAAWA,EACrBgC,EAAUkR,aAAeA,GAEvBlR,EAAUhC,WACmB,OAA3BgC,EAAUkR,eACZlR,EAAUhC,SAAWQ,IAAUH,QAAQ2B,EAAUhC,WAEpB,OAA3BgC,EAAUkR,cAAuB,CACnC,IAAMS,EAAgB,UAAH,OAAaZ,EAAb,mFAEJ/Q,EAAUhC,SAFN,2BAKnBsT,EAAWniB,IAASuU,cAAc,WACzB8D,UAAYmK,EACrB3c,YAAE,QAAQsb,OAAOgB,GAEjBtR,EAAUsP,OAAS9d,IAAOuf,KAG1B/b,YAAEsc,GAAUnb,SACZ3E,IAAOuf,GAAsB,YACtBvf,IAAOuf,GAYlB,OAPIhL,IACF/F,EAAU+F,MAAQA,EAClB/F,EAAU4P,YAAcA,GAI1B5P,EAAUkO,GAAKA,EACRlO,GC/GM,IACbjS,KAAM,YACNQ,OAFa,WAGX,IAAME,EAAMD,KACZC,EAAIuR,UAAY,CACdxC,MADc,SACRqT,GACJ,OAAOD,GAAeC,IAExBtiB,OAJc,SAIP2P,EAASoC,GACd,OAAO,IAAImO,GAAoBhgB,EAAKyP,EAASoC,OCV/CsR,GAAK,CACTC,cAAe,GACfC,SAFS,SAEAhN,EAAMiN,GACb,IAAMtjB,EAAMD,KACZ,MAAM,kBAAmBgD,OAAO6J,WAAe5M,EAAIujB,cAAcC,UAK1D,IAAI1Q,SAAQ,SAACpD,EAASC,GAC3B3P,EAAIujB,cAAcC,UAAUH,SAAShN,EAAOiN,EAAQ,CAAEA,SAAU,IAC7DxS,MAAK,SAAC2S,GACLN,GAAGC,cAAcpiB,KAAKyiB,GACtBzjB,EAAIiD,KAAK,+BAAgCwgB,GACzC/T,EAAQ+T,MACPzS,OAAM,SAAC0S,GACR1jB,EAAIiD,KAAK,6BAA8BygB,GACvC/T,EAAO+T,SAZJ,IAAI5Q,SAAQ,SAACpD,EAASC,GAC3BA,EAAO,IAAI4G,MAAM,wCAevBoN,WArBS,SAqBEC,GACT,IAMIR,EANEpjB,EAAMD,KACZ,MAAM,kBAAmBgD,OAAO6J,WAAe5M,EAAIujB,cAAcC,WAO3BJ,EADjCQ,EACIzP,MAAMC,QAAQwP,GAA+BA,EACjC,CAACA,GAFaT,GAAGC,cAG/BtQ,QAAQ+Q,IAAIT,EAAc3P,KAAI,SAAAgQ,GAAG,OAAI,IAAI3Q,SAAQ,SAACpD,EAASC,GAChE8T,EAAIE,aACD7S,MAAK,WACAqS,GAAGC,cAAc3Z,QAAQga,IAAQ,GACnCN,GAAGC,cAAcU,OAAOX,GAAGC,cAAc3Z,QAAQga,GAAM,GAEzDzjB,EAAIiD,KAAK,iCAAkCwgB,GAC3C/T,OAEDsB,OAAM,SAAC0S,GACN1jB,EAAIiD,KAAK,+BAAgCwgB,EAAKC,GAC9C/T,EAAO+T,cAnBJ,IAAI5Q,SAAQ,SAACpD,EAASC,GAC3BA,EAAO,IAAI4G,MAAM,yCAwBV,IACbjX,KAAM,KACNW,OAAQ,CACNsjB,cAAe,CACblN,UAAM1O,EACN2b,WAAO3b,IAGX7H,OARa,WAUXuC,IAAM2N,OADMjQ,KACM,CAChBwjB,cAAe,CACbC,UAAY,kBAAmBzgB,OAAO6J,UAAa7J,OAAO6J,UAAU2W,mBAAgB5b,EACpFyb,cAAeD,GAAGC,cAClBC,SAAUF,GAAGE,SAASjM,KALdrX,MAMR4jB,WAAYR,GAAGQ,WAAWvM,KANlBrX,UAUdO,GAAI,CACFC,KADE,WAEA,GAAM,kBAAmBwC,OAAO6J,UAAhC,CACA,IAAM5M,EAAMD,KACZ,GAAKC,EAAIujB,cAAcC,UAAvB,CACA,IAAMO,EAAQ/jB,EAAIC,OAAOsjB,cAAclN,KACjCiN,EAAQtjB,EAAIC,OAAOsjB,cAAcD,MACvC,GAAKS,KAAU5P,MAAMC,QAAQ2P,IAAWA,EAAMrd,SAC3ByN,MAAMC,QAAQ2P,GAASA,EAAQ,CAACA,IACxCjiB,SAAQ,SAACuU,GAClBrW,EAAIujB,cAAcF,SAAShN,EAAMiN,W,imBCmCzC9jB,KAAOwkB,IAAI,CACTC,EACAC,IAGFC,IAAWH,IAAI,CACbI,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IACAC,EACAC,EACAC,GACAC,GACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,OAIaxE,MAAf,G,iICsVeyE,MAphBf,SAAmBC,GACjB,IAKIC,EAGAC,EACAC,EAEAhkB,EAGAikB,EACAC,EACAC,EACAC,EAEAC,EA+eIpgB,EAlgBF/I,EAAS2oB,EACPxhB,EAAgCnH,EAAhCmH,IAAKiiB,EAA2BppB,EAA3BopB,UAAWtpB,EAAgBE,EAAhBF,IAAKC,EAAWC,EAAXD,OACzBspB,GAAY,EACZjkB,GAAU,EACRkkB,EAAe,GAEjBC,EAAiB,GACjBC,EAAkB,GAGlBC,GAAqB,EAErBC,EAAwB,GACxBC,EAAyB,GAQvBC,EAA+B7pB,EAAO,GAAD,OAAID,EAAIkG,MAAR,2BACrC6jB,EAAgC9pB,EAAO,GAAD,OAAID,EAAIkG,MAAR,4BACtC8jB,EAA4B/pB,EAAO,GAAD,OAAID,EAAIkG,MAAR,wBAClC+jB,EAA2BhqB,EAAO,GAAD,OAAID,EAAIkG,MAAR,uBAEjCgkB,EAAkBlqB,EAAImqB,IAAM,eAAiB,cA+LnD,SAASC,IAEP,IAFsE,6DAAJ,GAAhCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,WAC7CC,EAAS,CAAC,WAAY,YAAa,mBAAoB,WACpD/oB,EAAI,EAAGA,EAAI4nB,EAAiB3iB,OAAQjF,GAAK,EAAG,CACnD,IAAM2E,EAAKijB,EAAiB5nB,GAC5B,GAAI2E,GAAMA,EAAGA,GAAI,EACI,IAAfmkB,GAAqBnkB,EAAGA,GAAGpE,UAAUC,IAAI,8BAC1B,IAAfsoB,GAAsBnkB,EAAGA,GAAGpE,UAAU0F,OAAO,6BACjD,IAAK,IAAIuV,EAAI,EAAGA,EAAIuN,EAAO9jB,OAAQuW,GAAK,EAAG,CACzC,IAAMwN,EAAYD,EAAOvN,GACrB7W,EAAGqkB,KACDH,EACFlkB,EAAGA,GAAGkR,MAAMmT,GAAa,GACS,mBAAlBrkB,EAAGqkB,GACnBrkB,EAAGA,GAAGkR,MAAMmT,GAAarkB,EAAGqkB,GAAWJ,GAEvCjkB,EAAGA,GAAGkR,MAAMmT,GAAarkB,EAAGqkB,OAQxC,SAASC,EAAiBniB,GACxB,IAAMoiB,EAAmB1qB,EAAO,GAAD,OAAID,EAAIkG,MAAR,eAC1ByjB,IAAuBgB,GAAoBpB,GAAcvpB,EAAI4qB,UAAY5qB,EAAI4qB,SAASxkB,KAAQlG,EAAO2qB,iBACtGtkB,YAAEgC,EAAEjC,QAAQkE,QAAQ,mCAAmC9D,OAAS,GAChEH,YAAEgC,EAAEjC,QAAQkE,QAAQ,qCAAqC9D,OAAS,GAAKzG,EAAO6qB,uBAAyB,GAAK9qB,EAAIwC,OAASvC,EAAO6qB,yBACpIxlB,GAAU,EACVikB,GAAY,EACZT,OAAcnhB,EACd6hB,EAAaliB,EAAe,eAAXiB,EAAEe,KAAwBf,EAAE8B,cAAc,GAAGc,MAAQ5C,EAAE4C,MACxEqe,EAAajiB,EAAe,eAAXgB,EAAEe,KAAwBf,EAAE8B,cAAc,GAAGe,MAAQ7C,EAAE6C,MACxEpG,EAAiB3C,IAAM0oB,MACvB9B,EAAgB/oB,EAAO+oB,cACvBC,EAAiBhpB,EAAOgpB,gBAE1B,SAAS8B,EAAgBziB,GACvB,GAAKghB,EAAL,CACA,IAAMpe,EAAmB,cAAX5C,EAAEe,KAAuBf,EAAE8B,cAAc,GAAGc,MAAQ5C,EAAE4C,MAC9DC,EAAmB,cAAX7C,EAAEe,KAAuBf,EAAE8B,cAAc,GAAGe,MAAQ7C,EAAE6C,MAIpE,QAH2B,IAAhB0d,IACTA,KAAiBA,GAAe7nB,KAAK0K,IAAIP,EAAQoe,EAAajiB,GAAKtG,KAAK0K,IAAIR,EAAQqe,EAAaliB,KAAQ6D,EAAQqe,EAAaliB,IAAMtH,EAAImqB,KAAShf,EAAQqe,EAAaliB,GAAKtH,EAAImqB,KAE7KrB,GAAevgB,EAAE0iB,oBAAsBjrB,EAAIkrB,iBAC7C3B,GAAY,MADd,CAIA,IAAKjkB,EAAS,CAEZ,IAAI6lB,GAAS,EACP7kB,EAASC,YAAEgC,EAAEjC,QAEbskB,EAAWtkB,EAAOkE,QAAQ,aAC5BogB,EAASlkB,OAAS,KACf1G,EAAImqB,KAAOS,EAASQ,KAAK,0BAA0B1kB,OAAS,IAAGykB,GAAS,GACzEnrB,EAAImqB,KAAOS,EAASQ,KAAK,2BAA2B1kB,OAAS,IAAGykB,GAAS,MAG/E1B,EAAiBnjB,EAAOkE,QAAQ,UACb1D,SAAS,iBAAmBR,EAAOkE,QAAQ,+BAA+B9D,OAAS,KAAGykB,GAAS,IAClHzB,EAAkBriB,EAAI+jB,KAAK,iCACP1kB,OAAS,IAC3BgjB,EAAkBA,EAAgB7iB,GAAG6iB,EAAgBhjB,OAAS,IAE5C8iB,EAAaliB,EAAID,EAAIzE,SAASF,KASlD,GARAqmB,EAAqB1hB,EAAI7E,SACrBxC,EAAImqB,IACUX,EAAaliB,EAAKD,EAAIzE,SAASF,KAAO2E,EAAI,GAAGhE,YAAe0lB,EAAqBiB,GAEjFR,EAAaliB,EAAID,EAAIzE,SAASF,KAAOsnB,KAEpCmB,GAAS,GACG,IAA3BzB,EAAgBhjB,QAA0C,IAA1B+iB,EAAe/iB,SAAcykB,GAAS,GACtEA,EAEF,YADA5B,GAAY,GAIVO,GAE2B,KAD7BX,EAAgBM,EAAe2B,KAAK,wBAClB1kB,SAChByiB,EAAgB5iB,YAAE,0CAClBkjB,EAAe5H,OAAOsH,IAGtBY,GAE4B,KAD9BX,EAAiBM,EAAgB0B,KAAK,yBACnB1kB,SACjB0iB,EAAiB7iB,YAAE,2CACnBmjB,EAAgB7H,OAAOuH,IAIvBH,IACEC,GACFU,EAAwBN,EAAU8B,KAAK,iCACvCvB,EAAyBP,EAAU8B,KAAK,oCAExCxB,EAAwBH,EAAe1V,SAAS,WAAWA,SAAS,iBACpE8V,EAAyBH,EAAgB3V,SAAS,WAAWA,SAAS,kBAEpE8V,EAAuBnjB,OAAS,IAClCmjB,EAAyBA,EAAuBhjB,GAAGgjB,EAAuBnjB,OAAS,IAGrF2iB,EAvSN,WACE,IAQIgC,EACAC,EATEC,EAAM,GACNC,EAAWxrB,EAAImqB,KAAO,EAAI,EAC1BsB,EAAoB7B,EAAsB9iB,SAAS,sBACnD4kB,EAAqB7B,EAAuB/iB,SAAS,sBACrD6kB,EAAYF,IAAsB7B,EAAsB9iB,SAAS,gCACjE8kB,EAAUF,IAAuB7B,EAAuB/iB,SAAS,gCACjE+kB,EAAsBjC,EAAsB7V,SAAS,4DACrD+X,EAAuBjC,EAAuB9V,SAAS,4DAkL7D,OA9KI9T,EAAO8rB,2BAEPV,EADEzB,EAAsB9iB,SAAS,WACT8iB,EAAsB7V,SAAS,SAASqX,KAAK,sBAAsBvkB,GAAG,GAEtE+iB,EAAsB7V,SAAS,iBAAiBqX,KAAK,sBAAsBvkB,GAAG,GAGtGykB,EADEzB,EAAuB/iB,SAAS,WACR+iB,EAAuB9V,SAAS,SAASqX,KAAK,sBAAsBvkB,GAAG,GAEvEgjB,EAAuB9V,SAAS,iBAAiBqX,KAAK,sBAAsBvkB,GAAG,GAEvGwkB,EAAsB3kB,QACxBolB,EAAqBzgB,MAAK,SAACsI,EAAOvN,GAC3BG,YAAEH,GAAIU,SAAS,WACpBV,EAAG4lB,oBAAsBX,EAAsBY,KAAK,SAAS,GAAGppB,iBAItEgpB,EACGxgB,MAAK,SAACsI,EAAOuY,GACZ,IAAMC,EAAS5lB,YAAE2lB,GACXE,EAAcD,EAAOrlB,SAAS,aAC9BulB,EAASF,EAAOrlB,SAAS,QACzBwlB,EAAUH,EAAOrlB,SAAS,SAChC,GAAK6kB,IAAaQ,EAAOrlB,SAAS,gBAAlC,CACA,IAAMV,EAAK,CACTA,GAAI8lB,GAEN,GAAIP,EAAW,CACb,GAAIW,EAAS,OACb,GAAIH,EAAOrlB,SAAS,eAAgB,CAClC,IAAKoiB,EAAgB,OAsBrB,YArBI0C,GACEL,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,GAClCA,EAAGmmB,SAAW,UACdnmB,EAAGomB,UAAY,mBACfL,EAAOf,KAAK,yCAAyC/f,MAAK,SAACohB,EAAUC,GACnEnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJF,UAAW,SAAAnC,GAAQ,2BAAoC,IAAXA,EAAiBmB,EAAvB,IAAnB,cAInBD,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,GAClCA,EAAGmmB,SAAW,SACdnmB,EAAGomB,UAAY,SAAAnC,GAAQ,iCAAwBA,EAAxB,6CACvB8B,EAAOf,KAAK,yCAAyC/f,MAAK,SAACohB,EAAUC,GACnEnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJF,UAAW,SAAAnC,GAAQ,2BAA6B,IAAXA,EAAiBmB,EAAnC,8BAAiEnB,EAAjE,qDAO7B,GAAIuB,EAAS,CACX,IAAKD,GACCQ,EAAOrlB,SAAS,eAAgB,CAClC,IAAKoiB,EAAgB,OACjBqC,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,GAClCA,EAAGumB,QAAU,EAGjB,GAAIN,GAAUnD,EAUZ,OATIqC,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,GAClCA,EAAGumB,QAAU,SAAAtC,GAAQ,OAAK,EAAI,KAAJ,IAAKA,EAAY,WAC3C8B,EAAOf,KAAK,cAAc/f,MAAK,SAACohB,EAAUC,GACxCnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJ,mBAAoBxC,EACpBsC,UAAW,SAAAnC,GAAQ,0DAAiDA,EAAjD,oBAAqE,EAAK,EAAIA,EAA9E,WAM3B,IAAI8B,EAAOrlB,SAAS,eAApB,CACA,IAAM8lB,EAAYT,EAAOrlB,SAAS,YAAc8iB,EAAsB9iB,SAAS,WAK/E,GAJIykB,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,KAC7BgmB,GAAgBA,IAAgBQ,KACnCxmB,EAAGumB,QAAU,SAAAtC,GAAQ,OAAK,EAAI,KAAJ,IAAKA,EAAY,OAEzCuC,EAAW,CACb,IAAIC,EAAkBzmB,EACtB,GAAIimB,GAAUhB,EAAsB3kB,QAAUzG,EAAO8rB,yBAA0B,CAC7E,IAAMe,EAAS,CAAE1mB,GAAIilB,EAAsB,IAC3CwB,EAAkBC,EAClBvB,EAAIvqB,KAAK8rB,GAEXD,EAAgBL,UAAY,SAACnC,GAC3B,IAAI0C,EAAqB1C,EAAWwC,EAAgBzmB,GAAG4mB,oBAEvD,OAD0B,IAAtB3sB,IAAOc,aAAkB4rB,EAAqB9rB,KAAKgsB,MAAMF,IAE3D,sBAAsBA,EADpBX,GAAeX,GAAqBvC,EACtC,oGAEF,kBAIR4C,EACGzgB,MAAK,SAACsI,EAAOuY,GACZ,IAAMC,EAAS5lB,YAAE2lB,GACXE,EAAcD,EAAOrlB,SAAS,aAC9BulB,EAASF,EAAOrlB,SAAS,QACzBwlB,EAAUH,EAAOrlB,SAAS,SAC1BV,EAAK,CACTA,GAAI8lB,GAEN,GAAIN,EAAS,CACX,GAAIU,EAAS,OAGb,GAFIf,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,GAE9B+lB,EAAOrlB,SAAS,eAAgB,CAClC,IAAKoiB,EAAgB,OAkCrB,OAjCIyC,GACFvlB,EAAGumB,QAAU,EACbvmB,EAAGmmB,SAAW,UACdnmB,EAAGomB,UAAY,gBACfL,EAAOf,KAAK,qBAAqB/f,MAAK,SAACohB,EAAUC,GAC/CnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJ,mBAAoBxC,EACpByC,QAAS,SAAAtC,GAAQ,gBAAKA,EAAY,IAClCmC,UAAW,SAAAnC,GAAQ,gCAAuC,EAAXA,EAAJ,EAAxB,0DAA0F,GAAiB,GAAXA,EAAhG,aAIvBjkB,EAAGomB,UAAY,SAAAnC,GAAQ,gCAAuBA,EAAW,EAAlC,6CACvBjkB,EAAGumB,QAAU,EACbvmB,EAAGmmB,SAAW,SACdJ,EAAOf,KAAK,qBAAqB/f,MAAK,SAACohB,EAAUC,GAC/CnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJ,mBAAoBxC,EACpByC,QAAS,SAAAtC,GAAQ,gBAAKA,EAAY,IAClCmC,UAAW,SAAAnC,GAAQ,sBAAa,GAAiB,GAAXA,EAAnB,iBAIzB8B,EAAOf,KAAK,sBAAsB/f,MAAK,SAACohB,EAAUC,GAChDnB,EAAIvqB,KAAK,CACPoF,GAAIsmB,EACJ,mBAAoBxC,EACpByC,QAAS,SAAAtC,GAAQ,gBAAKA,EAAY,IAClCmC,UAAW,SAAAnC,GAAQ,4BAAmB,KAAO,EAAIA,GAAYmB,EAA1C,aAM3B,IAAIW,EAAOrlB,SAAS,eAApB,CACA,IAAM8lB,EAAYT,EAAOrlB,SAAS,YAAc+iB,EAAuB/iB,SAAS,WAKhF,GAJIykB,EAAI9hB,QAAQrD,GAAM,GAAGmlB,EAAIvqB,KAAKoF,KAC7BgmB,GAAgBA,IAAgBQ,KACnCxmB,EAAGumB,QAAU,SAAAtC,GAAQ,gBAAKA,EAAY,KAEpCuC,EAAW,CACb,IAAIC,EAAkBzmB,EACtB,GAAIimB,GAAUf,EAAwB5kB,QAAUzG,EAAO8rB,yBAA0B,CAC/E,IAAMe,EAAS,CAAE1mB,GAAIklB,EAAwB,IAC7CuB,EAAkBC,EAClBvB,EAAIvqB,KAAK8rB,GAEXD,EAAgBL,UAAY,SAACnC,GAC3B,IAAI6C,EAAuBL,EAAgBzmB,GAAG4lB,oBAAsB,EAAI3B,GAExE,OAD0B,IAAtBhqB,IAAOc,aAAkB+rB,EAAuBjsB,KAAKgsB,MAAMC,IAE7D,sBAAsBA,EADpBd,GAAeV,GAAsBxC,EACvC,oGAEF,iBAIDqC,EA6GgB4B,IAIjB5mB,YAAE,mBAAmBG,OAAS,GAAK1G,EAAIotB,OACzCptB,EAAIotB,MAAMC,MAAM9mB,YAAE,oBAGtBgC,EAAE+kB,qBAAsB,EACxBhoB,GAAU,EACVtF,EAAIutB,8BAA+B,EACnChlB,EAAE4B,iBAGF,IAAMqhB,EAAWxrB,EAAImqB,KAAO,EAAI,GAGhCnB,GAAe7d,EAAQqe,EAAaliB,EAAI2iB,GAA4BuB,GAClD,IAAGxC,EAAc,GACnC,IAAMwE,EAAavsB,KAAK6c,IAAI7c,KAAKwsB,IAAIzE,EAAcD,EAAoB,GAAI,GAGrE2E,EAAe,CACnBF,aACAnD,SAAUmD,EACVG,cAAelE,EAAe,GAC9BmE,eAAgBlE,EAAgB,GAChCmE,gBAAiBjE,EAAsB,GACvCkE,iBAAkBjE,EAAuB,IAE3CxiB,EAAIkD,QAAQ,iBAAkBmjB,GAC9BxtB,EAAO+C,KAAK,gBAAiByqB,GAG7B,IAAIK,EAAuB/E,EAAcwC,EACrCwC,GAA0BhF,EAAc,EAAMD,EAAqB,GAAMyC,EACxExrB,EAAImqB,KAIP4D,EAAuB9sB,KAAKwsB,IAAIM,GAAuBhF,GACvDiF,EAAwB/sB,KAAKwsB,IAAIO,EAAuB,KAJxDD,EAAuB9sB,KAAK6c,IAAIiQ,EAAsBhF,GACtDiF,EAAwB/sB,KAAK6c,IAAIkQ,EAAuB,IAKhC,IAAtB3tB,IAAOc,aACT4sB,EAAuB9sB,KAAKgsB,MAAMc,GAClCC,EAAwB/sB,KAAKgsB,MAAMe,IAGrC9tB,EAAO+tB,iBAAkB,EACzB1nB,YAAE,CAACkjB,EAAe,GAAIC,EAAgB,KAAKziB,SAAS,yBAEpDwiB,EAAe+C,UAAf,sBAAwCuB,EAAxC,YACIjE,IAA8BX,EAAc,GAAG7R,MAAMqV,QAAU,EAAK,EAAIa,GAE1D,QAAdxtB,EAAIkG,OACNwjB,EAAgB8C,UAAhB,sBAAyCwB,EAAzC,YAEEjE,IAA+BZ,EAAc,GAAG7R,MAAMqV,QAAU,EAAK,EAAIa,GAGxEvE,GAELmB,EAAyB,CAAEC,SAAUmD,MAEvC,SAASU,IAEP,GADAluB,EAAIutB,8BAA+B,GAC9BhE,IAAcjkB,EAGjB,OAFAikB,GAAY,OACZjkB,GAAU,GAOZ,GAJAikB,GAAY,EACZjkB,GAAU,EACVpF,EAAO+tB,iBAAkB,EACzB1nB,YAAE,CAACkjB,EAAe,GAAIC,EAAgB,KAAKviB,YAAY,yBACnC,IAAhB6hB,EAOF,OANAziB,YAAE,CAACkjB,EAAe,GAAIC,EAAgB,KAAK8C,UAAU,IACjDrD,GAAiBA,EAAcziB,OAAS,GAAGyiB,EAAczhB,SACzD0hB,GAAkBA,EAAe1iB,OAAS,GAAG0iB,EAAe1hB,cAC5DuhB,GACFmB,EAAyB,CAAEE,OAAO,KAItC,IAAM6D,EAAW9rB,IAAM0oB,MAAQ/lB,EAC3BopB,GAAc,GAGfD,EAAW,KAAOnF,EAAc,IAC7BmF,GAAY,KAAOnF,EAAcD,EAAqB,KAE1DU,EAAetiB,YAAY,gBAAgBF,SAA3C,mBAA8E,QAAdjH,EAAIkG,MAAkB,sBAAwB,KAC9GwjB,EAAgBviB,YAAY,iBAAiBF,SAAS,gBAAgBonB,WAAW,eAC7ElF,IAAeA,EAAc,GAAG7R,MAAMqV,QAAU,IAChDvD,IAAgBA,EAAe,GAAG9R,MAAMqV,QAAU,IAClD1D,IACFW,EAAsBziB,YAAY,kBAAkBF,SAAS,eAC7D4iB,EAAuB1iB,YAAY,mBAAmBF,SAAS,kBAAkBonB,WAAW,gBAE9FD,GAAc,GAIhB7nB,YAAE,CAACkjB,EAAe,GAAIC,EAAgB,KAAKziB,SAAS,mDAAmDulB,UAAU,IAE7GvD,GACFmB,EAAyB,CAAEC,SAAU+D,EAAc,EAAI,EAAG7D,YAAY,IAExEZ,GAAqB,EACrBzpB,EAAO2qB,iBAAkB,EAGzB,IAAM6C,EAAe,CACnBC,cAAelE,EAAe,GAC9BmE,eAAgBlE,EAAgB,GAChCmE,gBAAiBjE,EAAsB,GACvCkE,iBAAkBjE,EAAuB,IAGvCuE,GAEFluB,EAAOouB,aAAe5E,EAAgB,GAAG6E,OAAOle,MAChDnQ,EAAOsuB,YAAc9E,EAAgB,GAGrCxpB,EAAOuuB,aAAa,YAAahF,EAAgBG,EAAuB,UAAW,OAAQ,CAAEvZ,MAAOoZ,EAAe,GAAG8E,OAAOle,MAAOqe,WAAW,IAC/IxuB,EAAOuuB,aAAa,WAAY/E,EAAiBG,EAAwB,WAAY,UAAW,CAAExZ,MAAOqZ,EAAgB,GAAG6E,OAAOle,MAAOqe,WAAW,GAAQjF,EAAe,IAE5KpiB,EAAIkD,QAAQ,yBAA0BmjB,GACtCxtB,EAAO+C,KAAK,wBAAyByqB,KAErCrmB,EAAIkD,QAAQ,wBAAyBmjB,GACrCxtB,EAAO+C,KAAK,uBAAwByqB,IAGtCjE,EAAekF,eAAc,WAC3BpoB,YAAE,CAACkjB,EAAe,GAAIC,EAAgB,KAAKviB,YAAY,mDACnD8hB,GACFmB,EAAyB,CAAEE,OAAO,EAAMC,YAAY,IAEtDZ,GAAqB,EACrBzpB,EAAO2qB,iBAAkB,EACrBuD,GAE4B,IAA1BluB,EAAOuS,QAAQ/L,QACjBxG,EAAOuS,QAAQmc,QAAQ1uB,EAAOsN,KAEhCtN,EAAOuS,QAAQoc,MACf3uB,EAAO4uB,cAGH7uB,EAAO8uB,WACTrc,IAAQvD,OAIVjP,EAAOuuB,aAAa,WAAYhF,EAAgBG,EAAuB,UAAW,OAAQ,CAAEvZ,MAAOoZ,EAAe,GAAG8E,OAAOle,MAAOqe,WAAW,IAC9IxuB,EAAOuuB,aAAa,UAAW/E,EAAiBG,EAAwB,WAAY,UAAW,CAAExZ,MAAOqZ,EAAgB,GAAG6E,OAAOle,MAAOqe,WAAW,IAGhJzuB,EAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQggB,EAAe,KAAO,GACzEA,EAAexiB,SAAS,WACpBiiB,GACFU,EAAsB3iB,SAAS,aAGjC/G,EAAOuuB,aAAa,eAAgBhF,EAAgBG,EAAuB,OAAQ,CAAE8E,WAAW,IAChGxuB,EAAOgvB,WAAWzF,GACdP,GACFhpB,EAAOivB,aAAavF,IAIxBviB,EAAIkD,QAAQ,wBAAyBmjB,GACrCxtB,EAAO+C,KAAK,uBAAwByqB,GAEpCxtB,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,GAEnED,EAAOovB,qBACTnvB,EAAOiP,KAAKjP,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAI,CAAE4oB,SAAS,MAGpEjoB,EAAIkD,QAAQ,uBAAwBmjB,GACpCxtB,EAAO+C,KAAK,sBAAuByqB,IAEjCvE,GAAiBA,EAAcziB,OAAS,GAAGyiB,EAAczhB,SACzD0hB,GAAkBA,EAAe1iB,OAAS,GAAG0iB,EAAe1hB,YAK5DuB,IAA6C,eAA1BjJ,EAAI0E,YAAYC,QAA0BxC,IAAQ8G,kBAAmB,CAAEC,SAAS,EAAMqmB,SAAS,GACxHloB,EAAI/G,GAAGN,EAAI0E,YAAYC,MAAO+lB,EAAkBzhB,GAChDjJ,EAAIM,GAAG,mBAAoB0qB,GAC3BhrB,EAAIM,GAAG,mBAAoB4tB,GAW7BhuB,EAAOI,GAAG,iBATV,WACE,IAAM2I,IAA6C,eAA1BjJ,EAAI0E,YAAYC,QAA0BxC,IAAQ8G,kBAAmB,CAAEC,SAAS,EAAMqmB,SAAS,GACxHloB,EAAIyV,IAAI9c,EAAI0E,YAAYC,MAAO+lB,EAAkBzhB,GACjDjJ,EAAI8c,IAAI,mBAAoBkO,GAC5BhrB,EAAI8c,IAAI,mBAAoBoR,OChhBjB,WAAUsB,EAAWnf,EAAOZ,GACzC,IAAMvP,EAASH,KACT0vB,EAAWpf,EAAMA,MAAMof,SAY7B,GAXIhgB,EAAQ0F,SAAWjV,EAAOD,OAAO8uB,YACnCtf,EAAQigB,cAAe,EACvBjgB,EAAQgD,SAAU,GASI,mBAAbgd,EAAyB,CAClCvvB,EAAO2qB,iBAAkB,EACzB,IAAM8E,EAAcF,EAASrhB,KAAKlO,EAAQmQ,GAT5C,SAAyBsf,GAAmC,IAAtBC,EAAsB,uDAAJ,GACtD1vB,EAAO2qB,iBAAkB,EACzB3qB,EAAOsvB,GAAWG,EAAattB,IAAM2N,OAAO,GAAIP,EAASmgB,OAE3D,WACE1vB,EAAO2qB,iBAAkB,KAKzB,OAAI8E,GAAsC,iBAAhBA,GACxBzvB,EAAO2qB,iBAAkB,EAClB3qB,EAAOsvB,GAAWG,EAAalgB,IAEjCvP,EAET,OAAOA,EAAOsvB,GAAWC,EAAUhgB,I,qVCzBrC,SAASogB,EAAa3vB,EAAQ4vB,EAAaC,EAAYC,EAAIC,EAAMvgB,EAASC,GACxE,IAAMugB,EAAQ,GAEV/b,MAAMC,QAAQ2b,GAChBG,EAAMlvB,KAAN,MAAAkvB,EAAK,EAASH,IACLA,GAAoC,mBAAfA,GAC9BG,EAAMlvB,KAAK+uB,GAETD,IACE3b,MAAMC,QAAQ0b,GAChBI,EAAMlvB,KAAN,MAAAkvB,EAAK,EAASJ,IAEdI,EAAMlvB,KAAK8uB,IAIf,SAASK,IACc,IAAjBD,EAAMxpB,OAIQwpB,EAAME,QAEdhiB,KACRlO,EACA8vB,EACAC,GACA,WACEE,OAEF,WACExgB,OAbFD,IAiBJygB,GAGa,eAAUH,EAAIC,EAAMvgB,EAASC,GAC1C,IAAMzP,EAASH,KACf,SAASswB,IACHL,GAAMA,EAAG3f,QAAUnQ,EAAOD,OAAOqwB,mBAAqBN,EAAG3f,MAAMkgB,cACjErwB,EAAO2qB,iBAAkB,EACzBgF,EACE3vB,EACAA,EAAOD,OAAOqwB,kBACdN,EAAG3f,MAAMkgB,YACTP,EACAC,GACA,WACE/vB,EAAO2qB,iBAAkB,EACzBnb,OAEF,WACEC,QAIJD,IAIEugB,GAAQA,EAAK5f,QAAUnQ,EAAOD,OAAOuwB,mBAAqBP,EAAK5f,MAAMogB,cACvEvwB,EAAO2qB,iBAAkB,EACzBgF,EACE3vB,EACAA,EAAOD,OAAOuwB,kBACdP,EAAK5f,MAAMogB,YACXT,EACAC,GACA,WACE/vB,EAAO2qB,iBAAkB,EACzBwF,OAEF,WACE1gB,QAIJ0gB,KC/ES,WAAUnwB,EAAQ+V,GAC/B,IAAK/V,EAAOqO,KACV,MAAM,IAAIgI,MAAJ,wJAA2JN,EAA3J,W,m/CCaJzW,E,YACJ,WAAYQ,EAAKuO,GAAM,O,4FAAA,SAErB,IAAMrO,EAAS,EADf,wBAAM,GAAI,MAAiB,IAATqO,EAAuBvO,EAAMuO,MAI/CrO,EAAOwwB,iBAA8B,IAATniB,EAExBrO,EAAOwwB,YAETruB,IAAM2N,QAAO,EAAO9P,EAAQ,CAC1BF,MACAC,OAAQD,EAAIC,OAAOsO,KACnBoiB,OAAQ3wB,EAAI2wB,QAAU,GACtBjxB,MAAOM,EAAIN,QAIb2C,IAAM2N,QAAO,EAAO9P,EAAQ,CAC1BF,MACAuO,OACAqiB,OAAQriB,EAAKkR,GACbxf,OAAQsO,EAAKtO,OACb0wB,OAAQpiB,EAAKoiB,OACbtpB,IAAKkH,EAAKlH,IACVjB,GAAImI,EAAKnI,GACTkjB,UAAW/a,EAAK+a,UAChBuH,SAAUtiB,EAAKsiB,SACfpe,QAASlE,EAAKkE,QACdqe,cAAeviB,EAAKuiB,cACpBpxB,MAAOM,EAAIN,MACXupB,cAA6B,QAAdjpB,EAAIkG,OAAmBqI,EAAKtO,OAAO8wB,iBAClD7H,eAA8B,QAAdlpB,EAAIkG,OAAmBqI,EAAKtO,OAAO8wB,kBAAoBxiB,EAAKtO,OAAO+wB,yBACnF/B,aAAc,GACdgC,eAAgB,KAKpB/wB,EAAOgxB,aAGPhxB,EAAO8U,QAAUtU,IAASuU,cAAc,OAGxC/U,EAAO2qB,iBAAkB,EAGzB,IAAIyD,EAAe,GACfc,EAAgB,GA0BpB,OAzBAxhB,OAAO0S,eAAepgB,EAAQ,eAAgB,CAC5CqgB,YAAY,EACZC,cAAc,EACdvN,IAH4C,WAGzB,IAAfke,EAAe,uDAAJ,GACb/B,EAAgB/sB,IAAM2N,OAAO,GAAIse,IACjCA,EAAe6C,KAEfjxB,EAAOsN,IAAM8gB,EAAa9gB,IAC1BtN,EAAO+C,KAAK,cAAekuB,EAAU/B,EAAelvB,KAEtD0S,IAV4C,WAW1C,OAAO0b,KAGX1gB,OAAO0S,eAAepgB,EAAQ,gBAAiB,CAC7CqgB,YAAY,EACZC,cAAc,EACd5N,IAH6C,WAI3C,OAAOwc,GAETnc,IAN6C,SAMzCke,GACF/B,EAAgB+B,KAIpB,IAAOjxB,G,6SAGakxB,EAAgBC,EAAgBzF,EAASD,EAAW6D,GACxE,IAKI8B,EACAC,EALEtI,EADSlpB,KACckpB,cACvBC,EAFSnpB,KAEempB,eACxBsI,EAHSzxB,KAGYE,OAAO8rB,yBAIlC,SAAS0F,EAAgBpqB,EAAKqqB,GAC5B,IAIIC,EAJE/E,EAAYvlB,EAAIP,SAAS,YAAc4qB,EAAY5qB,SAAS,WAC5DslB,EAAc/kB,EAAIP,SAAS,aAC3B8qB,GAAyBhF,IAAaR,EACtCyF,EAAUxqB,EAAI+jB,KAAK,eAMzB,OAJIwB,GAAa4E,GAAenqB,EAAIP,SAAS,SAAW+qB,EAAQnrB,OAAS,GAAKmrB,EAAQ1B,KAAK,QAAQzpB,SACjGW,EAAMwqB,EAAQ1B,KAAK,QACnBwB,GAAc,GAET,CACLtqB,MACAsqB,cACAG,WAAYzqB,EAAI,GAAG2kB,mBACnB+F,YAAa1qB,EAAI,GAAG2lB,oBACpBJ,YACAR,cACAwF,0BAuCJ,OApCI3I,IACFqI,EAAY,GACZC,EAAY,GACZH,EAAerd,SAAS,qCAAqC1I,MAAK,SAACsI,EAAOuY,GACxE,IAAMC,EAAS5lB,YAAE2lB,GACbC,EAAOrlB,SAAS,SAAW6kB,GAA2B,YAAd6D,GAA2BtG,GACnEiD,EAAOrlB,SAAS,UAAY8kB,GAChC0F,EAAUtwB,KAAKywB,EAAgBtF,EAAQiF,OAEnCC,EAAevqB,SAAS,kBApCjB/G,KAoC4CE,OAAO6qB,uBAAyB,GApC5E/qB,KAoCwFC,IAAIwC,OApC5FzC,KAoC4GE,OAAO6qB,wBAC9HuG,EAAetd,SAAS,qCAAqC1I,MAAK,SAACsI,EAAOuY,GACxE,IAAMC,EAAS5lB,YAAE2lB,GACbC,EAAOrlB,SAAS,SAAW8kB,IAAYD,GAA2B,YAAd6D,GAA2BtG,GAC/EiD,EAAOrlB,SAAS,SAAW8kB,GAAyB,aAAd4D,GAA4BtG,GAClEiD,EAAOrlB,SAAS,UAAY6kB,GAGhC4F,EAAUvwB,KAAKywB,EAAgBtF,EAAQkF,OAG3C,CAACE,EAAWD,GAAWxvB,SAAQ,SAACkwB,GAC9BA,EAAOlwB,SAAQ,SAACoqB,GACd,IAAM+F,EAAI/F,EACFU,EAAmBV,EAAnBU,UAAWvlB,EAAQ6kB,EAAR7kB,IACb6qB,EAAWF,IAAWT,EAAYD,EAAYC,EAC9C3E,GAAavlB,EAAIP,SAAS,UAAYorB,GAC5CA,EAASpwB,SAAQ,SAACqwB,GAChB,GAAIA,EAAWR,YAAa,CAC1B,IAAMS,EAAaD,EAAW9qB,IAAI,GAClC4qB,EAAEH,YAAcM,GAAcA,EAAWC,YAAmB,aAO/D,CAAEf,YAAWC,e,8BAGde,EAASC,EAASlB,EAAgBD,EAAgB5B,EAAW9b,GACnE,IAAMxT,EAASH,KACf,GAAIG,EAAOD,OAAOuyB,cAChBtyB,EAAOD,OAAOuyB,cAAcC,MAAMvyB,EAAQ,CAACoyB,EAASC,EAASlB,EAAgBD,EAAgB5B,EAAW9b,QAD1G,CAIA,IAKI4d,EACAC,EAEA5F,EACAC,EAEA8G,EACAC,EAZE1J,EAAgB/oB,EAAO+oB,cACvBnoB,EAA2B,QAArBZ,EAAOF,IAAIkG,MAEjB0sB,EAAwB,qBAAH,OAAwBpD,EAAxB,sBAW3B,GAAI1uB,GAAOmoB,EAAe,CACxByJ,EAAarB,GAAkBA,EAAevqB,SAAS,sBACvD6rB,EAAavB,GAAkBA,EAAetqB,SAAS,sBACvD6kB,EAAY+G,IAAerB,EAAevqB,SAAS,gCACnD8kB,EAAU+G,IAAevB,EAAetqB,SAAS,gCACjD,IAAMkrB,EAAS9xB,EAAOitB,sBAAsBiE,EAAgBC,EAAgBzF,EAASD,EAAW6D,GAChG8B,EAAYU,EAAOV,UACnBC,EAAYS,EAAOT,WAmEN,YAAd/B,EAA0B+C,EAAUD,GAASO,cAAa,WA1BrD3yB,EAAO+oB,gBACLmI,IACFA,EAAejqB,YAAY,yEAC3BiqB,EAAenqB,SAAS,oCACxB5E,IAAMywB,WAAU,WACd1B,EAAejqB,YAAY,wCAG3BkqB,GACFA,EAAelqB,YAAY,yEAEzBiqB,EAAetqB,SAAS,WAC1BsqB,EAAehG,KAAK,kDAAkDoB,UAAU,IAEhF4E,EAAehG,KAAK,YAAYoB,UAAU,IAExC6E,EAAevqB,SAAS,WAC1BuqB,EAAejG,KAAK,kDAAkDoB,UAAU,IAEhF6E,EAAejG,KAAK,YAAYoB,UAAU,KAG9CtsB,EAAOmH,IAAIF,YAAYyrB,GACnBlf,GAAUA,OAQZuV,GAEF8J,EAAe,GACf1wB,IAAMywB,WAAU,WAEdC,EAAe,GACf7yB,EAAOmH,IAAIJ,SAAS2rB,OAItB1yB,EAAOmH,IAAIJ,SAAS2rB,GA/EtB,SAASG,EAAe1I,GAChBvpB,GAAOmoB,IACI,IAAboB,IACEuB,IACFwF,EAAenqB,SAAS,qCACxBoqB,EAAepqB,SAAS,sCAEtB0kB,IACFyF,EAAenqB,SAAS,uCACxBoqB,EAAepqB,SAAS,yCAG5BqqB,EAAUxvB,SAAQ,SAACoqB,GACjB,IAAM7kB,EAAM6kB,EAAM7kB,IACZzE,EAAuB,YAAd4sB,EAA0BtD,EAAM6F,YAAc7F,EAAM4F,WAC/D5F,EAAMU,YACJV,EAAME,aAAeuG,EACvBtrB,EAAI,GAAGiQ,MAAM+E,YAAY,YAAzB,sBAAqDzZ,GAAU,EAAIynB,GAAnE,qGAAiL,aAEjLhjB,EAAImlB,UAAJ,sBAA6B5pB,GAAU,EAAIynB,GAA3C,gBAINkH,EAAUzvB,SAAQ,SAACoqB,GACjB,IAAM7kB,EAAM6kB,EAAM7kB,IACZzE,EAAuB,YAAd4sB,EAA0BtD,EAAM4F,WAAa5F,EAAM6F,YAC9D7F,EAAMU,YACJV,EAAME,aAAesG,EACvBrrB,EAAImlB,UAAJ,sBAA6B5pB,EAAUynB,EAAvC,sGAEAhjB,EAAImlB,UAAJ,sBAA6B5pB,EAAUynB,EAAvC,oB,kCAqDE2I,GACKjzB,KACRkzB,SAASD,K,uCAGD1gB,GACA/L,YAAE+L,GACV7R,KAAK,M,mCAGD2F,GACIrG,KACRkzB,SAAS7sB,K,iCAGPA,GACT,IAAMiB,EAAMd,YAAEH,GACRmoB,EAASlnB,GAAOA,EAAI,IAAMA,EAAI,GAAGknB,OAEnCA,GAAUA,EAAOle,OAASke,EAAOle,MAAMA,OAASke,EAAOle,MAAMA,MAAM6iB,UACrE7rB,EAAIK,SAFS3H,KAKRkzB,SAAS7sB,K,+BAGTA,GACP,GAAKA,EAAL,CACA,IACMiB,EAAMd,YAAEH,GACK,IAAfiB,EAAIX,SACRW,EAAI+jB,KAAK,QAAQ/f,MAAK,SAAC8nB,EAAU7gB,GAC/B/L,YAAE+L,GAAOyB,WAAW1I,MAAK,SAACsI,EAAOyf,GAC3BA,EAAS9R,cACX/a,YAAE6sB,GAAU7oB,QAAQ,oBACpB6oB,EAAS9R,YAAY+R,kBAIvBhsB,EAAI,GAAGia,aAAeja,EAAI,GAAGia,YAAY+R,UAC3ChsB,EAAI,GAAGia,YAAY+R,WAZNtzB,KAcHE,OAAOqzB,iBAdJvzB,KAiBJE,OAAOszB,0BAChBjwB,YAAW,WACT+D,EAAIK,WAnBO3H,KAoBHE,OAAOuzB,uBAEjBnsB,EAAIK,c,gCAIE3G,GAER,GAAuB,iBAAZA,EADIhB,KAENiV,QAAQ+D,UAAYhY,MACtB,CACL,GAAIwF,YAAExF,GAAS+F,SAAS,QACtB,OAAO/F,EALIhB,KAONiV,QAAQ+D,UAAY,GAC3BxS,YARaxG,KAQJiV,SAAS6M,OAAO9gB,GAG3B,OAXehB,KAWD0zB,YAAY,QAXX1zB,KAW2BiV,W,kCAGhC0e,EAAgBlQ,EAAWmQ,GACrC,IACMplB,EADSxO,KACKwO,KACdvO,EAFSD,KAEIC,IAKb4zB,EAAartB,YAAEid,GACjBqQ,EAAWH,EACXC,IAAYE,GAAY,kBAE5B,IAAIC,EAAQF,EACTxI,KAAKyI,GACLtgB,QAAO,SAACI,EAAOvN,GAAR,OAAwD,IAAzCG,YAAEH,GAAII,QARR,iFAQgCE,UAYvD,OAVIotB,EAAMptB,OAAS,IACY,iBAAlB6H,EAAKslB,WAEdC,EAAQF,EAAWxI,KAAX,UAAmB7c,EAAKslB,SAAxB,YAAoCA,KAE1CC,EAAMptB,OAAS,IAEjBotB,EAAQF,EAAWxI,KAAX,WAAoBprB,EAAIC,OAAO8zB,cAA/B,YAAgDF,MAGvC,IAAjBC,EAAMptB,OAAqBotB,GAG1BH,IAAYG,EA5BF/zB,KA4BiB0zB,YAAYI,EAAUD,GAAY,IAC9DE,GAA0B,IAAjBA,EAAMptB,OAAqBotB,EACpCA,GAASA,EAAMptB,OAAS,EAAUH,YAAEutB,EAAM,SAA9C,K,sCAIkC,IAAtBnD,EAAsB,uDAAb5wB,KAAK4wB,OACpBzwB,EAASH,KACXi0B,EAAkB,GA0CtB,OAzCArD,EAAO7uB,SAAQ,SAACuO,GACd,IAAI4jB,GAAe,EACnB,GAAI,SAAU5jB,GAASA,EAAM6jB,KAAM,CACjC,IAAMC,EAAoB9jB,EAAM6jB,KAAKzgB,KAAI,SAAC2gB,GACxC,IAAMC,EAAShyB,IAAM2N,OAAO,GAAIK,EAAO,CACrCgG,KAAM,UAAIhG,EAAMgG,KAAV,YAAkB+d,EAAS/d,MAAQ7U,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KAC3E8yB,WAAYjkB,EAAMgG,KAClBke,IAAKH,IAIP,cAFOC,EAAOH,YACPG,EAAO1D,OACP0D,KAETJ,GAAe,EACfD,EAAkBA,EAAgBQ,OAAOt0B,EAAOu0B,cAAcN,IAEhE,GAAI,iBAAkB9jB,EAAO,CAC3B,IAAM8jB,EAAoB9jB,EAAMqkB,aAAajhB,KAAI,SAACkhB,GAChD,IAAMC,EAASvyB,IAAM2N,OAAO,GAAI2kB,GAGhC,OAFAC,EAAOC,YAAcxkB,EACrBukB,EAAOE,gBAAkBzkB,EAAMgG,KACxBue,KAETZ,EAAkBA,EAAgBQ,OAAOnkB,EAAOnQ,EAAOu0B,cAAcN,IAEvE,GAAI,WAAY9jB,EAAO,CACrB,IAAM8jB,EAAoB9jB,EAAMsgB,OAAOld,KAAI,SAACshB,GAC1C,IAAMC,EAAS3yB,IAAM2N,OAAO,GAAI+kB,GAEhC,OADAC,EAAO3e,KAAO,UAAIhG,EAAMgG,KAAV,YAAkB2e,EAAO3e,MAAQ7U,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KAC1EwzB,KAGPhB,EADEC,EACgBD,EAAgBQ,OAAOt0B,EAAOu0B,cAAcN,IAE5CH,EAAgBQ,OAAOnkB,EAAOnQ,EAAOu0B,cAAcN,IAGnE,WAAY9jB,GAAY,SAAUA,GAASA,EAAM6jB,MAAW,iBAAkB7jB,GAClF2jB,EAAgBhzB,KAAKqP,MAGlB2jB,I,oCAIKxmB,GACZ,IAAKA,EAAK,MAAO,GACjB,IAAMynB,EAAQ5yB,IAAM6yB,cAAc1nB,GAC5BoQ,EAAOpQ,EAAIjM,MAAM,KAAK,GAEtB8U,EAAO7I,EAAIjM,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC1C,MAAO,CACL0zB,QACArX,OACA3d,OALa,GAMbuN,MACA6I,U,wCAKchG,GAA+B,IAG3C7C,EAH2C,yDAAJ,GAAlBvN,EAAsB,EAAtBA,OAAQg1B,EAAc,EAAdA,MACzB5e,EAAShG,EAATgG,KACF8e,EAAQC,IAAaxlB,QAAQyG,GAEnC,IACE7I,EAAM2nB,EAAMl1B,GAAU,IACtB,MAAOyjB,GACP,MAAM,IAAInN,MAAJ,+EAAkFF,EAAlF,aAA2FqN,EAAM2R,aAQzG,OALIJ,IAC6BznB,GAAO,IAAJ,OAAb,iBAAVynB,EAA+BA,EAC1B5yB,IAAMizB,gBAAgBL,KAGjCznB,I,mCAGI8E,GACX,IAKIijB,EAJEC,EAASjvB,YAAE+L,GACXgiB,EAFSv0B,KAEWuuB,aAAaje,MAAMikB,WACvCmB,EAAQD,EAAO/nB,KAAK,MAY1B,OAfe1N,KAIgB00B,cAJhB10B,KAIqC4wB,QAEpC7uB,SAAQ,SAACuO,GAErBA,EAAMikB,aAAeA,GAClBjkB,EAAMkkB,KACNlkB,EAAMkkB,IAAI9U,KAAOgW,IAEpBF,EAAgBllB,MAGbklB,I,qCAGM1iB,EAAKK,GAClB,IAGIwiB,EAFE/E,EADS5wB,KACO4wB,OAUtB,OAXe5wB,KAEgB00B,cAAc9D,GAG7B7uB,SAAQ,SAACuO,GACnBqlB,GACArlB,EAAMwC,KAASK,IACjBwiB,EAAgBrlB,MAGbqlB,I,wCAGSloB,GAChB,GAAKA,EAAL,CACA,IAIIkoB,EAHE/E,EADS5wB,KACO4wB,OAChBqD,EAFSj0B,KAEgB00B,cAAc9D,GAJxB,EAEN5wB,KAG8B41B,cAAcnoB,GAAnD6I,EALa,EAKbA,KAAM4e,EALO,EAKPA,MAAOrX,EALA,EAKAA,KAAM3d,EALN,EAKMA,OAkD3B,OAhDA+zB,EAAgBlyB,SAAQ,SAACuO,GACvB,IAAIqlB,EAAJ,CACA,IAYIE,EAiBEtB,EA7BAzmB,EAAO,GAEPgoB,EAAe,CAACxlB,EAAMgG,MACxBhG,EAAMylB,QACmB,iBAAhBzlB,EAAMylB,MAAoBD,EAAa70B,KAAKqP,EAAMylB,OACpD3hB,MAAMC,QAAQ/D,EAAMylB,QAC3BzlB,EAAMylB,MAAMh0B,SAAQ,SAACi0B,GACnBF,EAAa70B,KAAK+0B,OAMxBF,EAAa/zB,SAAQ,SAACk0B,GAChBJ,IACJA,EAAUR,IAAaY,EAAanoB,GAAMooB,KAAK5f,OAG7Cuf,IACF/nB,EAAK/L,SAAQ,SAACo0B,EAAQviB,GACpB,GAA2B,iBAAhBuiB,EAAO52B,KAAlB,CACA,IAAM62B,EAAaP,EAAQjiB,EAAQ,GAEjC1T,EAAOi2B,EAAO52B,MADZ,MAAO62B,EACaA,EAEAC,mBAAmBD,OAKzC9lB,EAAMikB,aACRA,EAAaje,EAAK9U,MAAM,KAAKiV,MAAM,EAAGnG,EAAMikB,WAAW/yB,MAAM,KAAKmF,OAAS,GAAG+P,KAAK,MAGrFif,EAAgB,CACdT,QACArX,OACA3d,SACAuN,MACA6I,OACAie,aACAjkB,QACA/Q,KAAM+Q,EAAM/Q,WAIXo2B,K,gDAIuC,IAAxBloB,EAAwB,uDAAlB,GAAIiC,EAAc,uDAAJ,GACtCiC,EAAclE,EAalB,MAZ2B,iBAAhBkE,GACNA,EAAYjI,QAAQ,OAAS,GAC7BgG,GACAA,EAAQY,OACRZ,EAAQY,MAAMpQ,QACd2N,OAAOC,KAAK4B,EAAQY,MAAMpQ,QAAQyG,QAErCkH,OAAOC,KAAK4B,EAAQY,MAAMpQ,QAAQ6B,SAAQ,SAACu0B,GACzC,IAAMC,EAAS,IAAIC,OAAJ,YAAgBF,EAAhB,MAA+B,KAC9C3kB,EAAcA,EAAYlQ,QAAQ80B,EAAQ7mB,EAAQY,MAAMpQ,OAAOo2B,IAAc,OAG1E3kB,I,yCAGUlE,GAIjB,IAHA,IACMgpB,EADSz2B,KACSL,MAAMC,IAC1BgU,GAAQ,EACHlS,EAAI,EAAGA,EAAI+0B,EAAS9vB,OAAQjF,GAAK,EACpC+0B,EAAS/0B,GAAG+L,MAAQA,IAAKmG,EAAQlS,IAEzB,IAAVkS,GAAiB6iB,EAAS1S,OAAOnQ,EAAO,K,iCAGnC8iB,EAAYhnB,GACrB,IAAMvP,EAASH,KACTE,EAASC,EAAOD,OACdy2B,EAAgBjnB,EAAhBinB,YACJlpB,EAAMipB,EAENE,EAAWnpB,EAAI/D,QAAQ,MAAQ,EA4BnC,OA3BIxJ,EAAO22B,yBACNnnB,GACAA,EAAQY,OACRZ,EAAQY,MAAM4kB,OACdrnB,OAAOC,KAAK4B,EAAQY,MAAM4kB,OAAOvuB,SAEpC8G,GAAO,GAAJ,OAAOmpB,EAAW,IAAM,KAAxB,OAA8Bt0B,IAAMizB,gBAAgB7lB,EAAQY,MAAM4kB,QACrE0B,GAAW,GAGT12B,EAAO42B,0BACNpnB,GACAA,EAAQY,OACRZ,EAAQY,MAAMpQ,QACd2N,OAAOC,KAAK4B,EAAQY,MAAMpQ,QAAQyG,SAErC8G,GAAO,GAAJ,OAAOmpB,EAAW,IAAM,KAAxB,OAA8Bt0B,IAAMizB,gBAAgB7lB,EAAQY,MAAMpQ,SACrE02B,GAAW,GAGTnpB,EAAI/D,QAAQ,OAAS,IACvB+D,EAAMtN,EAAOyR,wBAAwBnE,EAAKiC,IAGxCxP,EAAO62B,6BAA+BtpB,EAAI/D,QAAQ,MAAQ,IAC5D+D,EAAMA,EAAIjM,MAAM,KAAK,IAEhB,IAAIuR,SAAQ,SAACpD,EAASC,GAC3B,GAAI1P,EAAOu2B,WAAaE,GAAelpB,EAAI/D,QAAQ,WAAa,GAAKxJ,EAAO82B,eAAettB,QAAQ+D,GAAO,EACxG,IAAK,IAAI/L,EAAI,EAAGA,EAAIvB,EAAOR,MAAMC,IAAI+G,OAAQjF,GAAK,EAAG,CACnD,IAAMu1B,EAAY92B,EAAOR,MAAMC,IAAI8B,GACnC,GAAIu1B,EAAUxpB,MAAQA,GAEhBnL,IAAM0oB,MAAQiM,EAAUC,KAAOh3B,EAAOi3B,iBAGxC,YADAxnB,EAAQsnB,EAAUj2B,SAM1Bb,EAAOP,IAAMO,EAAOF,IAAIwD,QAAQ,CAC9BgK,MACAyI,OAAQ,MACRkhB,WAH8B,SAGnBx3B,GACTO,EAAO+C,KAAK,kBAAmBtD,EAAK8P,IAEtC2nB,SAN8B,SAMrBz3B,EAAK03B,GACZn3B,EAAO+C,KAAK,qBAAsBtD,GAClB,UAAX03B,GAAiC,YAAXA,GAAyB13B,EAAI03B,QAAU,KAAO13B,EAAI03B,OAAS,KAAwB,IAAf13B,EAAI03B,QAC7Fp3B,EAAOu2B,UAAiC,KAArB72B,EAAI23B,eACzBp3B,EAAOq3B,mBAAmB/pB,GAC1BtN,EAAOR,MAAMC,IAAIqB,KAAK,CACpBwM,MACAypB,KAAM50B,IAAM0oB,MACZhqB,QAASpB,EAAI23B,gBAGjBp3B,EAAO+C,KAAK,oBAAqBtD,EAAK8P,GACtCC,EAAQ/P,EAAI23B,gBAEZp3B,EAAO+C,KAAK,kBAAmBtD,EAAK8P,GACpCE,EAAOhQ,KAGX+jB,MAxB8B,SAwBxB/jB,GACJO,EAAO+C,KAAK,kBAAmBtD,EAAK8P,GACpCE,EAAOhQ,W,0CAOKyG,GAClB,IAEIoxB,EADEtxB,EADSnG,KACMC,IAAIkG,MAEX,QAAVA,EACFsxB,EAAW,oEACQ,OAAVtxB,EACTsxB,EAAW,oEACQ,WAAVtxB,IACTsxB,EAAW,qEAEbjxB,YAAEH,GAAIglB,KAAKoM,GAAU9vB,W,kCAGX+vB,EAAQ5G,EAAUZ,EAAMD,GAA4B,IAK1DR,EACAkI,EANkCrnB,EAAwB,uDAAhB,GAAIsnB,EAAY,uCACxDz3B,EAASH,KACT63B,EAAUrxB,YAAEkxB,GAAQ5wB,GAAG,GACvByiB,EAAY/iB,YAAEsqB,GAAUhqB,GAAG,GAC3B2nB,EAAcoJ,EAAQ,GAAGrJ,QAAU,GAKzC,IAFc,SAAT0B,GAA0B,YAAPD,GAA+B,YAATC,GAA6B,aAAPD,KAAoBR,EAAY,YACtF,YAATS,GAA6B,SAAPD,GAA4B,aAATC,GAA8B,YAAPD,KAAmBR,EAAY,YAChGhB,IAAgBA,EAAYqJ,SAAU,CACxC,IAAMC,EAAcvxB,YAAEoxB,GAClBG,EAAYpxB,SACdgxB,EAAWI,EAAY,GAAGvJ,SAG9BmJ,EAAWlJ,EAAYkJ,UAAYA,IACnBA,EAASA,WACvBA,EAASA,SAAW,MAEtB,IAAMK,EAAO,CACX/3B,IAAKE,EAAOF,IACZuO,KAAMrO,EAAOqO,KACbrO,SACAmH,IAAKuwB,EACLxxB,GAAIwxB,EAAQ,GACZA,UACAH,OAAQG,EAAQ,GAChBtO,YACAuH,SAAUvH,EAAU,GACpBhqB,KAAMs4B,EAAQnqB,KAAK,aACnBuqB,SAAU/H,EACVA,OACAD,KACAR,YACAnf,MAAOme,EAAYne,MAAQme,EAAYne,MAAQA,EAC/CqnB,YAIF,OADAE,EAAQ,GAAGrJ,OAASwJ,EACbA,I,mCAIIrkB,EAAU+jB,EAAQ5G,EAAUZ,EAAMD,GAA8B,IAA1BvgB,EAA0B,uDAAhB,GAAIkoB,EAAY,uCAC3E,GAAKF,EAAL,CACA,IAAMv3B,EAASH,KACT63B,EAAUrxB,YAAEkxB,GAClB,GAAKG,EAAQlxB,OAAb,CACA,IAAM4iB,EAAY/iB,YAAEsqB,GACZxgB,EAAUZ,EAAVY,MACF4nB,EAAyB/3B,EAAOD,OAAOg4B,0BAEzC/3B,EAAOD,OAAO6qB,uBAAyB,GACpC8M,EAAQ9wB,SAAS,gBACjB5G,EAAOF,IAAIwC,OAAStC,EAAOD,OAAO6qB,wBAEnCoI,EAAY0E,EAAQ,GAAGrJ,QAAUqJ,EAAQ,GAAGrJ,OAAOle,OAASunB,EAAQ,GAAGrJ,OAAOle,MAAMA,OAASunB,EAAQ,GAAGrJ,OAAOle,MAAMA,MAAM6iB,UAEhH,iBAAbxf,GAA+Bwf,IACjCxf,EAAW,iBAGb,IAAMwkB,EAAY,OAAH,OAAUxkB,EAAS,GAAGykB,cAAgBzkB,EAAS8C,MAAM,EAAG9C,EAAShN,SAC1E0xB,EAAY,QAAH,OAAW1kB,EAAShK,eAE/BquB,EAAO,IAETA,EADe,iBAAbrkB,GAA+BkkB,EAAQ,GAAGrJ,OACrClsB,IAAM2N,OAAO4nB,EAAQ,GAAGrJ,OAAQ,CAAE0B,OAAMD,KAAIgI,SAAU/H,IAEtD/vB,EAAOm4B,YAAYT,EAAQ,GAAItO,EAAU,GAAI2G,EAAMD,EAAI3f,EAAOsnB,IAElEjJ,YAAcjf,EAAQif,UA5BgD,MA8B5Cjf,EAAQY,MAAQZ,EAAQY,MAAMA,MAAQ,GA9BM,IA8BnE/P,UA9BmE,MA8B9D,GA9B8D,MA8B1DsV,YA9B0D,MA8BnD,GA9BmD,EAgF3E,GAjDInG,EAAQnP,IACV+B,IAAM2N,OAAO1P,EAAImP,EAAQnP,IAEvBmP,EAAQmG,MACVvT,IAAM2N,OAAO4F,EAAMnG,EAAQmG,MA0CZ,YAAblC,GACF4kB,IAEe,SAAb5kB,EAAqB,CACvB,GAAIukB,IAAoC,aAAThI,IAAwBA,IAAgB,YAAPD,GAAoB9vB,EAAO4wB,cAAciH,EAAK1nB,MAAM7C,OAASoqB,EAAQ9wB,SAAS,qBAAsB,CAClK,IAAIyxB,EAAeX,EAAQxM,KAAK,iBAC5BmN,EAAa7xB,OAAS,IAExB6xB,EAAeA,EAAahlB,QAAO,SAACilB,EAAkBC,GACpD,OAC+D,IAA7DlyB,YAAEkyB,GAAejyB,QAAQ,yBAAyBE,SAC9CH,YAAEkyB,GAAehyB,GAAG,6BAI9B8xB,EAAa9sB,UAAUvL,EAAO4wB,cAAciH,EAAK1nB,MAAM7C,MAGzD,GADA8qB,IACIV,EAAQ,GAAGc,kBAGb,OAFAd,EAAQrtB,QAAQ,cAAewtB,QAC/B73B,EAAO+C,KAAK,aAAc80B,GAG5BH,EAAQ,GAAGc,mBAAoB,EAEjC,GAAIT,GAAuC,cAAbvkB,GAAqC,YAATuc,GAA6B,aAAPD,EAAmB,CAEjG,IAAIuI,EAAeX,EAAQxM,KAAK,iBAC5BmN,EAAa7xB,OAAS,IAExB6xB,EAAeA,EAAahlB,QAAO,SAACilB,EAAkBC,GACpD,OAC+D,IAA7DlyB,YAAEkyB,GAAejyB,QAAQ,yBAAyBE,SAC9CH,YAAEkyB,GAAehyB,GAAG,6BAI9BvG,EAAO4wB,cAAciH,EAAK1nB,MAAM7C,KAAO+qB,EAAa9sB,YAElDwsB,GAAuC,cAAbvkB,GAAqC,YAATuc,GAA6B,SAAPD,UAEvE9vB,EAAO4wB,cAAciH,EAAK1nB,MAAM7C,KAGzCoqB,EAAQrtB,QAAQ6tB,EAAWL,GAC3B73B,EAAO+C,KAAKi1B,EAAWH,GAEN,iBAAbrkB,GAA4C,kBAAbA,IACjCilB,IACKzF,IACC0E,EAAQ,GAAGrJ,QAAUqJ,EAAQ,GAAGrJ,OAAOsC,iBAClC+G,EAAQ,GAAGrJ,OAAOsC,SAAStC,OAEpCqJ,EAAQ,GAAGrJ,OAAS,QA5FxB,SAAS+J,IACHV,EAAQ,GAAGgB,wBACfhB,EAAQ,GAAGgB,uBAAwB,EAC/Bt4B,GAAMsN,OAAOC,KAAKvN,GAAIoG,OAAS,IACjCkxB,EAAQ,GAAGiB,gBAAkBv4B,EAC7BsN,OAAOC,KAAKvN,GAAIwB,SAAQ,SAAC2T,GACvBnV,EAAGmV,GAAanV,EAAGmV,GAAW2B,KAAKlX,GACnC03B,EAAQt3B,GAAG+B,IAAMkf,qBAAqB9L,GAAYnV,EAAGmV,QAGrDG,GAAQhI,OAAOC,KAAK+H,GAAMlP,OAAS,IACrCkxB,EAAQ,GAAGkB,kBAAoBljB,EAC/BhI,OAAOC,KAAK+H,GAAM9T,SAAQ,SAAC2T,GACzBG,EAAKH,GAAaG,EAAKH,GAAW2B,KAAKlX,GACvC03B,EAAQhiB,KAAKvT,IAAMkf,qBAAqB9L,GAAYG,EAAKH,SAK/D,SAASkjB,IACFf,EAAQ,GAAGgB,wBACZhB,EAAQ,GAAGiB,iBACbjrB,OAAOC,KAAK+pB,EAAQ,GAAGiB,iBAAiB/2B,SAAQ,SAAC2T,GAC/CmiB,EAAQ9a,IAAIza,IAAMkf,qBAAqB9L,GAAYmiB,EAAQ,GAAGiB,gBAAgBpjB,OAG9EmiB,EAAQ,GAAGkB,mBACblrB,OAAOC,KAAK+pB,EAAQ,GAAGkB,mBAAmBh3B,SAAQ,SAAC2T,GACjDmiB,EAAQ9a,IAAIza,IAAMkf,qBAAqB9L,GAAYmiB,EAAQ,GAAGkB,kBAAkBrjB,OAGpFmiB,EAAQ,GAAGgB,sBAAwB,KACnChB,EAAQ,GAAGiB,gBAAkB,KAC7BjB,EAAQ,GAAGkB,kBAAoB,YACxBlB,EAAQ,GAAGgB,6BACXhB,EAAQ,GAAGiB,uBACXjB,EAAQ,GAAGkB,sB,oCA8DL/4B,KACRwO,KAAKkE,QADG1S,KACc0S,QADd1S,KAEJE,OAAO8uB,YAChBhsB,IAAOgQ,aAAP,mBAHahT,KAG0BwO,KAAKkR,GAA5C,aAA4D3Q,KAAKsE,UAHpDrT,KAGqE0S,Y,uCAKrE1S,KACJE,OAAO8uB,WAAahsB,IAAOgQ,aAAP,mBADhBhT,KACuDwO,KAAKkR,GAA5C,eADhB1f,KAEN0S,QAAU3D,KAAKC,MAAMhM,IAAOgQ,aAAP,mBAFfhT,KAEsDwO,KAAKkR,GAA5C,cAFf1f,KAGNwO,KAAKkE,QAHC1S,KAGgB0S,W,qCAKhB1S,KACR0S,QAAU,GADF1S,KAEJwO,OAFIxO,KAESwO,KAAKkE,QAAU,IAFxB1S,KAGR+uB,gB,uCAGQiK,GAEfC,EADej5B,KACQ,oBADRA,KAGJ0S,QAAQ/L,OAHJ3G,KAIN0S,QAJM1S,KAIS0S,QAAQ/L,OAAS,GAAKqyB,EAJ/Bh5B,KAMN0S,QAAQzR,KAAK+3B,GAPC,MACRh5B,KAUmC41B,cAAcoD,GAAxD9D,EAXe,EAWfA,MAAOrX,EAXQ,EAWRA,KAAM3d,EAXE,EAWFA,OAAQuN,EAXN,EAWMA,IAAK6I,EAXX,EAWWA,KAWlC,GArBetW,KAWJuuB,cACTjsB,IAAM2N,OAZOjQ,KAYOuuB,aAAc,CAChC2G,QACArX,OACA3d,SACAuN,MACA6I,SAjBWtW,KAqBJE,OAAO8uB,UAAW,CAC3B,IAAMkK,EAtBOl5B,KAsBgBE,OAAOg5B,eAAiB,GACrDvmB,IAAQlR,QAvBKzB,KAwBJwO,KAAKkR,GACZ,CACEjS,IAAKurB,GAEPE,EA5BWl5B,KA4BYE,OAAOi5B,mBAAqBH,GA5BxCh5B,KAiCR+uB,cAjCQ/uB,KAmCRkD,KAAK,iBAnCGlD,KAmCsBuuB,aAnCtBvuB,Q,6BAuCf,IAAMG,EAASH,KACPC,EAAcE,EAAdF,IAAKuO,EAASrO,EAATqO,MAKRA,GAAQrO,EAAOD,OAAOk5B,cAA8B,QAAdn5B,EAAIkG,OACvCqI,GAAQrO,EAAOD,OAAOm5B,aAA6B,OAAdp5B,EAAIkG,OACzCqI,GAAQrO,EAAOD,OAAOo5B,iBAAiC,WAAdr5B,EAAIkG,QAEjD0iB,EAAU1oB,GAKVA,EAAO+oB,gBAAkB/oB,EAAOgpB,gBAClChpB,EAAOmH,IAAIJ,SAAS,gCAGtB,IAEIqyB,EA6CAhL,EA4CEiL,EA3FFC,EAAUt5B,EAAOD,OAAOuN,IACxBisB,EAAc/4B,IAASg5B,SAASC,KAAKp4B,MAAMb,IAASg5B,SAASE,QAAQ,GArBpE,EAuB8E15B,EAAOD,OAAlF8uB,EAvBH,EAuBGA,UAAW8K,EAvBd,EAuBcA,gBAAiBX,EAvB/B,EAuB+BA,mBAAoBY,EAvBnD,EAuBmDA,uBAClDb,EAAkB/4B,EAAOD,OAAzBg5B,cACFl2B,IAAOnB,SAAWmtB,IAAcmK,IAAuBD,GAAiBv4B,IAASg5B,SAASK,SAAStwB,QAAQ,gBAE7GuwB,QAAQC,KAAK,4FACbhB,EAAgBv4B,IAASg5B,SAASK,SAASx4B,MAAM,cAAc,IAE5DwtB,GAAc8K,GAWbZ,GAAiBQ,EAAYhwB,QAAQwvB,IAAkB,GAErC,MADpBQ,EAAcA,EAAYl4B,MAAM03B,GAAe,MACvBQ,EAAc,KAGtCD,EADEN,EAAmBxyB,OAAS,GAAK+yB,EAAYhwB,QAAQyvB,IAAuB,EACpEO,EAAYl4B,MAAM23B,GAAoB,GAEtCO,EAEZv5B,EAAOg6B,iBACHh6B,EAAOuS,QAAQhJ,QAAQ+vB,IAAY,EACrCt5B,EAAOuS,QAAUvS,EAAOuS,QAAQ+D,MAAM,EAAGtW,EAAOuS,QAAQhJ,QAAQ+vB,GAAW,GAClEt5B,EAAOD,OAAOuN,MAAQgsB,EAC/Bt5B,EAAOuS,QAAU,CAAC+mB,GACT9mB,IAAQynB,OAASznB,IAAQynB,MAAM5rB,EAAKkR,KAAO/M,IAAQynB,MAAM5rB,EAAKkR,IAAIjS,MAAQtN,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAC1H8yB,EAAUt5B,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAEjDxG,EAAOuS,QAAU,CAACgnB,EAAYl4B,MAAM23B,GAAoB,IAAM,IAAKM,GAEjEt5B,EAAOuS,QAAQ/L,OAAS,EAC1B4yB,GAAkB,EAElBp5B,EAAOuS,QAAU,GAEnBvS,EAAO4uB,gBAlCF0K,IACHA,EAAUC,GAER/4B,IAASg5B,SAASU,QAAUZ,EAAQ/vB,QAAQ,KAAO,IACrD+vB,GAAW94B,IAASg5B,SAASU,QAE3B15B,IAASg5B,SAAS9b,MAAQ4b,EAAQ/vB,QAAQ,KAAO,IACnD+vB,GAAW94B,IAASg5B,SAAS9b,OA8B7B1d,EAAOuS,QAAQ/L,OAAS,GAE1B4nB,EAAepuB,EAAOm6B,kBAAkBn6B,EAAOuS,QAAQ,OAErD6b,EAAejsB,IAAM2N,OAAO9P,EAAOy1B,cAAcz1B,EAAOuS,QAAQ,IAAK,CACnEpC,MAAO,CACL7C,IAAKtN,EAAOuS,QAAQ,GACpB4D,KAAMnW,EAAOuS,QAAQ,GAAGlR,MAAM,KAAK,QAMzC+sB,EAAepuB,EAAOm6B,kBAAkBb,MAEtClL,EAAejsB,IAAM2N,OAAO9P,EAAOy1B,cAAc6D,GAAU,CACzDnpB,MAAO,CACL7C,IAAKgsB,EACLnjB,KAAMmjB,EAAQj4B,MAAM,KAAK,OAM7BrB,EAAOD,OAAO+uB,YAChB9uB,EAAOmH,IAAI0M,SAAS,SAAS1I,MAAK,SAACsI,EAAO8jB,GACxC,IAAMG,EAAUrxB,YAAEkxB,GAClBv3B,EAAO+uB,aAAajuB,KAAK42B,EAAQ,IAC7B13B,EAAOgpB,gBAAkB0O,EAAQ7jB,SAAS,WAAWrN,OAAS,GAChExG,EAAO+wB,eAAejwB,KAAK42B,EAAQ7jB,SAAS,WAAWqX,KAAK,iBAAiB,OAKzB,IAAtDlrB,EAAOmH,IAAI0M,SAAS,uBAAuBrN,QAAgB8yB,EAE7Dt5B,EAAOkP,SAASoqB,EAAS,CACvBrkB,SAAS,EACTmlB,eAAe,EACfvL,WAAW,KAKb7uB,EAAOouB,aAAeA,EACtBpuB,EAAOmH,IAAI0M,SAAS,uBAAuB1I,MAAK,SAACsI,EAAO8jB,GACtD,IACI8C,EADE3C,EAAUrxB,YAAEkxB,GAElBG,EAAQ3wB,SAAS,gBACb/G,EAAOgpB,kBACTqR,EAAiB3C,EAAQ7jB,SAAS,WAAWA,SAAS,kBACnCrN,OAAS,GACrBxG,EAAOopB,UAAU9iB,QAAQ9F,KAAUgG,QACtCxG,EAAOmH,IAAImzB,QAAQt6B,EAAOopB,WAE5BiR,EAAetzB,SAAS,kBACxB/G,EAAOopB,UAAUzH,OAAO0Y,GACpBA,EAAexmB,SAAS,gBAAgBrN,QAC1C6zB,EAAetzB,SAAS,sBAE1B2wB,EAAQ7jB,SAAS,WAAWrM,WAE5BxH,EAAOopB,UAAUriB,SAAS,iBACtBszB,EAAexmB,SAAS,gBAAgBrN,QAC1CxG,EAAOopB,UAAUriB,SAAS,uCAI5B/G,EAAOouB,cAAgBpuB,EAAOouB,aAAaje,OAASnQ,EAAOouB,aAAaje,MAAMoqB,QAAUv6B,EAAOD,OAAO6qB,uBAAyB,IACjI8M,EAAQ3wB,SAAS,eACjB2wB,EAAQrtB,QAAQ,YAAa,CAAEmwB,KAAM,WACjCH,GAAkBA,EAAe7zB,QACnC6zB,EAAetzB,SAAS,kBAG5B,IAAM0zB,EAAc,CAClBtqB,MAAOnQ,EAAOouB,cAEZpuB,EAAOouB,cAAgBpuB,EAAOouB,aAAaje,OAASnQ,EAAOouB,aAAaje,MAAMZ,SAChFpN,IAAM2N,OAAO2qB,EAAaz6B,EAAOouB,aAAaje,MAAMZ,SAEtDvP,EAAOytB,cAAgBiK,EAAQ,GAC3B13B,EAAOgpB,gBAAkBqR,EAAe7zB,SAC1CxG,EAAO2tB,gBAAkB0M,EAAe,IAE1Cr6B,EAAO06B,oBAAoBhD,GACvB13B,EAAOgpB,gBAAkBqR,EAAe7zB,QAC1CxG,EAAO06B,oBAAoBL,GAEzBI,EAAYtqB,MAAMA,MAAMkkB,MAC1BgF,GAAc,EACdr5B,EAAO26B,QAAQF,EAAYtqB,MAAMA,MAAMkkB,IAAKlyB,IAAM2N,OAAO,GAAI2qB,KAE/Dz6B,EAAOuuB,aAAa,OAAQmJ,EAAS2C,EAAgB,eAAW5yB,EAAWgzB,MAEzErB,GACFp5B,EAAOkP,SAASoqB,EAAS,CACvBrkB,SAAS,EACT4Z,WAAW,EACXtc,SAAS,EACTqoB,QAAShB,EACTlkB,KAAM,CACJmlB,YADI,YAE0B76B,EAAOD,OAAOovB,qBAAuBnvB,EAAOD,OAAP,UAAiBD,EAAIkG,MAArB,gBACtChG,EAAOuS,QAAQ/L,OAAS,GACjDxG,EAAOiP,KAAK,CAAEmgB,SAAS,QAM5BgK,GAAoBC,IACvBr5B,EAAOuS,QAAQzR,KAAKw4B,GACpBt5B,EAAO4uB,kBAGP0K,GAAWzK,GAAa8K,IAAqBnnB,IAAQynB,OAAUznB,IAAQynB,MAAM5rB,EAAKkR,KACpF/M,IAAQsoB,cAAczsB,EAAKkR,GAAI,CAC7BjS,IAAKgsB,IAGTt5B,EAAO+C,KAAK,yBAA0B/C,K,gCAItC,IAAIA,EAASH,KAEbG,EAAO+C,KAAK,+BAAgC/C,GAG5C0N,OAAOC,KAAK3N,GAAQ4B,SAAQ,SAACm5B,GAC3B/6B,EAAO+6B,GAAc,YACd/6B,EAAO+6B,MAGhB/6B,EAAS,U,8BA9kCQg7B,KAmlCrB17B,EAAO8V,UAAU6lB,QCjlCjB,SAAiB/0B,GAAyB,IAoBpCg1B,EACAC,EAGAC,EAxBeC,EAAqB,uDAAJ,GAC9Br7B,EAASH,KACTsH,EAAMd,YAAEH,GACRpG,EAAME,EAAOF,IACbuO,EAAOrO,EAAOqO,KACdkB,EAAUpN,IAAM2N,QAAO,EAAO,CAClC8qB,QAAS56B,EAAOD,OAAO66B,QACvB/L,WAAW,EACXW,cAAc,EACdjd,SAAS,EACT6nB,cAAep6B,EAAOD,OAAOu7B,YAC7BC,gBAAgB,EAChBC,WAAW,EACXC,sBAAsB,EACtBC,aAAc17B,EAAOD,OAAO27B,aAC5Bt7B,GAAI,IACHi7B,GAEGM,EAAsB37B,EAAOD,OAAO6qB,uBAAyB,EAC7DgR,EAAWD,GAAuBpsB,EAAQY,OAASZ,EAAQY,MAAMA,QAAwC,IAA/BZ,EAAQY,MAAMA,MAAMoqB,OAIhGsB,EAAsB77B,EAAOouB,aAAa0N,MAW9C,GATKD,GACF,4DAA6Dx6B,MAAM,KAAKO,SAAQ,SAACm6B,GAC5E/7B,EAAOouB,cAAgBpuB,EAAOouB,aAAaje,OAASnQ,EAAOouB,aAAaje,MAAM4rB,KAChFF,GAAsB,EACtBT,EAAYW,MAKdF,EAAqB,CACvB,IAAMG,EAAeh8B,EAAOouB,aAAa0N,OACjB97B,EAAOouB,aAAaje,MAAM8rB,eAC1Bn8B,EAAIs7B,GAAW1oB,MACjCwpB,EAAcl8B,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GACvD0oB,EAAgBlvB,EAAOm6B,kBAAkB+B,IACxChN,GAAiBgN,IACpBhN,EAAgB,CACd5hB,IAAK4uB,EACL/lB,KAAM+lB,EAAY76B,MAAM,KAAK,GAC7B0zB,MAAO5yB,IAAM6yB,cAAckH,GAC3B/rB,MAAO,CACLgG,KAAM+lB,EAAY76B,MAAM,KAAK,GAC7BiM,IAAK4uB,KAKXl8B,EAAOm8B,YAAYH,GAGrB,IAMII,EAEAhT,EACAiT,EACAC,EAVEvT,EAAgB/oB,EAAO+oB,cACvBC,EAAiBhpB,EAAOgpB,eAExBuT,EAAUv8B,EAAOmH,IACjBq1B,EAAWr1B,EACXs1B,EAASltB,EAAQgsB,gBAAkBhsB,EAAQ6qB,eAAiB7qB,EAAQisB,UAQ1E,GADAx7B,EAAO2qB,iBAAkB,EACD,IAApB6R,EAASh2B,OAEX,OADAxG,EAAO2qB,iBAAkB,EAClB3qB,EAGLw8B,EAASh2B,QAEXxG,EAAO06B,oBAAoB8B,GAGzBzT,IACFsT,EAAkBG,EAAS3oB,SAAS,WAAWA,SAAS,iBACpDmV,IACFI,EAAYppB,EAAOopB,UACfiT,EAAgB71B,OAAS,GAC3Bg2B,EAAS3oB,SAAS,WAAWrM,SAEA,IAA3B60B,EAAgB71B,QAAgBg2B,EAAS,IAAMA,EAAS,GAAGnO,SAE7DgO,EAAkBG,EAAS,GAAGnO,OAAOjF,aAMvC7Z,EAAQY,OAASZ,EAAQY,MAAMA,OAASZ,EAAQY,MAAMA,MAAM6iB,YAAczjB,EAAQY,MAAMA,MAAMusB,gBAChGntB,EAAQY,MAAMA,MAAMusB,cAAgB,CAClCnF,OAAQpwB,EAAI,KAKhB,IAKIw1B,EAcAC,EACAlB,EApBEmB,EAAeN,EAClB1oB,SAAS,uBACTR,QAAO,SAACI,EAAOqpB,GAAR,OAAuBA,IAAeN,EAAS,MAWzD,GAPIxT,IACF2T,EAAiBvT,EACdvV,SAAS,+BACTR,QAAO,SAACI,EAAOspB,GAAR,OAAyBA,IAAiBV,EAAgB,OAIlE9sB,EAAQgsB,gBAAkBsB,EAAar2B,OAAS,EAElD,OADAxG,EAAO2qB,iBAAkB,EAClB3qB,EAMT,GAAI27B,IAAwBpsB,EAAQisB,UAAW,CAC7C,IAAK,IAAIj6B,EAAI,EAAGA,EAAIs7B,EAAar2B,OAAQjF,GAAK,EACvC25B,IACA2B,EAAat7B,GAAGO,UAAUk7B,SAAS,iBAEtC9B,EAAe2B,EAAat7B,IAMhC,IAFAq7B,GAAYhB,GAAYV,IAIlBA,EACF,IAAK,IAAI35B,EAAI,EAAGA,EAAIs7B,EAAar2B,OAAQjF,GAAK,EACxCs7B,EAAat7B,GAAGO,UAAUk7B,SAAS,wBAErC7B,EAAoB0B,EAAat7B,IAMzCm6B,EAAekB,GAAYrtB,EAAQmsB,cAAgB57B,EAAIwC,OAAStC,EAAOD,OAAO6qB,wBAA0BsQ,EAI1G,IAAI+B,EAAkB,OA4BtB,GA3BI1tB,EAAQ6qB,eAAiB7qB,EAAQisB,WAAaE,EAChDuB,EAAkB,UACT1tB,EAAQgsB,iBACjB0B,EAAkB,YAEpBT,EACGv1B,YAAY,wCACZF,SAFH,eAEoBk2B,GAFpB,OAEsCrB,EAAW,eAAiB,IAFlE,OAEuEgB,EAAW,sBAAwB,KACvG31B,YAAY,WACZoD,QAAQ,gBACRA,QAAQ,gBAAiB,CAAEytB,SAAUmF,IACxCj9B,EAAO+C,KAAK,cAAey5B,EAAS,IACpCx8B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAIS,IAErCrB,GAAYgB,IACdJ,EAASnyB,QAAQ,YAAa,CAAEmwB,KAAMoB,EAAW,SAAW,WAI1D7S,GAAiBsT,EAAgB71B,QACnC61B,EACGp1B,YAAY,8CACZF,SAFH,iBAEsBk2B,GAFtB,OAEwCrB,EAAW,iBAAmB,IAFtE,OAE2EgB,EAAW,wBAA0B,KAC7G31B,YAAY,WAIbsI,EAAQ6qB,eAAiBsB,EAC3BU,EAAWS,EAAal2B,GAAGk2B,EAAar2B,OAAS,GAC7CwiB,IAEFsT,EAAkBj2B,YAAEvG,EAAIo9B,OAAOC,YAAYf,UAExC,GAAI7sB,EAAQgsB,eACjBa,EAAWS,EAAal2B,GAAGk2B,EAAar2B,OAAS,GAC7CwiB,IAEFsT,EAAkBj2B,YAAEvG,EAAIo9B,OAAOC,YAAYf,UAExC,GAAI7sB,EAAQisB,UACjBY,EAAWS,EAAaxpB,QAAO,SAACI,EAAO8jB,GAAR,OAAmBA,IAAWiF,EAAS,MAClExT,IACFsT,EAAkBK,EAAetpB,QAAO,SAACI,EAAOkd,GAAR,OAAqBA,IAAa0L,EAAgB,WAEvF,CACL,GAAIQ,EAAar2B,OAAS,EAAG,CAC3B,IAAIjF,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAIs7B,EAAar2B,OAAS,EAAGjF,GAAK,EAC5C,GAAI25B,GACC2B,EAAat7B,KAAO25B,EAEvB2B,EAAal2B,GAAGpF,GAAGwF,SAAS,uBAC5B81B,EAAal2B,GAAGpF,GAAG8I,QAAQ,oBAC3BrK,EAAO+C,KAAK,kBAAmB85B,EAAat7B,IACxCynB,GACF3iB,YAAEvG,EAAIo9B,OAAOC,YAAYjC,IAAen0B,SAAS,6BAPrD,CAWA,IAAMq2B,EAAmBt9B,EAAIo9B,OAAOC,YAAYN,EAAal2B,GAAGpF,IAC5DvB,EAAOD,OAAO+uB,YAChB+N,EAAal2B,GAAGpF,GAAGwF,SAAS,WAC5B81B,EAAal2B,GAAGpF,GAAG8I,QAAQ,cAC3BrK,EAAO+C,KAAK,YAAa85B,EAAat7B,IAClCynB,GACF3iB,YAAE+2B,GAAkBr2B,SAAS,aAI/B/G,EAAOuuB,aAAa,eAAgBsO,EAAat7B,GAAIo7B,GAAkBA,EAAep7B,GAAI,gBAAYkG,EAAW8H,GACjHvP,EAAOgvB,WAAW6N,EAAat7B,IAC3BynB,GAAkBoU,GACpBp9B,EAAOivB,aAAamO,KAK5BhB,EAAWG,EACR1oB,SAAS,uBACTR,QAAO,SAACI,EAAOokB,GAAR,OAAiBA,IAAS2E,EAAS,MACzCxT,IACFsT,EAAkBlT,EACfvV,SAAS,+BACTR,QAAO,SAACI,EAAO+d,GAAR,OAAwBA,IAAgB6K,EAAgB,OAiBtE,GAbItT,IAAkBC,IACpBsT,EAAkBF,EAASvoB,SAAS,WAAWA,SAAS,kBAEtD+oB,IAAartB,EAAQisB,aACnBY,EAAS51B,OAAS,GAAKk1B,KACzBU,EAAWA,EAAS/oB,QAAO,SAACgqB,EAAW9F,GAAZ,OAAwBA,EAAOz1B,UAAUk7B,SAAS,mBAE3EV,IAAoBA,EAAgB91B,OAAS,GAAKk1B,KACpDY,EAAkBA,EAAgBjpB,QAAO,SAACiqB,EAAa3M,GAAd,OAA4BA,EAAS7uB,UAAUk7B,SAAS,sBAKjGh9B,EAAOD,OAAO8uB,YAActf,EAAQsf,WAAatf,EAAQigB,gBAAkBjgB,EAAQgsB,eAAgB,CACrG,IAAMxC,EAAgB/4B,EAAOD,OAAOg5B,eAAiB,GACrDvmB,IAAQjD,EAAQ6qB,eAAkBsB,GAAgBP,GAAsB5rB,EAAQisB,WAAajsB,EAAQigB,aAAe,UAAY,QAC9HnhB,EAAKkR,GACL,CACEjS,IAAKiC,EAAQY,MAAM7C,KAErByrB,EAAgB/4B,EAAOD,OAAOi5B,mBAAqBzpB,EAAQY,MAAM7C,KAIhEiC,EAAQgsB,iBAEXv7B,EAAOytB,cAAgB+O,EAAS,GAC5BzT,GAAiBsT,EAAgB71B,OACnCxG,EAAO2tB,gBAAkB0O,EAAgB,UAElCr8B,EAAO2tB,gBAIhB3tB,EAAOouB,aAAe7e,EAAQY,OAIhC,IAAM7C,EAAMiC,EAAQY,MAAM7C,IAEtBiC,EAAQgD,YACJhD,EAAQ6qB,eAAkBsB,GAAgBP,IAAuBn7B,EAAOuS,QAAQ/L,QAAU,GAAK+I,EAAQigB,aAC3GxvB,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,QAAU+I,EAAQgsB,eAAiB,EAAI,IAAMjuB,EAClEiC,EAAQgsB,eACjBv7B,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAK8G,EACnCiC,EAAQisB,UACjBx7B,EAAOuS,QAAU,CAACjF,GAElBtN,EAAOuS,QAAQzR,KAAKwM,IAGxBtN,EAAO4uB,cAGP,IAAM2O,EAAef,EAASl2B,QAAQ9F,KAAUgG,OAAS,EACnD4a,EAAcob,EAAS,GAAGpb,YAyHhC,GAxHI7R,EAAQgsB,gBACNna,IAAgBmc,EAClBnc,EAAYoc,QAAO,SAACC,GAClBp3B,YAAEo3B,GAAapkB,aAAa+iB,MAG9BI,EAASnjB,aAAa+iB,GAEpBpT,GAAkBqT,EAAgB71B,SAChC61B,EAAgBxoB,SAAS,gBAAgBrN,QAC3C61B,EAAgBt1B,SAAS,sBAEvBu1B,EAAgB91B,OAClB61B,EAAgBhjB,aAAaijB,IAExBt8B,EAAOopB,UAAU9iB,QAAQ9F,KAAUgG,QACtCxG,EAAOmH,IAAImzB,QAAQt6B,EAAOopB,WAE5BA,EAAUzH,OAAO0a,OAIjBD,EAASnM,KAAK,SAAS,KAAOuM,EAAS,KACrCpb,IAAgBmc,EAClBnc,EAAYoc,QAAO,SAACC,GAClBlB,EAAQ5a,OAAO8b,MAGjBlB,EAAQ5a,OAAO6a,EAAS,KAGxBxT,GAAkBqT,EAAgB71B,SAChC61B,EAAgBxoB,SAAS,gBAAgBrN,QAC3C61B,EAAgBt1B,SAAS,sBAEtB/G,EAAOopB,UAAU9iB,QAAQ9F,KAAUgG,QACtCxG,EAAOmH,IAAImzB,QAAQt6B,EAAOopB,WAE5BA,EAAUzH,OAAO0a,EAAgB,MAGhCkB,EAEMhuB,EAAQY,OAASZ,EAAQY,MAAMA,OAASZ,EAAQY,MAAMA,MAAM6iB,YAAcwJ,EAAS,GAAGkB,gBAC/FlB,EAAS,GAAGkB,eAAgB,EAC5B19B,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiBY,EAAiBR,EAASQ,EAAkB,UAAW1tB,EAAS6sB,IAH1Hp8B,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiBY,EAAiBR,EAASQ,EAAkB,UAAW1tB,EAAS6sB,IAOvH7sB,EAAQ6qB,eAAiBsB,IAAiBU,EAAS51B,OAAS,EAC3DxG,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQ6yB,EAAS,KAAO,GAC1EA,EAASr1B,SAAS,WAClBq1B,EAAS/xB,QAAQ,cACjBrK,EAAO+C,KAAK,YAAaq5B,EAAS,IAC9BpT,GACFsT,EAAgBv1B,SAAS,aAI3B/G,EAAOuuB,aAAa,YAAa6N,EAAUE,EAAiB,eAAW70B,EAAW8H,GAClFvP,EAAOuuB,aAAa,WAAY6N,EAAUE,EAAiB,eAAW70B,EAAW8H,GACjFvP,EAAOuuB,aAAa,eAAgB6N,EAAUE,EAAiB,eAAW70B,EAAW8H,GACrFvP,EAAOgvB,WAAWoN,GACdpT,GAAkBsT,GAAmBA,EAAgB91B,QACvDxG,EAAOivB,aAAaqN,IAGf/sB,EAAQisB,UACjBY,EAASjxB,MAAK,SAACsI,EAAO8jB,GACpB,IAAMoG,EAAat3B,YAAEkxB,GACfqG,EAAoBv3B,YAAEvG,EAAIo9B,OAAOC,YAAYQ,IAC/C39B,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQo0B,EAAW,KAAO,GAC5EA,EAAW52B,SAAS,WACpB42B,EAAWtzB,QAAQ,cACnBrK,EAAO+C,KAAK,YAAa46B,EAAW,IAChC3U,GACF4U,EAAkB72B,SAAS,aAIzB42B,EAAW/2B,SAAS,kBACtB5G,EAAOuuB,aAAa,YAAa6N,EAAUE,EAAiB,eAAW70B,EAAW8H,GAClFvP,EAAOuuB,aAAa,WAAY6N,EAAUE,EAAiB,eAAW70B,EAAW8H,IAEnFvP,EAAOuuB,aAAa,eAAgBoP,EAAYrB,GAAmBA,EAAgB31B,GAAG8M,GAAQ,gBAAYhM,EAAW8H,GACrHvP,EAAOgvB,WAAW2O,GACd3U,GAAkB4U,EAAkBp3B,QACtCxG,EAAOivB,aAAa2O,OAIjBruB,EAAQgsB,iBACbv7B,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQ6yB,EAAS,KAAO,GAC1EA,EAASr1B,SAAS,WAClBq1B,EAAS/xB,QAAQ,cACjBrK,EAAO+C,KAAK,YAAaq5B,EAAS,IAC9BpT,GACFsT,EAAgBv1B,SAAS,aAI3B/G,EAAOuuB,aAAa,eAAgB6N,EAAUE,EAAiB,gBAAY70B,EAAW8H,GACtFvP,EAAOgvB,WAAWoN,GACdpT,GAAkBsT,GAAmBA,EAAgB91B,QACvDxG,EAAOivB,aAAaqN,KAMtB/sB,EAAQY,MAAMA,MAAMkkB,KACtBr0B,EAAO26B,QAAQprB,EAAQY,MAAMA,MAAMkkB,IAAKlyB,IAAM2N,OAAO,GAAIP,EAAS,CAChEgD,SAAS,EACTsc,WAAW,KAKf7uB,EAAOuuB,aAAa,OAAQiO,EAAUH,EAAiBY,EAAiBR,EAASQ,EAAkB,UAAW1tB,EAAS6sB,GAEnH7sB,EAAQ6qB,eAAiB7qB,EAAQisB,WAAaE,EAoBhD,OAnBA17B,EAAO2qB,iBAAkB,EACzB3qB,EAAOuuB,aAAa,WAAYiO,EAAUH,EAAiBY,EAAiB,UAAW1tB,GACvFitB,EAASrO,WAAW,eAChBpF,GAAiBsT,GACnBA,EAAgBlO,WAAW,eAE7BnuB,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiBY,EAAiB,UAAW1tB,GAClFA,EAAQ6qB,eAAiB7qB,EAAQksB,sBAAsBz7B,EAAOy7B,uBAC9DC,IACFR,EAAap5B,UAAUC,IAAI,iBAC3Bm5B,EAAap5B,UAAU0F,OAAO,gBAC9BnB,YAAE60B,GAAc7wB,QAAQ,gBAAiB,CAAEytB,SAAU,aACrD93B,EAAO+C,KAAK,eAAgBm4B,EAAc,YAEtCA,EAAa7M,QAAU6M,EAAa7M,OAAOsC,WAC7CuK,EAAa7M,OAAOsC,SAAS7uB,UAAUC,IAAI,mBAC3Cm5B,EAAa7M,OAAOsC,SAAS7uB,UAAU0F,OAAO,oBAG3CxH,EAET,GAAIuP,EAAQgsB,eAEV,OADAv7B,EAAO2qB,iBAAkB,EAClB3qB,EAQT,SAAS69B,IACP,IAAMC,EAAc,uCACdC,EAAgB,6CACtBvB,EAASv1B,YAAY62B,GAAa/2B,SAAS,gBAAgBonB,WAAW,eAAe9jB,QAAQ,gBAAiB,CAAEytB,SAAU,YAC1H93B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAI,WACzCJ,EAASn1B,YAAY62B,GAAa/2B,SAAS,iBAAiBsD,QAAQ,gBAAiB,CAAEytB,SAAU,aACjG93B,EAAO+C,KAAK,eAAgBq5B,EAAS,GAAI,YAEpCA,EAASx1B,SAAS,gBACrBw1B,EAAS7uB,KAAK,cAAe,QAE3Bwb,IACFsT,EAAgBp1B,YAAY82B,GAAeh3B,SAAS,kBAAkBonB,WAAW,eACjFmO,EAAgBr1B,YAAY82B,GAAeh3B,SAAS,mBAC/Cu1B,EAAgB11B,SAAS,kBAC5B01B,EAAgB/uB,KAAK,cAAe,SAIxCvN,EAAO2qB,iBAAkB,EACzB3qB,EAAOuuB,aAAa,WAAY6N,EAAUE,EAAiB,UAAW,WAAY/sB,GAClFvP,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiB,OAAQ,UAAW9sB,GAE7E,IAAIyuB,GAAeh+B,EAAOD,OAAOovB,qBAAuBnvB,EAAOD,OAAP,UAAiBD,EAAIkG,MAArB,iBAA4C41B,EAC/FoC,IACCxB,EAAS51B,SAAS,sBAAwB41B,EAAS51B,SAAS,uBAAyB41B,EAAS51B,SAAS,sBAAwB41B,EAAS51B,SAAS,wBACnJo3B,GAAc,GAGbA,IACCh+B,EAAOD,OAAO+uB,YAChBsN,EAASr1B,SAAS,WAClBq1B,EAAS/xB,QAAQ,cACjBrK,EAAO+C,KAAK,YAAaq5B,EAAS,IAC9BpT,GACFsT,EAAgBv1B,SAAS,YAEhBy1B,EAASjvB,KAAK,cAA+C,sBAA/BivB,EAASjvB,KAAK,eAEvDvN,EAAOuuB,aAAa,eAAgB6N,EAAUE,EAAiB,gBAAY70B,EAAW8H,GACtFvP,EAAOgvB,WAAWoN,GACdpT,GAAkBsT,EAAgB91B,QACpCxG,EAAOivB,aAAaqN,KAItB/sB,EAAQksB,sBAAsBz7B,EAAOy7B,uBACzCz7B,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,GAEnEA,EAAOD,OAAO8uB,WAChBrc,IAAQyrB,mBAGZ,SAASC,IACP,IAAMJ,EAAc,uCACdC,EAAgB,6CACtB3B,EAASn1B,YAAY62B,GAAa/2B,SAAS,gBAAgBonB,WAAW,eAAe9jB,QAAQ,gBAAiB,CAAEytB,SAAU,YAC1H93B,EAAO+C,KAAK,eAAgBq5B,EAAS,GAAI,WACzCI,EAASv1B,YAAY62B,GAAa/2B,SAAS,aAAaonB,WAAW,eAAe9jB,QAAQ,gBAAiB,CAAEytB,SAAU,SACvH93B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAI,QACrCzT,IACFuT,EAAgBr1B,YAAY82B,GAAeh3B,SAAS,kBAAkBonB,WAAW,eACjFkO,EAAgBp1B,YAAY82B,GAAeh3B,SAAS,eAAeonB,WAAW,gBAGlF,GArEAnuB,EAAOuuB,aAAa,YAAa6N,EAAUE,EAAiB,UAAW,WAAY/sB,GACnFvP,EAAOuuB,aAAa,WAAYiO,EAAUH,EAAiB,OAAQ,UAAW9sB,IAoE1EA,EAAQqrB,SAAagB,GAAY97B,EAAIwC,OAAStC,EAAOD,OAAO6qB,uBAgB9DiT,QAhBuF,CACvF,IAAMM,EAAQn+B,EAAOD,OAAP,UAAiBC,EAAOF,IAAIkG,MAA5B,kBACVm4B,EACF/6B,YAAW,WACT86B,IACAl+B,EAAO46B,QAAQwB,EAAUI,EAAUF,EAAiBD,EAAiB,WAAW,WAC9EwB,SAEDM,IAEHD,IACAl+B,EAAO46B,QAAQwB,EAAUI,EAAUF,EAAiBD,EAAiB,WAAW,WAC9EwB,QAMN,OAAO79B,GDmkBTV,EAAO8V,UAAUgpB,KCjkBjB,WAAmE,IAArDC,EAAqD,uDAAxC,GAAIC,EAAoC,uDAAtB,GAAIC,EAAkB,uCAC3Dv+B,EAASH,KACf,IAAKG,EAAO2qB,kBAAoB4T,EAAkB,OAAOv+B,EACzD,IAAMD,EAASs+B,EACT9uB,EAAU+uB,EACRhxB,EAA+EvN,EAA/EuN,IAAKzM,EAA0Ed,EAA1Ec,QAASqF,EAAiEnG,EAAjEmG,GAAIs4B,EAA6Dz+B,EAA7Dy+B,SAAUnvB,EAAmDtP,EAAnDsP,SAAUC,EAAyCvP,EAAzCuP,YAAa+B,EAA4BtR,EAA5BsR,UAAWC,EAAiBvR,EAAjBuR,aAEtE,IAAK/B,EAAQ6qB,eACR7qB,EAAQY,OACRZ,EAAQY,MAAMA,OACdZ,EAAQY,MAAMA,MAAMikB,YACpBp0B,EAAOouB,aAAaje,OACpBnQ,EAAOouB,aAAaje,MAAMikB,aAAe7kB,EAAQY,MAAMA,MAAMikB,WAAY,CAE5E,GAAI7kB,EAAQY,MAAM7C,MAAQtN,EAAOsN,IAE/B,OADAtN,EAAO2qB,iBAAkB,GAClB,EAGT,IAAI8T,EAAa/wB,OAAOC,KAAK4B,EAAQY,MAAMpQ,QAAQyG,SAAWkH,OAAOC,KAAK3N,EAAOouB,aAAaruB,QAAQyG,OAYtG,GAXIi4B,GAEF/wB,OAAOC,KAAK4B,EAAQY,MAAMpQ,QAAQ6B,SAAQ,SAACu0B,GAErCA,KAAan2B,EAAOouB,aAAaruB,QAC/BC,EAAOouB,aAAaruB,OAAOo2B,KAAe5mB,EAAQY,MAAMpQ,OAAOo2B,KAEnEsI,GAAa,MAIfA,EACF,QAAIlvB,EAAQY,MAAMA,MAAMkkB,KACfr0B,EAAO26B,QAAQprB,EAAQY,MAAMA,MAAMkkB,IAAK9kB,GAInD,IAAKkvB,GACAlvB,EAAQY,MAAMA,MAAMkkB,KACpBr0B,EAAOouB,aAAaje,MAAMkkB,KAC1Br0B,EAAOouB,aAAagG,aAAe7kB,EAAQY,MAAMikB,WAEpD,OAAOp0B,EAAO26B,QAAQprB,EAAQY,MAAMA,MAAMkkB,IAAK9kB,GAInD,GACEA,EAAQY,OACLZ,EAAQY,MAAM7C,KACdtN,EAAOsN,MAAQiC,EAAQY,MAAM7C,MAC3BiC,EAAQ6qB,gBAAiB7qB,EAAQgsB,iBAClCv7B,EAAOD,OAAO2+B,mBAGlB,OADA1+B,EAAO2qB,iBAAkB,GAClB,EAST,SAASnb,EAAQ+nB,EAAQrmB,GACvB,OAAOlR,EAAOi7B,QAAQ1D,EAAQp1B,IAAM2N,OAAOP,EAAS2B,IAEtD,SAASzB,IAEP,OADAzP,EAAO2qB,iBAAkB,EAClB3qB,EAQT,IAnBKuP,EAAQY,OAAS7C,IACpBiC,EAAQY,MAAQnQ,EAAOy1B,cAAcnoB,GACrCnL,IAAM2N,OAAOP,EAAQY,MAAO,CAAEA,MAAO,CAAE7C,MAAK6I,KAAM7I,OAYhDA,GAAOgC,GAAegC,KACxBtR,EAAO2qB,iBAAkB,GAIvB9pB,EACFb,EAAOi7B,QAAQj7B,EAAOmR,UAAUtQ,GAAU0O,QACrC,GAAIF,GAAYC,EAErB,IACEtP,EAAOiR,mBAAmB5B,EAAUC,EAAaC,EAASC,EAASC,GACnE,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAEH,GAAI5I,EAETlG,EAAOi7B,QAAQj7B,EAAOmR,UAAUjL,GAAKqJ,QAChC,GAAIivB,EAETx+B,EAAOi7B,QAAQj7B,EAAOmH,IAAI0M,SAAX,2BAAwC2qB,EAAxC,OAAsD73B,GAAG,GAAI4I,QACvE,GAAI8B,GAAaC,EAEtB,IACEtR,EAAOqS,oBAAoBrS,EAAOkG,GAAImL,EAAWC,EAAc/B,EAASC,EAASC,GACjF,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAECxB,IAELtN,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EAAO2Q,WAAWrD,EAAKiC,GACpBqB,MAAK,SAAC9I,GACL9H,EAAOi7B,QAAQj7B,EAAOmR,UAAUrJ,GAAcyH,MAE/CuB,OAAM,WACL9Q,EAAO2qB,iBAAkB,MAG/B,OAAO3qB,GDgdTV,EAAO8V,UAAUlG,SC9cjB,SAAkByvB,GAAsC,IAGlDrxB,EACAsxB,EACAx/B,EACA21B,EACAh1B,EACAoQ,EAR4B0uB,EAAsB,uDAAJ,GAC5C7+B,EAASH,KACf,GAAIG,EAAO+tB,gBAAiB,OAAO/tB,EAgBnC,GAT8B,iBAAnB2+B,EACTrxB,EAAMqxB,GAENrxB,EAAMqxB,EAAerxB,IACrBsxB,EAAcD,EAAexuB,MAC7B/Q,EAAOu/B,EAAev/B,KACtB21B,EAAQ4J,EAAe5J,MACvBh1B,EAAS4+B,EAAe5+B,QAEtBX,EAAM,CAGR,KADA+Q,EAAQnQ,EAAO8+B,eAAe,OAAQ1/B,IAEpC,MAAM,IAAIiX,MAAJ,uCAA0CjX,EAA1C,gBAGR,GADAkO,EAAMtN,EAAO++B,kBAAkB5uB,EAAO,CAAEpQ,SAAQg1B,UAE9C,OAAO/0B,EAAOkP,SAAS5B,EAAKuxB,GAE9B,MAAM,IAAIxoB,MAAJ,gEAAkEjX,EAAlE,MAER,IAAMU,EAAME,EAAOF,IAEnB,GADAg5B,EAAe94B,EAAQ,YACX,MAARsN,GAAuB,KAARA,EACjB,OAAOtN,EAGT,IAAIg/B,EAAc1xB,EAAIhM,QAAQ,KAAM,IACpC,GAAuB,MAAnB09B,EAAY,IAA2C,IAA7BA,EAAYz1B,QAAQ,KAAY,CAC5D,IAAM01B,EAAcj/B,EAAOouB,aAAagG,YAAcp0B,EAAOouB,aAAajY,KAC1E6oB,IAAgBC,EAAc,GAAH,OAAMA,EAAN,KAAuB,KAAOD,GACtD19B,QAAQ,MAAO,KACfA,QAAQ,KAAM,KAUnB,KAPE6O,EADEyuB,EACMz8B,IAAM2N,OAAO9P,EAAOy1B,cAAcuJ,GAAc,CACtD7uB,MAAOhO,IAAM2N,OAAO,GAAI8uB,KAGlB5+B,EAAOm6B,kBAAkB6E,IAIjC,OAAOh/B,EAGT,GAAImQ,EAAMA,MAAMof,SACd,OAAOA,EAASrhB,KAAKlO,EAAQ,WAAYmQ,EAAO0uB,GAIlD,IAAMtvB,EAAU,GAahB,SAASC,IACP,IAAI0vB,GAAe,EAClB,4DAA6D79B,MAAM,KAAKO,SAAQ,SAACm6B,GAC5E5rB,EAAMA,MAAM4rB,KAAmBmD,IACjCA,GAAe,EACfl/B,EAAOm/B,UAAUpD,EAAe5rB,EAAOZ,OAGvCY,EAAMA,MAAM6iB,WAAa7iB,EAAMA,MAAMusB,gBACvC18B,EAAOo+B,KAAK,CAAEl4B,GAAIiK,EAAMA,MAAMusB,cAAcnF,QAAUhoB,GAAS,GAC/D2vB,GAAe,GAEhB,sEAAuE79B,MAAM,KAAKO,SAAQ,SAACw9B,GACtFjvB,EAAMA,MAAMivB,KAAkBF,IAChCA,GAAe,EACfl/B,EAAOo+B,KAAP,KAAegB,EAAejvB,EAAMA,MAAMivB,IAAiB7vB,GAAS,OAGpE2vB,GAwBA/uB,EAAMA,MAAMkvB,QACdr/B,EAAO2qB,iBAAkB,EAEzBxa,EAAMA,MAAMkvB,MAAMnxB,KAAKlO,EAAQuP,EAAQY,MAAOnQ,EAAOouB,cAzBvD,SAAsBkR,EAAeC,GACnCv/B,EAAO2qB,iBAAkB,EACzB,IAAI6U,GAAkB,EAClBD,GAAkBA,EAAe5wB,UAC9BwB,EAAMxB,QACNwB,EAAMxB,QAAUxM,IAAM2N,OAAO,GAAIK,EAAMxB,QAAS4wB,EAAe5wB,SADhDwB,EAAMxB,QAAU4wB,EAAe5wB,QAEnDY,EAAQY,MAAMxB,QAAUwB,EAAMxB,SAE/B,4DAA6DtN,MAAM,KAAKO,SAAQ,SAACm6B,GAChF,GAAIuD,EAAcvD,GAAgB,CAChCyD,GAAkB,EAClB,IAAMC,EAAat9B,IAAM2N,OAAO,GAAIK,EAAO,CAAEA,MAAOmvB,IACpDt/B,EAAO2qB,iBAAkB,EACzB3qB,EAAOm/B,UAAUpD,EAAe0D,EAAYt9B,IAAM2N,OAAOP,EAASgwB,QAGlEC,GACJx/B,EAAOo+B,KAAKkB,EAAen9B,IAAM2N,OAAOP,EAASgwB,IAAiB,MAEpE,WACEv/B,EAAO2qB,iBAAkB,MAQ7B,SAASlb,IACPzP,EAAO2qB,iBAAkB,EAG3B,GAhEIxa,EAAMA,MAAMZ,QACdpN,IAAM2N,OAAOP,EAASY,EAAMA,MAAMZ,QAASsvB,GAE3C18B,IAAM2N,OAAOP,EAASsvB,GAExBtvB,EAAQY,MAAQA,EAEZZ,GAAWA,EAAQZ,UACrBwB,EAAMxB,QAAUY,EAAQZ,QACxBY,EAAQY,MAAMxB,QAAUY,EAAQZ,SAuD9B3O,EAAOD,OAAO6qB,uBAAyB,GAAKza,EAAMA,MAAMwkB,YAAa,CAEvE,IAAI+K,GAAgB,EAChBC,GAAe,EAqBnB,GApBI3/B,EAAOouB,cAAgBpuB,EAAOouB,aAAaje,SAE3CnQ,EAAOouB,aAAaje,MAAMoqB,QAExBv6B,EAAOouB,aAAaje,QAAUA,EAAMA,MAAMwkB,aACvC30B,EAAOouB,aAAaje,MAAMgG,OAAShG,EAAMA,MAAMwkB,YAAYxe,OAGhEupB,GAAgB,IAGhB1/B,EAAOouB,aAAaje,MAAMwkB,aACtB30B,EAAOouB,aAAaje,MAAMwkB,cAAgBxkB,EAAMA,MAAMwkB,aACrD30B,EAAOouB,aAAaje,MAAMwkB,YAAYxe,OAAShG,EAAMA,MAAMwkB,YAAYxe,OAG5EupB,GAAgB,EAChBC,GAAe,IAGfD,GAAkBC,GAAgBd,EAAgBrD,UAqBpD,OApBAx7B,EAAOkP,SAASiB,EAAMA,MAAMwkB,YAAYxe,KAAM,CAC5CykB,SAAS,EACTY,UAAWqD,EAAgBrD,UAC3BpB,cAAeyE,EAAgBzE,cAC/BmB,eAAgBsD,EAAgBtD,eAChC1M,WAAYgQ,EAAgB5pB,QAC5B1C,SAAUssB,EAAgB5pB,QAC1BS,KAAM,CACJmlB,YADI,WAEF76B,EAAOkP,SAASyvB,EAAgBx8B,IAAM2N,OAAO,GAAI+uB,EAAiB,CAChEjE,SAAS,EACTY,WAAW,EACXpB,eAAe,EACfmB,gBAAgB,EAChBhpB,SAAUssB,EAAgB5pB,QAC1B4Z,WAAYgQ,EAAgB5pB,eAK7BjV,EA4BX,OAxBA4/B,EAAkB1xB,KAChBlO,EACAmQ,EACAnQ,EAAOouB,cACP,WACMje,EAAMA,MAAMvC,QACd9N,EACG+/B,YAAY5rB,MAAMC,QAAQ/D,EAAMA,MAAMvC,SAAWuC,EAAMA,MAAMvC,QAAU,CAACuC,EAAMA,MAAMvC,UACpFgD,MAAK,WACJpB,OAEDsB,OAAM,WACLrB,OAGJD,OAGJ,WACEC,OAKGzP,GDyQTV,EAAO8V,UAAU0qB,YC7lCjB,WAGE,OADAhH,EADej5B,KACQ,eADRA,KAEDqP,SAFCrP,KAEeuuB,aAAa9gB,IAAK,CAC9CkpB,aAAa,EACb4D,eAAe,KD0lCnB96B,EAAO8V,UAAUulB,QEnmCjB,SAAiBzG,GAA4B,IAWvC9F,EACAc,EAZqBoP,EAAkB,uDAAJ,GACjCt+B,EAASH,KACT0P,EAAUpN,IAAM2N,OAAO,CAC3B8qB,QAAS56B,EAAOD,OAAO66B,QACvB/L,WAAW,EACXtc,SAAS,EACTwtB,aAAc,KACd3Q,SAAS,EACThvB,GAAI,IACHk+B,GAIC/uB,EAAQY,QAELZ,EAAQ6f,SAAW7f,EAAQY,QAAUnQ,EAAOouB,eAC/Cc,EAAgBlvB,EAAOkvB,cACvBlvB,EAAOouB,aAAe7e,EAAQY,OAE5BZ,EAAQ6f,SACVhB,EAAe7e,EAAQY,MACvB+e,EAAgBlvB,EAAOouB,eAEvBA,EAAepuB,EAAOouB,aACjBc,IAAeA,EAAgBlvB,EAAOkvB,gBAIzClvB,EAAOD,OAAO8uB,WAAatf,EAAQsf,YAActf,EAAQgsB,gBAC3D/oB,IAAQlR,QACNtB,EAAOqO,KAAKkR,GACZ,CACEjS,IAAKiC,EAAQY,MAAM7C,MAEpBtN,EAAOD,OAAOg5B,eAAiB,IAAM/4B,EAAOD,OAAOi5B,mBAAqBzpB,EAAQY,MAAM7C,KAKvFiC,EAAQgD,UACVvS,EAAOuS,QAAQxR,KAAKwsB,IAAIvtB,EAAOuS,QAAQ/L,OAAS,EAAG,IAAM+I,EAAQY,MAAM7C,IACvEtN,EAAO4uB,gBAKX,IACIxc,EADE4tB,EAAgB35B,YAAEkJ,EAAQwwB,cAAgB//B,EAAOytB,eAGrDrb,EADE4tB,EAAcx5B,QAAUw5B,EAAc9U,KAAd,WAAuBgJ,EAAS3U,KAAM/Y,OACxDw5B,EAAc9U,KAAd,WAAuBgJ,EAAS3U,KAAM5Y,GAAG,GACxC3G,EAAOqO,KAAKslB,SACb,GAAH,OAAM3zB,EAAOqO,KAAKslB,SAAlB,aAA+BO,EAAS3U,IAErC,IAAH,OAAO2U,EAAS3U,IAEvB,IAsHI0gB,EAtHEC,EAAgBlgC,EAAOF,IAAIu0B,IAAI8L,KAAK,CACxC/tB,QACAwoB,QAASrrB,EAAQqrB,QACjB1G,SAAU3kB,EAAQY,QAGZiwB,EAAkDF,EAAlDE,UAAWC,EAAuCH,EAAvCG,UAAWC,EAA4BJ,EAA5BI,SAAUC,EAAkBL,EAAlBK,cAExC,GAAIH,GAAaA,EAAU95B,QAAQ,SAASE,OAAS,GAAK+I,EAAQY,MAAO,CACvE,IAAMqwB,EAAoBJ,EAAU95B,QAAQ,SAAS,GAAG+nB,OACpDmS,GAAqBjxB,EAAQY,QAC/BqwB,EAAkBrwB,MAAQZ,EAAQY,OAKtC,SAASswB,EAAYC,GAEnB1gC,EAAO06B,oBAAoB0F,GAE3B,IAAIO,EAAiBP,EACI,iBAAdM,IAAwBC,EAAiBt6B,YAAEq6B,IAEtDC,EAAet2B,QAAQ,uBAAwB6pB,GAC/Cl0B,EAAO+C,KAAK,qBAAsBq9B,EAAU,GAAIlM,GAE5CmM,GAAaA,EAAU75B,SACrB85B,EACFC,GAAc,WACZvgC,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,GACnEA,EAAOD,OAAO6gC,kBAChB5gC,EAAO6gC,UAAUR,EAAWD,EAAWlM,OAI3Cl0B,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,GACnEA,EAAOD,OAAO6gC,kBAChB5gC,EAAO6gC,UAAUR,EAAWD,EAAWlM,KAM/C,GAAIkM,EAAU,GAAGU,kBACf,OAAKT,GAAcA,EAAU75B,QACzB85B,EACFC,GAAc,WACZvgC,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,MAGzEA,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,GAElEA,GARqCA,EAY9C,SAAS+gC,EAAQC,EAAeC,GAAgB,IAEtC3zB,EAAqE0zB,EAArE1zB,IAAKzM,EAAgEmgC,EAAhEngC,QAASqF,EAAuD86B,EAAvD96B,GAAImJ,EAAmD2xB,EAAnD3xB,SAAUC,EAAyC0xB,EAAzC1xB,YAAa+B,EAA4B2vB,EAA5B3vB,UAAWC,EAAiB0vB,EAAjB1vB,aAE5D,SAAS9B,EAAQkxB,GACf1gC,EAAO2qB,iBAAkB,EACpB+V,IACoB,iBAAdA,EACTN,EAAU7/B,KAAKmgC,IAEfN,EAAU7/B,KAAK,IACXmgC,EAAUtf,YACZsf,EAAUtf,YAAYoc,QAAO,SAACC,GAC5B2C,EAAUze,OAAO8b,MAGnB2C,EAAUze,OAAO+e,IAGrBN,EAAU,GAAGU,mBAAoB,EACjCL,EAAYC,IAEd,SAASjxB,IAEP,OADAzP,EAAO2qB,iBAAkB,EAClB3qB,EAGT,GAAIa,EACF2O,EAAQ3O,QACH,GAAIwO,GAAYC,EACrB,IACEtP,EAAOgR,kBAAkB3B,EAAUC,EAAa2xB,EAAgBzxB,EAASC,GACzE,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAEH,GAAI5I,EACTsJ,EAAQtJ,QACH,GAAImL,GAAaC,EAEtB,IACEtR,EAAOmS,mBAAmBiuB,EAAU,GAAI/uB,EAAWC,EAAc2vB,EAAgBzxB,EAASC,GAC1F,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAECxB,IAELtN,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EAAO2Q,WAAWrD,EAAK2zB,GACpBrwB,MAAK,SAACswB,GACL1xB,EAAQ0xB,MAETpwB,OAAM,WACL9Q,EAAO2qB,iBAAkB,MAcjC,SAASwW,EAAa7B,EAAeC,GACnCwB,EAAQzB,EAAen9B,IAAM2N,OAAOP,EAASgwB,IAE/C,SAAS6B,IACPphC,EAAO2qB,iBAAkB,EAQ3B,MApBC,6DAA8DtpB,MAAM,KAAKO,SAAQ,SAACy/B,GAC7EnN,EAASmN,KACXpB,GAAqB,EACrBc,EAAQ,KAAGM,EAAcnN,EAASmN,IAAgB9xB,OAWlD2kB,EAASmL,MACXnL,EAASmL,MAAMnxB,KAAKlO,EAAQouB,EAAcc,EAAeiS,EAAcC,GAC7DnB,IACVjgC,EAAO2qB,iBAAkB,GAGpB3qB,GFk6BTV,EAAO8V,UAAUyrB,UEh6BjB,SAAmBR,EAAWD,EAAWlM,GACvC,IAEIoN,EACAjB,EAAU,KACZA,EAAU,GAAGS,mBAAoB,SAC1BT,EAAU,GAAGS,mBAEtBT,EAAUxsB,WAAW1I,MAAK,SAACsI,EAAOyf,GAC5BA,EAAS9R,cACXkgB,GAAuB,EACvBj7B,YAAE6sB,GAAU7oB,QAAQ,mBAAoB6pB,GACxChB,EAAS9R,YAAY+R,eAGpBmO,GACHjB,EAAUh2B,QAAQ,mBAAoB6pB,GAfzBr0B,KAiBRkD,KAAK,kBAAmBs9B,EAAU,GAAID,EAAU,GAAIlM,GAjB5Cr0B,KAkBR0hC,iBAAiBlB,EAAU,GAAInM,IF+4BxC50B,EAAO8V,UAAU+pB,UGvmCjB,SAAmB/D,EAAWjrB,GAAyB,IAkKjDqxB,EAlK+BlD,EAAkB,uDAAJ,GAC3Ct+B,EAASH,KACTC,EAAME,EAAOF,IACb2hC,EAAwB,UAAdrG,EACVsG,EAAeD,EAAU,QAAU,QAEnClyB,EAAUpN,IAAM2N,OAAO,CAC3B8qB,QAAS56B,EAAOD,OAAO66B,QACvB/L,WAAW,EACXtc,SAAS,EACTnS,GAAI,IACHk+B,GAEGqD,EAAcx/B,IAAM2N,OAAO,GAAIK,EAAMA,MAAMirB,IAC3CqE,EAAatvB,EAAMA,MAEzB,SAASyxB,IAEP,IAAM9F,EAAQh8B,EAAIs7B,GAAWx7B,OAAO+hC,GACpClC,EAAWxD,cAAgBH,EAE3B,IAAM+F,EAAQ/F,EAAM51B,GAEpB,SAAS47B,IACPhG,EAAM3O,QAER2O,EAAM17B,GAAN,UAAYshC,EAAZ,SAAgC,WACzBG,IAEH7hC,EAAO06B,oBAAoBoB,EAAM51B,IAGjC41B,EAAM30B,IAAIkD,QAAV,UAAqB+wB,EAAU5xB,cAA/B,iBAAqD4xB,EAAU5xB,cAA/D,YAAwF2G,EAAO2rB,GAC/F97B,EAAO+C,KAAP,UAAgB0+B,EAAwB,GAAd,YAA1B,YAA8CrG,EAA9C,gBAA+DA,EAA/D,WAAmFU,EAAM51B,GAAIiK,EAAO2rB,IAEtG97B,EAAO0V,KAAK,gBAAiBosB,MAE/BhG,EAAM17B,GAAN,UAAYshC,EAAZ,UAAiC,WAC/B1hC,EAAO4c,IAAI,gBAAiBklB,GACvBhG,EAAMiG,eACT/hC,EAAOiP,UAIX6sB,EAAM17B,GAAN,UAAYshC,EAAZ,WAAkC,WAChC5F,EAAM30B,IAAIkD,QAAV,UAAqB+wB,EAAU5xB,cAA/B,iBAA6D2G,EAAO2rB,GACpEA,EAAM/4B,KAAN,UAAe0+B,EAAiC,GAAvB,sBAAzB,OAAqDrG,EAArD,gBAA8EU,EAAM51B,GAAIiK,EAAO2rB,GAC/F,IAAMkG,EAAiBlG,EAAM51B,GAAGkb,YAC5B4gB,GACFA,EAAe7O,WAEjBhxB,IAAM8/B,UAAS,YACTD,GAAkBL,EAAYtwB,YAChCrR,EAAOkiC,YAAYpG,EAAM51B,IAE3B41B,EAAMrkB,iBACCqkB,EAAM3rB,aACNsvB,EAAWxD,oBAIlB1sB,EAAQY,QAENnQ,EAAOD,OAAO8uB,WAAatf,EAAQsf,WACrCrc,IAAQ1R,KACNd,EAAOqO,KAAKkR,GACZ,CACEjS,IAAKiC,EAAQY,MAAM7C,IACnBwuB,MAAOV,IAERp7B,EAAOD,OAAOg5B,eAAiB,IAAM/4B,EAAOD,OAAOi5B,mBAAqBzpB,EAAQY,MAAM7C,KAKvFiC,EAAQY,QAAUnQ,EAAOouB,eAC3B0N,EAAM3rB,MAAQhO,IAAM2N,OAAOP,EAAQY,MAAO,CAAE2rB,UAC5C97B,EAAOouB,aAAe0N,EAAM3rB,OAI1BZ,EAAQgD,UACVvS,EAAOuS,QAAQzR,KAAKyO,EAAQY,MAAM7C,KAClCtN,EAAO4uB,gBAIPiT,IAEF7hC,EAAO06B,oBAAoBoB,EAAM51B,IAGjC41B,EAAM30B,IAAIkD,QAAV,UAAqB+wB,EAAU5xB,cAA/B,iBAAqD4xB,EAAU5xB,cAA/D,YAAwF2G,EAAO2rB,GAC/F97B,EAAO+C,KAAP,UAAe2+B,EAAf,gBAAmCtG,EAAnC,gBAAoDA,EAApD,WAAwEU,EAAM51B,GAAIiK,EAAO2rB,IAI3FA,EAAMruB,OAIR,SAAS00B,EAAUC,EAAiBC,GAAkB,IAE5C/0B,EAAiE80B,EAAjE90B,IAAKzM,EAA4DuhC,EAA5DvhC,QAASwO,EAAmD+yB,EAAnD/yB,SAAUC,EAAyC8yB,EAAzC9yB,YAAa+B,EAA4B+wB,EAA5B/wB,UAAWC,EAAiB8wB,EAAjB9wB,aAGxD,SAAS9B,EAAQkxB,GACXA,IACuB,iBAAdA,EACTiB,EAAY9gC,QAAU6/B,EACbA,EAAUtf,YACnBsf,EAAUtf,YAAYoc,QAAO,SAACC,GAC5BkE,EAAYz7B,GAAKu3B,EACjB39B,EAAIuC,KAAKsf,OAAO8b,MAGlBkE,EAAYz7B,GAAKw6B,EAEnBkB,KAGJ,SAASnyB,IAEP,OADAzP,EAAO2qB,iBAAkB,EAClB3qB,EAGT,GAAIa,EACF2O,EAAQ3O,QACH,GAAIwO,GAAYC,EACrB,IACEtP,EAAO+Q,oBAAoB1B,EAAUC,EAAa+yB,EAAkB7yB,EAASC,GAC7E,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAEH,GAAIuC,GAAaC,EAEtB,IACEtR,EAAOiS,qBAAqBnS,EAAIuC,KAAK,GAAIgP,EAAWC,EAAc+wB,EAAkB7yB,EAASC,GAC7F,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAECxB,GAELtN,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EAAO2Q,WAAWrD,EAAK+0B,GACpBzxB,MAAK,SAAC0xB,GACLX,EAAY9gC,QAAUyhC,EACtBV,OAED9wB,OAAM,WACL9Q,EAAO2qB,iBAAkB,MAG7BiX,IAgBJ,SAAST,EAAa7B,EAAeC,GACnC4C,EAAU7C,EAAen9B,IAAM2N,OAAOP,EAASgwB,IAEjD,SAAS6B,IACPphC,EAAO2qB,iBAAkB,EAK3B,MApBC,6DAA8DtpB,MAAM,KAAKO,SAAQ,SAACm6B,GAC7E4F,EAAY5F,KAAmByF,IACjCA,GAAgB,EAChBW,EAAU,KAAGpG,EAAgB4F,EAAY5F,IAAkBxsB,OAG1DiyB,GAA+B,YAAdpG,GACpBwG,IAUED,EAAYtC,OACdsC,EAAYtC,MAAMnxB,KAAKlO,EAAQuP,EAAQY,MAAOnQ,EAAOouB,aAAc+S,EAAcC,GAE5EphC,GHi7BTV,EAAO8V,UAAU+mB,YG/6BjB,SAAqBL,GACnB35B,IAAM2N,OAAOgsB,EAAO,CAAEiG,eAAe,IACrCjG,EAAM3O,SH+6BR7tB,EAAO8V,UAAUmtB,SIpmCjB,SAAkBr8B,EAAIs8B,GACpB,IAaItH,EAcA9R,EACAiT,EACAC,EAoCAM,EA+CA6F,EAhHEziC,EAASH,KACTsH,EAAMd,YAAEH,GACRpG,EAAME,EAAOF,IACbuO,EAAOrO,EAAOqO,KAEdkB,EAAUpN,IAAM2N,OAAO,CAC3B8qB,QAAS56B,EAAOD,OAAO66B,QACvB/L,WAAW,EACXW,cAAc,GACbgT,GAEG7G,EAAsB37B,EAAOD,OAAO6qB,uBAAyB,EAC7DgR,EAAWD,GAAuBpsB,EAAQY,OAASZ,EAAQY,MAAMA,QAAwC,IAA/BZ,EAAQY,MAAMA,MAAMoqB,OAG9FxR,EAAgB/oB,EAAO+oB,cACvBC,EAAiBhpB,EAAOgpB,eAExBwT,EAAWr1B,EACXi1B,EAAWp8B,EAAOmH,IAAI0M,SAAS,iBAC/B6uB,EAAkB/G,GAAuBS,EAASx1B,SAAS,eA6BjE,GA3BI41B,EAASh2B,QAEXxG,EAAO06B,oBAAoB8B,GAOzBzT,IACFsT,EAAkBG,EAAS3oB,SAAS,WAAWA,SAAS,iBACpDmV,GACFI,EAAYppB,EAAOopB,UACfiT,EAAgB71B,OAAS,GAC3Bg2B,EAAS3oB,SAAS,WAAWrM,SAEA,IAA3B60B,EAAgB71B,QAAgBg2B,EAAS,IAAMA,EAAS,GAAGnO,SAE7DgO,EAAkBG,EAAS,GAAGnO,OAAOjF,WAEvCkT,EAAkBlT,EAAU8B,KAAK,oBAEjCoR,EAAkBF,EAASvoB,SAAS,WAAWA,SAAS,kBAI5D7T,EAAO2qB,iBAAkB,EACD,IAApB6R,EAASh2B,QAAoC,IAApB41B,EAAS51B,OAEpC,OADAxG,EAAO2qB,iBAAkB,EAClB3qB,EAeT,GAXAA,EAAO06B,oBAAoB8B,GAGvBjtB,EAAQY,OAASZ,EAAQY,MAAMA,OAASZ,EAAQY,MAAMA,MAAM6iB,YAAczjB,EAAQY,MAAMA,MAAMusB,gBAChGntB,EAAQY,MAAMA,MAAMusB,cAAgB,CAClCnF,OAAQpwB,EAAI,KAMZw0B,EAAqB,CAMvB,IALA,IAAMkB,EAAe78B,EAAOmH,IACzB0M,SAAS,uBACTR,QAAO,SAACI,EAAOqpB,GAAR,OAAuBA,IAAeN,EAAS,MAGhDj7B,EAAI,EAAGA,EAAIs7B,EAAar2B,OAAQjF,GAAK,EACvC25B,IACA2B,EAAat7B,GAAGO,UAAUk7B,SAAS,iBAEtC9B,EAAe2B,EAAat7B,MAKhCq7B,GAAYhB,GACPV,GACCl7B,EAAOuS,QAAQhJ,QAAQgG,EAAQY,MAAM7C,KAAOtN,EAAOuS,QAAQhJ,QAAQ2xB,EAAa7M,OAAOle,MAAM7C,QAEjFsuB,GAAYV,GAAgBA,EAAa7M,QAAU9e,EAAQY,MAAMA,MAAMwkB,cACvFiI,EAAWrtB,EAAQY,MAAMA,MAAMwkB,YAAYxe,OAAS+kB,EAAa7M,OAAOle,MAAMA,MAAMgG,MA2BxF,GArBAqmB,EACGz1B,SADH,uBAC4B60B,EAAW,eAAiB,IADxD,OAC6DgB,EAAW,sBAAwB,KAC7F31B,YAAY,WACZknB,WAAW,eACX9jB,QAAQ,gBACRA,QAAQ,gBAAiB,CAAEytB,SAAU,aACxC93B,EAAO+C,KAAK,cAAey5B,EAAS,IACpCx8B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAI,aACrCZ,GAAYgB,IACdJ,EAASnyB,QAAQ,YAAa,CAAEmwB,KAAMoB,EAAW,SAAW,WAG1D7S,GAAiBsT,EAAgB71B,OAAS,GAC5C61B,EACGt1B,SADH,yBAC8B60B,EAAW,iBAAmB,IAD5D,OACiEgB,EAAW,wBAA0B,KACnG31B,YAAY,WACZknB,WAAW,eAKZ5e,EAAQozB,QACNvG,EAASrQ,KAAK,gCAAgCvlB,OAAS,GAAgD,IAA3C41B,EAASrQ,KAAK,kBAAkBvlB,QAW9F,GAVIxG,EAAOuS,QAAQhJ,QAAQgG,EAAQY,MAAM7C,MAAQ,GAC/Cm1B,EAAYziC,EAAOuS,QAAQ/L,OAASxG,EAAOuS,QAAQhJ,QAAQgG,EAAQY,MAAM7C,KAAO,EAChFtN,EAAOuS,QAAUvS,EAAOuS,QAAQ+D,MAAM,EAAGtW,EAAOuS,QAAQhJ,QAAQgG,EAAQY,MAAM7C,KAAO,GACrFe,EAAKkE,QAAUvS,EAAOuS,SACbvS,EAAOuS,QAAQ,CAACvS,EAAOuS,QAAQ/L,OAAS,IACjDxG,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAK+I,EAAQY,MAAM7C,IAE1DtN,EAAOuS,QAAQmc,QAAQ1uB,EAAOsN,KAG5Bm1B,GAAaziC,EAAOD,OAAO+uB,WAC7BsN,EAASwG,QAAQ,kBAAkBz3B,MAAK,SAACsI,EAAOovB,GAC9C,IACIC,EADEC,EAAgB18B,YAAEw8B,GAEpB7Z,IAEF8Z,EAAkBz8B,YAAEvG,EAAIo9B,OAAOC,YAAY4F,KAEzCA,EAAc,KAAOvG,EAAS,IAAMuG,EAActvB,QAAU+oB,EAAS/oB,UACnEzT,EAAO+uB,aAAaxlB,QAAQw5B,EAAc,KAAO,GACnDA,EAAch8B,SAAS,WACvBg8B,EAAc14B,QAAQ,cACtBrK,EAAO+C,KAAK,YAAaggC,EAAc,IACnC/Z,GACF8Z,EAAgB/7B,SAAS,aAG3B/G,EAAOuuB,aAAa,eAAgBwU,EAAeD,EAAiB,gBAAYr7B,EAAW8H,GAC3FvP,EAAOgvB,WAAW+T,GACd/Z,GAAkB8Z,EAAgBt8B,OAAS,GAC7CxG,EAAOivB,aAAa6T,YAKvB,CACL,IACIA,EADEC,EAAgB3G,EAASrQ,KAAK,gCAEhC/C,IAEF8Z,EAAkBz8B,YAAEvG,EAAIo9B,OAAOC,YAAY4F,KAEzC/iC,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQw5B,EAAc,KAAO,GAC/EA,EAAch8B,SAAS,WACvBg8B,EAAc14B,QAAQ,cACtBrK,EAAO+C,KAAK,YAAaggC,EAAc,IACvCD,EAAgB/7B,SAAS,YAChBg8B,EAAcv8B,OAAS,IAChCxG,EAAOuuB,aAAa,eAAgBwU,EAAeD,EAAiB,gBAAYr7B,EAAW8H,GAC3FvP,EAAOgvB,WAAW+T,GACd/Z,GAAkB8Z,EAAgBt8B,QACpCxG,EAAOivB,aAAa6T,IAQ9B,IAsNQhF,EACAC,EAvNFR,EAAef,EAASl2B,QAAQ9F,KAAUgG,OAAS,EACnD4a,EAAcob,EAAS,GAAGpb,YAEhC,SAAS4hB,IACgC,IAAnCxG,EAASvM,KAAKmM,GAAU51B,UACrB+2B,GAAgBnc,EACnBA,EAAYoc,QAAO,SAACC,GAClBp3B,YAAEo3B,GAAapkB,aAAa+iB,MAG9BI,EAASnjB,aAAa+iB,IAGtBpT,GAAkBqT,EAAgB71B,SAChC61B,EAAgBxoB,SAAS,gBAAgBrN,QAC3C61B,EAAgBt1B,SAAS,sBAE3Bs1B,EAAgBhjB,aAAaijB,GACzBA,EAAgB91B,OAAS,EAC3B61B,EAAgBhjB,aAAaijB,IAExBt8B,EAAOopB,UAAU9iB,QAAQ9F,KAAUgG,QACtCxG,EAAOmH,IAAImzB,QAAQt6B,EAAOopB,WAE5BA,EAAUzH,OAAO0a,KAGhBkB,EAEMhuB,EAAQY,OAASZ,EAAQY,MAAMA,OAASZ,EAAQY,MAAMA,MAAM6iB,YAAcwJ,EAAS,GAAGkB,gBAC/FlB,EAAS,GAAGkB,eAAgB,EAC5B19B,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiB,WAAY,UAAW9sB,EAAS6sB,IAH1Fp8B,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiB,WAAY,UAAW9sB,EAAS6sB,GAO9F,GAAI7sB,EAAQ6f,QAAS,CAEnB4T,IAEIzzB,EAAQY,MAAMA,MAAMkkB,KACtBr0B,EAAO26B,QAAQprB,EAAQY,MAAMA,MAAMkkB,IAAKlyB,IAAM2N,OAAO,GAAIP,EAAS,CAChEgD,SAAS,EACTsc,WAAW,EACXO,SAAS,KAGTwM,IACFY,EACGv1B,YAAY,uBACZoD,QAAQ,sBACXrK,EAAO+C,KAAK,oBAAqBy5B,EAAS,IACtCxT,GACF3iB,YAAEvG,EAAIo9B,OAAOC,YAAYX,IAAWv1B,YAAY,0BAIpDjH,EAAOuuB,aAAa,OAAQiO,EAAUH,EAAiB,WAAY,UAAW9sB,EAAS6sB,GACvF,IAAM6G,EAAiBzG,EAASoG,QAAQ,kDA0BxC,OAzBIK,EAAez8B,OAAS,GAC1By8B,EAAe93B,MAAK,SAACsI,EAAOovB,GAC1B,IACIC,EADEC,EAAgB18B,YAAEw8B,GAEpB7Z,IAEF8Z,EAAkBz8B,YAAEvG,EAAIo9B,OAAOC,YAAY4F,KAEzC/iC,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQs5B,IAAiB,GAC3EE,EAAch8B,SAAS,WACvBg8B,EAAc14B,QAAQ,cACtBrK,EAAO+C,KAAK,YAAaggC,EAAc,IACnC/Z,GACF8Z,EAAgB/7B,SAAS,aAG3B/G,EAAOuuB,aAAa,eAAgBwU,EAAeD,EAAiB,gBAAYr7B,GAChFzH,EAAOgvB,WAAW+T,GACd/Z,GAAkB8Z,EAAgBt8B,QACpCxG,EAAOivB,aAAa6T,OAK5B9iC,EAAO2qB,iBAAkB,EAClB3qB,EAIT,KAAMG,IAAO+iC,IAAM/iC,IAAOgjC,MAAShjC,IAAOijC,UAAYjjC,IAAOS,MACvDZ,EAAOD,OAAO8uB,WAAatf,EAAQsf,UACrC,GAAItf,EAAQigB,aAAc,CACxB,IAAMuJ,EAAgB/4B,EAAOD,OAAOg5B,eAAiB,GACrDvmB,IAAQlR,QACN+M,EAAKkR,GACL,CACEjS,IAAKiC,EAAQY,MAAM7C,KAErByrB,EAAgB/4B,EAAOD,OAAOi5B,mBAAqBzpB,EAAQY,MAAM7C,UAE1Dm1B,EACTjwB,IAAQ6wB,IAAIZ,GAEZjwB,IAAQvD,OA4Bd,GAtBIM,EAAQigB,aACVxvB,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAK+I,EAAQY,MAAM7C,KAE5B,IAA1BtN,EAAOuS,QAAQ/L,QACjBxG,EAAOuS,QAAQmc,QAAQ1uB,EAAOsN,KAEhCtN,EAAOuS,QAAQoc,OAEjB3uB,EAAO4uB,cAGP5uB,EAAOytB,cAAgB+O,EAAS,GAC5BzT,GAAiBsT,EAAgB71B,OACnCxG,EAAO2tB,gBAAkB0O,EAAgB,UAElCr8B,EAAO2tB,gBAIhB3tB,EAAOouB,aAAe7e,EAAQY,OAG1BhQ,IAAO+iC,IAAM/iC,IAAOgjC,MAAShjC,IAAOijC,UAAYjjC,IAAOS,MACrDZ,EAAOD,OAAO8uB,WAAatf,EAAQsf,UACrC,GAAItf,EAAQigB,aAAc,CACxB,IAAMuJ,EAAgB/4B,EAAOD,OAAOg5B,eAAiB,GACrDvmB,IAAQlR,QACN+M,EAAKkR,GACL,CACEjS,IAAKiC,EAAQY,MAAM7C,KAErByrB,EAAgB/4B,EAAOD,OAAOi5B,mBAAqBzpB,EAAQY,MAAM7C,UAE1Dm1B,EACTjwB,IAAQ6wB,IAAIZ,GAEZjwB,IAAQvD,OAwBd,SAAS4uB,IAEP,IAAMC,EAAc,uCACdC,EAAgB,6CACtBvB,EAASv1B,YAAY62B,GAAa/2B,SAAS,gBAAgBonB,WAAW,eAAe9jB,QAAQ,gBAAiB,CAAEytB,SAAU,YAC1H93B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAI,WACzCJ,EAASn1B,YAAY62B,GAAa/2B,SAAS,aAAawG,KAAK,cAAe,QAAQlD,QAAQ,gBAAiB,CAAEytB,SAAU,SACzH93B,EAAO+C,KAAK,eAAgBq5B,EAAS,GAAI,QACrCrT,IACFsT,EAAgBp1B,YAAY82B,GAAeh3B,SAAS,kBAAkBonB,WAAW,eACjFmO,EAAgBr1B,YAAY82B,GAAeh3B,SAAS,eAAewG,KAAK,cAAe,SAIzFvN,EAAOuuB,aAAa,WAAY6N,EAAUE,EAAiB,UAAW,OAAQ/sB,GAC9EvP,EAAOuuB,aAAa,UAAWiO,EAAUH,EAAiB,WAAY,UAAW9sB,GAG7EvP,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQ6yB,EAAS,KAAO,GAC1EA,EAASr1B,SAAS,WAClBq1B,EAAS/xB,QAAQ,cACjBrK,EAAO+C,KAAK,YAAaq5B,EAAS,IAC9BpT,GACFsT,EAAgBv1B,SAAS,aAG3B/G,EAAOuuB,aAAa,eAAgB6N,EAAUE,EAAiB,YAAQ70B,EAAW8H,GAClFvP,EAAOgvB,WAAWoN,GACdpT,GAAkBsT,EAAgB91B,QACpCxG,EAAOivB,aAAaqN,IAIxBt8B,EAAO2qB,iBAAkB,EACzB3qB,EAAO+C,KAAK,eAAgB/C,EAAOouB,aAAcpuB,EAAOkvB,cAAelvB,IAG3CA,EAAOD,OAAOovB,qBAAuBnvB,EAAOD,OAAP,UAAiBD,EAAIkG,MAArB,gBACtChG,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,KAAOo1B,GACvE57B,EAAOiP,KAAKjP,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAI,CAAE4oB,SAAS,IAEhEpvB,EAAOD,OAAO8uB,WAChBrc,IAAQyrB,mBA0BZ,OAtFA+E,IAGIzzB,EAAQY,MAAMA,MAAMkkB,KACtBr0B,EAAO26B,QAAQprB,EAAQY,MAAMA,MAAMkkB,IAAKlyB,IAAM2N,OAAO,GAAIP,EAAS,CAChEgD,SAAS,EACTsc,WAAW,KAKf7uB,EAAOuuB,aAAa,OAAQiO,EAAUH,EAAiB,WAAY,UAAW9sB,EAAS6sB,GAGvFp8B,EAAOuuB,aAAa,YAAa6N,EAAUE,EAAiB,UAAW,OAAQ/sB,GAC/EvP,EAAOuuB,aAAa,WAAYiO,EAAUH,EAAiB,WAAY,UAAW9sB,IA8D9EA,EAAQqrB,SAAa8H,GAAmB5iC,EAAIwC,OAAStC,EAAOD,OAAO6qB,uBAMrEiT,KAlBMC,EAAc,uCACdC,EAAgB,6CACtB3B,EAASn1B,YAAY62B,GAAa/2B,SAAS,gBAAgBsD,QAAQ,gBAAiB,CAAEytB,SAAU,YAChG93B,EAAO+C,KAAK,eAAgBq5B,EAAS,GAAI,WACzCI,EAASv1B,YAAY62B,GAAa/2B,SAAS,iBAAiBonB,WAAW,eAAe9jB,QAAQ,gBAAiB,CAAEytB,SAAU,aAC3H93B,EAAO+C,KAAK,eAAgBy5B,EAAS,GAAI,YACrCzT,IACFuT,EAAgBr1B,YAAY82B,GAAeh3B,SAAS,kBACpDs1B,EAAgBp1B,YAAY82B,GAAeh3B,SAAS,mBAAmBonB,WAAW,gBAMpFnuB,EAAO46B,QAAQwB,EAAUI,EAAUF,EAAiBD,EAAiB,YAAY,WAC/EwB,QAMG79B,GJ2sBTV,EAAO8V,UAAUkuB,SIzsBjB,SAAkBC,EAAYC,EAAajF,GACzC,IAAMv+B,EAASH,KAEf,IAAKG,EAAO2qB,kBAAoB4T,EAAkB,OAAOv+B,EACzD,IAAMD,EAASwjC,EACTh0B,EAAUi0B,EACRl2B,EAA+EvN,EAA/EuN,IAAKzM,EAA0Ed,EAA1Ec,QAASqF,EAAiEnG,EAAjEmG,GAAIs4B,EAA6Dz+B,EAA7Dy+B,SAAUnvB,EAAmDtP,EAAnDsP,SAAUC,EAAyCvP,EAAzCuP,YAAa+B,EAA4BtR,EAA5BsR,UAAWC,EAAiBvR,EAAjBuR,aAEtE,GACE/B,EAAQY,MAAM7C,KACXtN,EAAOsN,MAAQiC,EAAQY,MAAM7C,MAC3BiC,EAAQ6qB,gBAAiB7qB,EAAQgsB,iBAClCv7B,EAAOD,OAAO2+B,mBAElB,OAAO,EAQT,SAASlvB,EAAQ+nB,EAAQrmB,GACvB,OAAOlR,EAAOuiC,SAAShL,EAAQp1B,IAAM2N,OAAOP,EAAS2B,IAEvD,SAASzB,IAEP,OADAzP,EAAO2qB,iBAAkB,EAClB3qB,EAQT,IAlBKuP,EAAQY,OAAS7C,IACpBiC,EAAQY,MAAQnQ,EAAOy1B,cAAcnoB,KAYnCA,GAAOgC,GAAegC,KACxBtR,EAAO2qB,iBAAkB,GAIvB9pB,EACFb,EAAOuiC,SAASviC,EAAOmR,UAAUtQ,GAAU0O,QACtC,GAAIF,GAAYC,EAErB,IACEtP,EAAOiR,mBAAmB5B,EAAUC,EAAaC,EAASC,EAASC,GACnE,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAEH,GAAI5I,EAETlG,EAAOuiC,SAASviC,EAAOmR,UAAUjL,GAAKqJ,QACjC,GAAIivB,EAETx+B,EAAOuiC,SAASviC,EAAOmH,IAAI0M,SAAX,2BAAwC2qB,EAAxC,OAAsD73B,GAAG,GAAI4I,QACxE,GAAI8B,GAAaC,EAEtB,IACEtR,EAAOqS,oBAAoBrS,EAAOkG,GAAImL,EAAWC,EAAc/B,EAASC,EAASC,GACjF,MAAOX,GAEP,MADA9O,EAAO2qB,iBAAkB,EACnB7b,OAECxB,IAELtN,EAAOP,MACTO,EAAOP,IAAIiR,QACX1Q,EAAOP,KAAM,GAEfO,EAAO2Q,WAAWrD,EAAKiC,GACpBqB,MAAK,SAAC9I,GACL9H,EAAOuiC,SAASviC,EAAOmR,UAAUrJ,GAAcyH,MAEhDuB,OAAM,WACL9Q,EAAO2qB,iBAAkB,MAG/B,OAAO3qB,GJioBTV,EAAO8V,UAAUnG,KI/nBjB,WACE,IAEI+vB,EACAH,EACA1uB,EAJEnQ,EAASH,KACf,GAAIG,EAAO+tB,gBAAiB,OAAO/tB,EAIZ,WAAnB,2CACF6+B,GAAkB,0CAAW,IAE7BG,EAAc,UAAH,8BACXH,GAAkB,0CAAW,IAVV,MAaWA,EAAxBz/B,EAba,EAabA,KAAMW,EAbO,EAaPA,OAAQg1B,EAbD,EAaCA,MACtB,GAAI31B,EAAM,CAGR,KADA+Q,EAAQnQ,EAAO8+B,eAAe,OAAQ1/B,IAEpC,MAAM,IAAIiX,MAAJ,uCAA0CjX,EAA1C,gBAGR,GADA4/B,EAAch/B,EAAO++B,kBAAkB5uB,EAAO,CAAEpQ,SAAQg1B,UAEtD,OAAO/0B,EAAOiP,KAAK+vB,EAAa78B,IAAM2N,OAAO,GAAI+uB,EAAiB,CAChEz/B,KAAM,KACNW,OAAQ,KACRg1B,MAAO,QAGX,MAAM,IAAI1e,MAAJ,gEAAkEjX,EAAlE,MAGR,IAAMU,EAAME,EAAOF,IACnBg5B,EAAe94B,EAAQ,QAEvB,IACIo7B,EADAS,EAAsB77B,EAAOouB,aAAa0N,MAU9C,GARKD,GACF,4DAA6Dx6B,MAAM,KAAKO,SAAQ,SAACm6B,GAC5E/7B,EAAOouB,aAAaje,MAAM4rB,KAC5BF,GAAsB,EACtBT,EAAYW,MAIdF,EAAqB,CACvB,IAII3M,EAJE8M,EAAeh8B,EAAOouB,aAAa0N,OACjB97B,EAAOouB,aAAaje,MAAM8rB,eAC1Bn8B,EAAIs7B,GAAW1oB,MACjCwpB,EAAcl8B,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAG3D,GAAIw1B,GAAgBA,EAAa70B,IAAK,CACpC,IAAMs8B,EAAmBzH,EAAa70B,IAAIy7B,QAAQ,aAC9Ca,EAAiBj9B,QAAUi9B,EAAiB,GAAGC,UACjDxU,EAAgBuU,EAAiB,GAAGC,QAAQvzB,OAkBhD,GAfK+e,IACHA,EAAgBlvB,EAAOm6B,kBAAkB+B,KAGtChN,GAAiBgN,IACpBhN,EAAgB,CACd5hB,IAAK4uB,EACL/lB,KAAM+lB,EAAY76B,MAAM,KAAK,GAC7B0zB,MAAO5yB,IAAM6yB,cAAckH,GAC3B/rB,MAAO,CACLgG,KAAM+lB,EAAY76B,MAAM,KAAK,GAC7BiM,IAAK4uB,OAIN8C,GAAkE,IAAnDA,EAAY19B,QAAQ,QAAS,IAAIwV,OAAOtQ,QACrD0oB,GAAkB8M,GACrB,OAAOh8B,EAGX,IAAM2jC,EAAgB9E,EAAgB8D,OAASzT,GAAiB8P,EAChE,GAAI9P,GAAiB8M,EAAc,CACjC,IAAM4H,EAAoBzjC,IAAO+iC,IAAM/iC,IAAOgjC,MAAShjC,IAAOijC,UAAYjjC,IAAOS,IAC3EijC,EAAkB7jC,EAAOD,OAAO8uB,YAA2C,IAA9BgQ,EAAgBhQ,UAC/DgV,IAAoBD,GACtBpxB,IAAQvD,OAEVjP,EAAOouB,aAAec,EACtBlvB,EAAOuS,QAAQoc,MACf3uB,EAAO4uB,cAEHiV,GAAmBD,GACrBpxB,IAAQvD,OAGVjP,EAAOm8B,YAAYH,GACf2H,GACF3jC,EAAOkP,SAAS8vB,EAAa,CAAE5E,eAAe,SAEvC4B,IACTh8B,EAAOm8B,YAAYH,GACfgD,GACFh/B,EAAOkP,SAAS8vB,EAAa,CAAE5E,eAAe,KAGlD,OAAOp6B,EAET,IAEI8jC,EAFAC,EAAgB/jC,EAAOmH,IAAI0M,SAAS,iBAAiB+uB,QAAQ,oCAAoCj8B,GAAG,GAGxG,GAAI3G,EAAOD,OAAO6qB,uBAAyB,EAAG,CAC5C,IAAMoZ,EAAkBhkC,EAAOmH,IAAI0M,SAAS,iBAAiB+uB,QAAQ,gBAAgBj8B,GAAG,GACxF,GAAIq9B,EAAgBx9B,OAAQ,CAC1B,IAAMy9B,EAA0BjkC,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GACjE09B,EAA4BlkC,EAAOm6B,kBAAkB8J,GACvDC,GAA6BA,EAA0B/zB,QAAU6zB,EAAgB,GAAG3V,OAAOle,MAAMA,QACnG4zB,EAAgBC,EACXnF,EAAgBzP,UACnB0U,EAAahkC,EAAIwC,OAAStC,EAAOD,OAAO6qB,0BAKhD,IAAKiU,EAAgB8D,OAASoB,EAAcv9B,SAAWs9B,EAAY,CACjE,GAAI9jC,EAAOD,OAAO8uB,WACbkV,EAAc,GAAG1V,QACjBruB,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,KAAOu9B,EAAc,GAAG1V,OAAOle,MAAM7C,IAM/E,OAJAtN,EAAOiP,KACLjP,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GACvCrE,IAAM2N,OAAO+uB,EAAiB,CAAE8D,OAAO,KAElC3iC,EAET,IAAMmkC,EAAoBJ,EAAc,GAAG1V,OAAOle,MAclD,OAZAyvB,EAAkB1xB,KAChBlO,EACAmkC,EACAnkC,EAAOouB,cACP,WACEpuB,EAAOsjC,SAAS,CAAEp9B,GAAI69B,GAAiB5hC,IAAM2N,OAAO+uB,EAAiB,CACnE1uB,MAAOg0B,QAGX,eAGKnkC,EAaT,GAToB,MAAhBg/B,IACFA,OAAcv3B,GAEZu3B,GAAkC,MAAnBA,EAAY,IAA2C,IAA7BA,EAAYz1B,QAAQ,OAC/Dy1B,IAAgBh/B,EAAOmW,MAAQ,KAAO6oB,GAAa19B,QAAQ,KAAM,OAE9D09B,GAAeh/B,EAAOuS,QAAQ/L,OAAS,IAC1Cw4B,EAAch/B,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,IAEnDs9B,IAAejF,EAAgB8D,OAAS3iC,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GACjF,OAAOxG,EAAOiP,KAAKjP,EAAOuS,QAAQvS,EAAOuS,QAAQ/L,OAAS,GAAIrE,IAAM2N,OAAO,GAAI+uB,GAAmB,GAAI,CACpG8D,OAAO,EACP/H,SAAS,KAGb,GAAIkJ,IAAejF,EAAgB8D,MACjC,OAAO3iC,EAkBT,IAdAmQ,EAAQnQ,EAAOm6B,kBAAkB6E,KAE3BA,IACF7uB,EAAQ,CACN7C,IAAK0xB,EACL7oB,KAAM6oB,EAAY39B,MAAM,KAAK,GAC7B0zB,MAAO5yB,IAAM6yB,cAAcgK,GAC3B7uB,MAAO,CACLgG,KAAM6oB,EAAY39B,MAAM,KAAK,GAC7BiM,IAAK0xB,MAKR7uB,EACH,OAAOnQ,EAGT,GAAImQ,EAAMA,MAAMof,SACd,OAAOA,EAASrhB,KAAKlO,EAAQ,OAAQmQ,EAAO0uB,GAG9C,IAaIuF,EAbE70B,EAAU,GAchB,GAbIY,EAAMA,MAAMZ,QACdpN,IAAM2N,OAAOP,EAASY,EAAMA,MAAMZ,QAASsvB,GAE3C18B,IAAM2N,OAAOP,EAASsvB,GAExBtvB,EAAQY,MAAQA,EAEZZ,GAAWA,EAAQZ,UACrBwB,EAAMxB,QAAUY,EAAQZ,QACxBY,EAAQY,MAAMxB,QAAUY,EAAQZ,SAI9BY,EAAQozB,OAAS3iC,EAAOD,OAAO+uB,aACjC9uB,EAAOmH,IAAI0M,SAAS,0BAA0B1I,MAAK,SAACsI,EAAO8jB,GACrDA,EAAOlJ,QAAUkJ,EAAOlJ,OAAOle,OAASonB,EAAOlJ,OAAOle,MAAM7C,MAAQ6C,EAAM7C,MAC5E82B,GAAkB,EAClBpkC,EAAOsjC,SAAS,CAAEp9B,GAAIqxB,GAAUhoB,OAGhC60B,GACF,OAAOpkC,EAGX,SAASwP,IACP,IAAI0vB,GAAe,EACf/uB,EAAMA,MAAM6iB,WAAa7iB,EAAMA,MAAMusB,gBACvC18B,EAAOsjC,SAAS,CAAEp9B,GAAIiK,EAAMA,MAAMusB,cAAcnF,QAAUhoB,GAC1D2vB,GAAe,GAEhB,sEAAuE79B,MAAM,KAAKO,SAAQ,SAACw9B,GACtFjvB,EAAMA,MAAMivB,KAAkBF,IAChCA,GAAe,EACfl/B,EAAOsjC,SAAP,KAAmBlE,EAAejvB,EAAMA,MAAMivB,IAAiB7vB,OAG/D2vB,GAcA/uB,EAAMA,MAAMkvB,QACdr/B,EAAO2qB,iBAAkB,EAEzBxa,EAAMA,MAAMkvB,MAAMnxB,KAAKlO,EAAQmQ,EAAOnQ,EAAOouB,cAf/C,SAAsBkR,EAAeC,GACnCv/B,EAAO2qB,iBAAkB,EACrB4U,GAAkBA,EAAe5wB,UAC9BwB,EAAMxB,QACNwB,EAAMxB,QAAUxM,IAAM2N,OAAO,GAAIK,EAAMxB,QAAS4wB,EAAe5wB,SADhDwB,EAAMxB,QAAU4wB,EAAe5wB,QAEnDY,EAAQY,MAAMxB,QAAUwB,EAAMxB,SAEhC3O,EAAOsjC,SAAShE,EAAen9B,IAAM2N,OAAOP,EAASgwB,IAAiB,MAExE,WACEv/B,EAAO2qB,iBAAkB,MAQ7B,SAASlb,IACPzP,EAAO2qB,iBAAkB,EA+B3B,OA5BIpb,EAAQ6f,QACV5f,IAEAowB,EAAkB1xB,KAChBlO,EACAmQ,EACAnQ,EAAOouB,cACP,WACMje,EAAMA,MAAMvC,QACd9N,EACG+/B,YAAY5rB,MAAMC,QAAQ/D,EAAMA,MAAMvC,SAAWuC,EAAMA,MAAMvC,QAAU,CAACuC,EAAMA,MAAMvC,UACpFgD,MAAK,WACJpB,OAEDsB,OAAM,WACLrB,OAGJD,OAGJ,WACEC,OAMCzP,GJyWTV,EAAO8V,UAAUivB,mBK9mCjB,WACE,IAAMrkC,EAASH,KACfi5B,EAAe94B,EAAQ,sBACvB,IAAMF,EAAME,EAAOF,IACbkpB,EAAiBhpB,EAAOgpB,eAEPhpB,EAAOmH,IAC3B0M,SAAS,SACTR,QAAO,SAACI,EAAOqpB,GACd,SAAI98B,EAAOouB,eAAiBpuB,EAAOouB,aAAa0N,QAAS97B,EAAOouB,aAAakW,QACtExH,IAAe98B,EAAOytB,iBAGlBtiB,MAAK,SAACsI,EAAO8jB,GAC1B,IAAMoG,EAAat3B,YAAEkxB,GACfqG,EAAoBv3B,YAAEvG,EAAIo9B,OAAOC,YAAYQ,IAC/C39B,EAAOD,OAAO+uB,YAAc9uB,EAAO+uB,aAAaxlB,QAAQo0B,EAAW,KAAO,GAC5EA,EAAW52B,SAAS,WAChBiiB,GACF4U,EAAkB72B,SAAS,aAI7B/G,EAAOuuB,aAAa,eAAgBoP,EAAYC,EAAmB,gBAAYn2B,EAAW,IAC1FzH,EAAOgvB,WAAW2O,GACd3U,GAAkB4U,EAAkBp3B,QACtCxG,EAAOivB,aAAa2O,QLslC5Bt+B,EAAO8V,UAAUqmB,qBKhlCjB,WAEE3C,EADej5B,KACQ,wBACvB,IAAMyN,EAFSzN,KAEI0S,QAFJ1S,KAEmB0S,QAAQ/L,OAAS,GAFpC3G,KAIRwkC,qBAJQxkC,KAMR0S,QAAU,CAACjF,GANHzN,KAORwO,KAAKkE,QAAU,CAACjF,GAPRzN,KAQR+uB,eL0kCMtvB","file":"js/46.app.js","sourcesContent":["import Router from './router-class';\n\nexport default {\n  name: 'router',\n  static: {\n    Router,\n  },\n  instance: {\n    cache: {\n      xhr: [],\n      templates: [],\n      components: [],\n    },\n  },\n  create() {\n    const instance = this;\n    if (instance.app) {\n      // View Router\n      if (instance.params.router) {\n        instance.router = new Router(instance.app, instance);\n      }\n    } else {\n      // App Router\n      instance.router = new Router(instance);\n    }\n  },\n};\n","import { document } from 'ssr-window';\nimport Device from '../../utils/device';\n\nexport default {\n  name: 'device',\n  proto: {\n    device: Device,\n  },\n  static: {\n    device: Device,\n  },\n  on: {\n    init() {\n      const classNames = [];\n      const html = document.querySelector('html');\n      const metaStatusbar = document.querySelector('meta[name=\"apple-mobile-web-app-status-bar-style\"]');\n      if (!html) return;\n      if (Device.standalone && Device.ios && metaStatusbar && metaStatusbar.content === 'black-translucent') {\n        classNames.push('device-full-viewport');\n      }\n\n      // Pixel Ratio\n      classNames.push(`device-pixel-ratio-${Math.floor(Device.pixelRatio)}`);\n      if (Device.pixelRatio >= 2) {\n        classNames.push('device-retina');\n      }\n      // OS classes\n      if (Device.os && !Device.desktop) {\n        classNames.push(\n          `device-${Device.os}`,\n          `device-${Device.os}-${Device.osVersion.split('.')[0]}`,\n          `device-${Device.os}-${Device.osVersion.replace(/\\./g, '-')}`\n        );\n        if (Device.os === 'ios') {\n          const major = parseInt(Device.osVersion.split('.')[0], 10);\n          for (let i = major - 1; i >= 6; i -= 1) {\n            classNames.push(`device-ios-gt-${i}`);\n          }\n          if (Device.iphoneX) {\n            classNames.push('device-iphone-x');\n          }\n        }\n      } else if (Device.desktop) {\n        classNames.push('device-desktop');\n        if (Device.os) {\n          classNames.push(`device-${Device.os}`);\n        }\n      }\n      if (Device.cordova || Device.phonegap) {\n        classNames.push('device-cordova');\n      }\n\n      // Add html classes\n      classNames.forEach((className) => {\n        html.classList.add(className);\n      });\n    },\n  },\n};\n","import { document } from 'ssr-window';\nimport Support from '../../utils/support';\n\nexport default {\n  name: 'support',\n  proto: {\n    support: Support,\n  },\n  static: {\n    support: Support,\n  },\n  on: {\n    init() {\n      const html = document.querySelector('html');\n      if (!html) return;\n      const classNames = [];\n      // Add html classes\n      classNames.forEach((className) => {\n        html.classList.add(className);\n      });\n    },\n  },\n};\n","import Utils from '../../utils/utils';\n\nexport default {\n  name: 'utils',\n  proto: {\n    utils: Utils,\n  },\n  static: {\n    utils: Utils,\n  },\n};\n","import { window, document } from 'ssr-window';\n\nexport default {\n  name: 'resize',\n  instance: {\n    getSize() {\n      const app = this;\n      if (!app.root[0]) return { width: 0, height: 0, left: 0, top: 0 };\n      const offset = app.root.offset();\n      const [width, height, left, top] = [app.root[0].offsetWidth, app.root[0].offsetHeight, offset.left, offset.top];\n      app.width = width;\n      app.height = height;\n      app.left = left;\n      app.top = top;\n      return { width, height, left, top };\n    },\n  },\n  on: {\n    init() {\n      const app = this;\n\n      // Get Size\n      app.getSize();\n\n      // Emit resize\n      window.addEventListener('resize', () => {\n        app.emit('resize');\n      }, false);\n\n      // Emit orientationchange\n      window.addEventListener('orientationchange', () => {\n        app.emit('orientationchange');\n      });\n    },\n    orientationchange() {\n      const app = this;\n      // Fix iPad weird body scroll\n      if (app.device.ipad) {\n        document.body.scrollLeft = 0;\n        setTimeout(() => {\n          document.body.scrollLeft = 0;\n        }, 0);\n      }\n    },\n    resize() {\n      const app = this;\n      app.getSize();\n    },\n  },\n};\n","/* eslint no-param-reassign: \"off\" */\nimport Request from '../../utils/request';\n\nexport default {\n  name: 'request',\n  proto: {\n    request: Request,\n  },\n  static: {\n    request: Request,\n  },\n};\n","import { window, document } from 'ssr-window';\nimport $ from 'dom7';\nimport Support from '../../utils/support';\nimport Device from '../../utils/device';\n\nfunction initTouch() {\n  const app = this;\n  const params = app.params.touch;\n  const useRipple = params[`${app.theme}TouchRipple`];\n\n  if (Device.ios && Device.webView) {\n    // Strange hack required for iOS 8 webview to work on inputs\n    window.addEventListener('touchstart', () => {});\n  }\n\n  let touchStartX;\n  let touchStartY;\n  let touchStartTime;\n  let targetElement;\n  let trackClick;\n  let activeSelection;\n  let scrollParent;\n  let lastClickTime;\n  let isMoved;\n  let tapHoldFired;\n  let tapHoldTimeout;\n  let preventClick;\n\n  let activableElement;\n  let activeTimeout;\n\n  let needsFastClick;\n  let needsFastClickTimeOut;\n\n  let rippleWave;\n  let rippleTarget;\n  let rippleTimeout;\n\n  function findActivableElement(el) {\n    const target = $(el);\n    const parents = target.parents(params.activeStateElements);\n    let activable;\n    if (target.is(params.activeStateElements)) {\n      activable = target;\n    }\n    if (parents.length > 0) {\n      activable = activable ? activable.add(parents) : parents;\n    }\n    if (activable && activable.length > 1) {\n      const newActivable = [];\n      let preventPropagation;\n      for (let i = 0; i < activable.length; i += 1) {\n        if (!preventPropagation) {\n          newActivable.push(activable[i]);\n          if (activable.eq(i).hasClass('prevent-active-state-propagation')\n            || activable.eq(i).hasClass('no-active-state-propagation')\n          ) {\n            preventPropagation = true;\n          }\n        }\n      }\n      activable = $(newActivable);\n    }\n    return activable || target;\n  }\n\n  function isInsideScrollableViewLight(el) {\n    const pageContent = el.parents('.page-content');\n    return pageContent.length > 0;\n  }\n  function isInsideScrollableView(el) {\n    const pageContent = el.parents('.page-content');\n\n    if (pageContent.length === 0) {\n      return false;\n    }\n\n    // This event handler covers the \"tap to stop scrolling\".\n    if (pageContent.prop('scrollHandlerSet') !== 'yes') {\n      pageContent.on('scroll', () => {\n        clearTimeout(activeTimeout);\n        clearTimeout(rippleTimeout);\n      });\n      pageContent.prop('scrollHandlerSet', 'yes');\n    }\n\n    return true;\n  }\n  function addActive() {\n    if (!activableElement) return;\n    activableElement.addClass('active-state');\n  }\n  function removeActive() {\n    if (!activableElement) return;\n    activableElement.removeClass('active-state');\n    activableElement = null;\n  }\n  function isFormElement(el) {\n    const nodes = ('input select textarea label').split(' ');\n    if (el.nodeName && nodes.indexOf(el.nodeName.toLowerCase()) >= 0) return true;\n    return false;\n  }\n  function androidNeedsBlur(el) {\n    const noBlur = ('button input textarea select').split(' ');\n    if (document.activeElement && el !== document.activeElement && document.activeElement !== document.body) {\n      if (noBlur.indexOf(el.nodeName.toLowerCase()) >= 0) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n  function targetNeedsFastClick(el) {\n    /*\n    if (\n      Device.ios\n      &&\n      (\n        Device.osVersion.split('.')[0] > 9\n        ||\n        (Device.osVersion.split('.')[0] * 1 === 9 && Device.osVersion.split('.')[1] >= 1)\n      )\n    ) {\n      return false;\n    }\n    */\n    const $el = $(el);\n    if (el.nodeName.toLowerCase() === 'input' && (el.type === 'file' || el.type === 'range')) return false;\n    if (el.nodeName.toLowerCase() === 'select' && Device.android) return false;\n    if ($el.hasClass('no-fastclick') || $el.parents('.no-fastclick').length > 0) return false;\n    if (params.fastClicksExclude && $el.closest(params.fastClicksExclude).length > 0) return false;\n\n    return true;\n  }\n  function targetNeedsFocus(el) {\n    if (document.activeElement === el) {\n      return false;\n    }\n    const tag = el.nodeName.toLowerCase();\n    const skipInputs = ('button checkbox file image radio submit').split(' ');\n    if (el.disabled || el.readOnly) return false;\n    if (tag === 'textarea') return true;\n    if (tag === 'select') {\n      if (Device.android) return false;\n      return true;\n    }\n    if (tag === 'input' && skipInputs.indexOf(el.type) < 0) return true;\n    return false;\n  }\n  function targetNeedsPrevent(el) {\n    const $el = $(el);\n    let prevent = true;\n    if ($el.is('label') || $el.parents('label').length > 0) {\n      if (Device.android) {\n        prevent = false;\n      } else if (Device.ios && $el.is('input')) {\n        prevent = true;\n      } else prevent = false;\n    }\n    return prevent;\n  }\n\n  // Ripple handlers\n  function findRippleElement(el) {\n    const rippleElements = params.touchRippleElements;\n    const $el = $(el);\n    if ($el.is(rippleElements)) {\n      if ($el.hasClass('no-ripple')) {\n        return false;\n      }\n      return $el;\n    }\n    if ($el.parents(rippleElements).length > 0) {\n      const rippleParent = $el.parents(rippleElements).eq(0);\n      if (rippleParent.hasClass('no-ripple')) {\n        return false;\n      }\n      return rippleParent;\n    }\n    return false;\n  }\n  function createRipple($el, x, y) {\n    if (!$el) return;\n    rippleWave = app.touchRipple.create($el, x, y);\n  }\n\n  function removeRipple() {\n    if (!rippleWave) return;\n    rippleWave.remove();\n    rippleWave = undefined;\n    rippleTarget = undefined;\n  }\n  function rippleTouchStart(el) {\n    rippleTarget = findRippleElement(el);\n    if (!rippleTarget || rippleTarget.length === 0) {\n      rippleTarget = undefined;\n      return;\n    }\n    const inScrollable = params.fastClicks\n      ? isInsideScrollableView(rippleTarget)\n      : isInsideScrollableViewLight(rippleTarget);\n\n    if (!inScrollable) {\n      removeRipple();\n      createRipple(rippleTarget, touchStartX, touchStartY);\n    } else {\n      clearTimeout(rippleTimeout);\n      rippleTimeout = setTimeout(() => {\n        removeRipple();\n        createRipple(rippleTarget, touchStartX, touchStartY);\n      }, 80);\n    }\n  }\n  function rippleTouchMove() {\n    clearTimeout(rippleTimeout);\n    removeRipple();\n  }\n  function rippleTouchEnd() {\n    if (!rippleWave && rippleTarget && !isMoved) {\n      clearTimeout(rippleTimeout);\n      createRipple(rippleTarget, touchStartX, touchStartY);\n      setTimeout(removeRipple, 0);\n    } else {\n      removeRipple();\n    }\n  }\n\n  // Mouse Handlers\n  function handleMouseDown(e) {\n    findActivableElement(e.target).addClass('active-state');\n    if ('which' in e && e.which === 3) {\n      setTimeout(() => {\n        $('.active-state').removeClass('active-state');\n      }, 0);\n    }\n    if (useRipple) {\n      touchStartX = e.pageX;\n      touchStartY = e.pageY;\n      rippleTouchStart(e.target, e.pageX, e.pageY);\n    }\n  }\n  function handleMouseMove() {\n    $('.active-state').removeClass('active-state');\n    if (useRipple) {\n      rippleTouchMove();\n    }\n  }\n  function handleMouseUp() {\n    $('.active-state').removeClass('active-state');\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  // Send Click\n  function sendClick(e) {\n    const touch = e.changedTouches[0];\n    const evt = document.createEvent('MouseEvents');\n    let eventType = 'click';\n    if (Device.android && targetElement.nodeName.toLowerCase() === 'select') {\n      eventType = 'mousedown';\n    }\n    evt.initMouseEvent(eventType, true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n    evt.forwardedTouchEvent = true;\n\n    if (app.device.ios && window.navigator.standalone) {\n      // Fix the issue happens in iOS home screen apps where the wrong element is selected during a momentum scroll.\n      // Upon tapping, we give the scrolling time to stop, then we grab the element based where the user tapped.\n      setTimeout(() => {\n        targetElement = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n        if (targetElement) {\n          targetElement.dispatchEvent(evt);\n        }\n      }, 10);\n    } else {\n      targetElement.dispatchEvent(evt);\n    }\n  }\n\n  // Touch Handlers\n  function handleTouchStart(e) {\n    isMoved = false;\n    tapHoldFired = false;\n    if (e.targetTouches.length > 1) {\n      if (activableElement) removeActive();\n      return true;\n    }\n    if (e.touches.length > 1 && activableElement) {\n      removeActive();\n    }\n    if (params.tapHold) {\n      if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n      tapHoldTimeout = setTimeout(() => {\n        if (e && e.touches && e.touches.length > 1) return;\n        tapHoldFired = true;\n        e.preventDefault();\n        $(e.target).trigger('taphold');\n      }, params.tapHoldDelay);\n    }\n    if (needsFastClickTimeOut) clearTimeout(needsFastClickTimeOut);\n    needsFastClick = targetNeedsFastClick(e.target);\n\n    if (!needsFastClick) {\n      trackClick = false;\n      return true;\n    }\n    if (Device.ios || (Device.android && 'getSelection' in window)) {\n      const selection = window.getSelection();\n      if (\n        selection.rangeCount\n        && selection.focusNode !== document.body\n        && (!selection.isCollapsed || document.activeElement === selection.focusNode)\n      ) {\n        activeSelection = true;\n        return true;\n      }\n\n      activeSelection = false;\n    }\n    if (Device.android) {\n      if (androidNeedsBlur(e.target)) {\n        document.activeElement.blur();\n      }\n    }\n\n    trackClick = true;\n    targetElement = e.target;\n    touchStartTime = (new Date()).getTime();\n    touchStartX = e.targetTouches[0].pageX;\n    touchStartY = e.targetTouches[0].pageY;\n\n    // Detect scroll parent\n    if (Device.ios) {\n      scrollParent = undefined;\n      $(targetElement).parents().each(() => {\n        const parent = this;\n        if (parent.scrollHeight > parent.offsetHeight && !scrollParent) {\n          scrollParent = parent;\n          scrollParent.f7ScrollTop = scrollParent.scrollTop;\n        }\n      });\n    }\n    if ((touchStartTime - lastClickTime) < params.fastClicksDelayBetweenClicks) {\n      e.preventDefault();\n    }\n\n    if (params.activeState) {\n      activableElement = findActivableElement(targetElement);\n      activeTimeout = setTimeout(addActive, 0);\n    }\n    if (useRipple) {\n      rippleTouchStart(targetElement, touchStartX, touchStartY);\n    }\n    return true;\n  }\n  function handleTouchMove(e) {\n    if (!trackClick) return;\n    const distance = params.fastClicksDistanceThreshold;\n    if (distance) {\n      const pageX = e.targetTouches[0].pageX;\n      const pageY = e.targetTouches[0].pageY;\n      if (Math.abs(pageX - touchStartX) > distance || Math.abs(pageY - touchStartY) > distance) {\n        isMoved = true;\n      }\n    } else {\n      isMoved = true;\n    }\n    if (isMoved) {\n      trackClick = false;\n      targetElement = null;\n      isMoved = true;\n      if (params.tapHold) {\n        clearTimeout(tapHoldTimeout);\n      }\n      if (params.activeState) {\n        clearTimeout(activeTimeout);\n        removeActive();\n      }\n      if (useRipple) {\n        rippleTouchMove();\n      }\n    }\n  }\n  function handleTouchEnd(e) {\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n\n    const touchEndTime = (new Date()).getTime();\n\n    if (!trackClick) {\n      if (!activeSelection && needsFastClick) {\n        if (!(Device.android && !e.cancelable) && e.cancelable) {\n          e.preventDefault();\n        }\n      }\n      if (params.activeState) removeActive();\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n\n    if (document.activeElement === e.target) {\n      if (params.activeState) removeActive();\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n\n    if (!activeSelection) {\n      e.preventDefault();\n    }\n\n    if ((touchEndTime - lastClickTime) < params.fastClicksDelayBetweenClicks) {\n      setTimeout(removeActive, 0);\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n\n    lastClickTime = touchEndTime;\n\n    trackClick = false;\n\n    if (Device.ios && scrollParent) {\n      if (scrollParent.scrollTop !== scrollParent.f7ScrollTop) {\n        return false;\n      }\n    }\n\n    // Add active-state here because, in a very fast tap, the timeout didn't\n    // have the chance to execute. Removing active-state in a timeout gives\n    // the chance to the animation execute.\n    if (params.activeState) {\n      addActive();\n      setTimeout(removeActive, 0);\n    }\n    // Remove Ripple\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n\n    // Trigger focus when required\n    if (targetNeedsFocus(targetElement)) {\n      if (Device.ios && Device.webView) {\n        targetElement.focus();\n        return false;\n      }\n\n      targetElement.focus();\n    }\n\n    // Blur active elements\n    if (document.activeElement && targetElement !== document.activeElement && document.activeElement !== document.body && targetElement.nodeName.toLowerCase() !== 'label') {\n      document.activeElement.blur();\n    }\n\n    // Send click\n    e.preventDefault();\n    if (params.tapHoldPreventClicks && tapHoldFired) {\n      return false;\n    }\n    sendClick(e);\n    return false;\n  }\n  function handleTouchCancel() {\n    trackClick = false;\n    targetElement = null;\n\n    // Remove Active State\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (params.activeState) {\n      removeActive();\n    }\n\n    // Remove Ripple\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  function handleClick(e) {\n    let allowClick = false;\n    if (trackClick) {\n      targetElement = null;\n      trackClick = false;\n      return true;\n    }\n    if ((e.target.type === 'submit' && e.detail === 0) || e.target.type === 'file') {\n      return true;\n    }\n    if (!targetElement) {\n      if (!isFormElement(e.target)) {\n        allowClick = true;\n      }\n    }\n    if (!needsFastClick) {\n      allowClick = true;\n    }\n    if (document.activeElement === targetElement) {\n      allowClick = true;\n    }\n    if (e.forwardedTouchEvent) {\n      allowClick = true;\n    }\n    if (!e.cancelable) {\n      allowClick = true;\n    }\n    if (params.tapHold && params.tapHoldPreventClicks && tapHoldFired) {\n      allowClick = false;\n    }\n    if (!allowClick) {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      if (targetElement) {\n        if (targetNeedsPrevent(targetElement) || isMoved) {\n          e.preventDefault();\n        }\n      } else {\n        e.preventDefault();\n      }\n      targetElement = null;\n    }\n    needsFastClickTimeOut = setTimeout(() => {\n      needsFastClick = false;\n    }, (Device.ios || Device.androidChrome ? 100 : 400));\n\n    if (params.tapHold) {\n      tapHoldTimeout = setTimeout(() => {\n        tapHoldFired = false;\n      }, (Device.ios || Device.androidChrome ? 100 : 400));\n    }\n\n    return allowClick;\n  }\n\n  function handleTouchStartLight(e) {\n    isMoved = false;\n    tapHoldFired = false;\n    preventClick = false;\n    if (e.targetTouches.length > 1) {\n      if (activableElement) removeActive();\n      return true;\n    }\n    if (e.touches.length > 1 && activableElement) {\n      removeActive();\n    }\n    if (params.tapHold) {\n      if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n      tapHoldTimeout = setTimeout(() => {\n        if (e && e.touches && e.touches.length > 1) return;\n        tapHoldFired = true;\n        e.preventDefault();\n        preventClick = true;\n        $(e.target).trigger('taphold');\n      }, params.tapHoldDelay);\n    }\n    targetElement = e.target;\n    touchStartX = e.targetTouches[0].pageX;\n    touchStartY = e.targetTouches[0].pageY;\n\n    if (params.activeState) {\n      activableElement = findActivableElement(targetElement);\n      if (!isInsideScrollableViewLight(activableElement)) {\n        addActive();\n      } else {\n        activeTimeout = setTimeout(addActive, 80);\n      }\n    }\n    if (useRipple) {\n      rippleTouchStart(targetElement, touchStartX, touchStartY);\n    }\n    return true;\n  }\n  function handleTouchMoveLight(e) {\n    let touch;\n    let distance;\n    if (e.type === 'touchmove') {\n      touch = e.targetTouches[0];\n      distance = params.touchClicksDistanceThreshold;\n      // if (touch && touch.touchType === 'stylus') {\n      //   distance = 5;\n      // } else {\n      //   distance = 3;\n      // }\n    }\n\n    if (distance && touch) {\n      const pageX = touch.pageX;\n      const pageY = touch.pageY;\n      if (Math.abs(pageX - touchStartX) > distance || Math.abs(pageY - touchStartY) > distance) {\n        isMoved = true;\n      }\n    } else {\n      isMoved = true;\n    }\n    if (isMoved) {\n      preventClick = true;\n      if (params.tapHold) {\n        clearTimeout(tapHoldTimeout);\n      }\n      if (params.activeState) {\n        clearTimeout(activeTimeout);\n        removeActive();\n      }\n      if (useRipple) {\n        rippleTouchMove();\n      }\n    }\n  }\n  function handleTouchEndLight(e) {\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (document.activeElement === e.target) {\n      if (params.activeState) removeActive();\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n    if (params.activeState) {\n      addActive();\n      setTimeout(removeActive, 0);\n    }\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n    if ((params.tapHoldPreventClicks && tapHoldFired) || preventClick) {\n      if (e.cancelable) e.preventDefault();\n      preventClick = true;\n      return false;\n    }\n    return true;\n  }\n  function handleClickLight(e) {\n    const isOverswipe = e && e.detail && e.detail === 'f7Overswipe';\n    let localPreventClick = preventClick;\n    if (targetElement && e.target !== targetElement) {\n      if (isOverswipe) {\n        localPreventClick = false;\n      } else {\n        localPreventClick = true;\n      }\n    }\n    if (params.tapHold && params.tapHoldPreventClicks && tapHoldFired) {\n      localPreventClick = true;\n    }\n    if (localPreventClick) {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    if (params.tapHold) {\n      tapHoldTimeout = setTimeout(\n        () => {\n          tapHoldFired = false;\n        },\n        (Device.ios || Device.androidChrome ? 100 : 400)\n      );\n    }\n    preventClick = false;\n    targetElement = null;\n\n    return !localPreventClick;\n  }\n\n  function emitAppTouchEvent(name, e) {\n    app.emit({\n      events: name,\n      data: [e],\n    });\n  }\n  function appClick(e) {\n    emitAppTouchEvent('click', e);\n  }\n  function appTouchStartActive(e) {\n    emitAppTouchEvent('touchstart touchstart:active', e);\n  }\n  function appTouchMoveActive(e) {\n    emitAppTouchEvent('touchmove touchmove:active', e);\n  }\n  function appTouchEndActive(e) {\n    emitAppTouchEvent('touchend touchend:active', e);\n  }\n  function appTouchStartPassive(e) {\n    emitAppTouchEvent('touchstart:passive', e);\n  }\n  function appTouchMovePassive(e) {\n    emitAppTouchEvent('touchmove:passive', e);\n  }\n  function appTouchEndPassive(e) {\n    emitAppTouchEvent('touchend:passive', e);\n  }\n\n  const passiveListener = Support.passiveListener ? { passive: true } : false;\n  const activeListener = Support.passiveListener ? { passive: false } : false;\n\n  document.addEventListener('click', appClick, true);\n\n  if (Support.passiveListener) {\n    document.addEventListener(app.touchEvents.start, appTouchStartActive, activeListener);\n    document.addEventListener(app.touchEvents.move, appTouchMoveActive, activeListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndActive, activeListener);\n\n    document.addEventListener(app.touchEvents.start, appTouchStartPassive, passiveListener);\n    document.addEventListener(app.touchEvents.move, appTouchMovePassive, passiveListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndPassive, passiveListener);\n  } else {\n    document.addEventListener(app.touchEvents.start, (e) => {\n      appTouchStartActive(e);\n      appTouchStartPassive(e);\n    }, false);\n    document.addEventListener(app.touchEvents.move, (e) => {\n      appTouchMoveActive(e);\n      appTouchMovePassive(e);\n    }, false);\n    document.addEventListener(app.touchEvents.end, (e) => {\n      appTouchEndActive(e);\n      appTouchEndPassive(e);\n    }, false);\n  }\n\n  if (Support.touch) {\n    if (params.fastClicks) {\n      app.on('click', handleClick);\n      app.on('touchstart', handleTouchStart);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend', handleTouchEnd);\n    } else {\n      app.on('click', handleClickLight);\n      app.on('touchstart', handleTouchStartLight);\n      app.on('touchmove', handleTouchMoveLight);\n      app.on('touchend', handleTouchEndLight);\n    }\n\n    document.addEventListener('touchcancel', handleTouchCancel, { passive: true });\n  } else if (params.activeState) {\n    app.on('touchstart', handleMouseDown);\n    app.on('touchmove', handleMouseMove);\n    app.on('touchend', handleMouseUp);\n  }\n  document.addEventListener('contextmenu', (e) => {\n    if (params.disableContextMenu && (Device.ios || Device.android || Device.cordova)) {\n      e.preventDefault();\n    }\n    if (useRipple) {\n      if (activableElement) removeActive();\n      rippleTouchEnd();\n    }\n  });\n}\n\nexport default {\n  name: 'touch',\n  params: {\n    touch: {\n      // Fast clicks\n      fastClicks: false,\n      fastClicksDistanceThreshold: 10,\n      fastClicksDelayBetweenClicks: 50,\n      fastClicksExclude: '', // CSS selector\n      // Clicks\n      touchClicksDistanceThreshold: 5,\n      // ContextMenu\n      disableContextMenu: false,\n      // Tap Hold\n      tapHold: false,\n      tapHoldDelay: 750,\n      tapHoldPreventClicks: true,\n      // Active State\n      activeState: true,\n      activeStateElements: 'a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link',\n      mdTouchRipple: true,\n      iosTouchRipple: false,\n      auroraTouchRipple: false,\n      touchRippleElements: '.ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content',\n    },\n  },\n  instance: {\n    touchEvents: {\n      start: Support.touch ? 'touchstart' : 'mousedown',\n      move: Support.touch ? 'touchmove' : 'mousemove',\n      end: Support.touch ? 'touchend' : 'mouseup',\n    },\n  },\n  on: {\n    init: initTouch,\n  },\n};\n","import $ from 'dom7';\nimport { window /* , document */ } from 'ssr-window';\n// import Device from '../../utils/device';\n// import Support from '../../utils/support';\nimport ViewClass from '../../components/view/view-class';\n\nfunction initClicks(app) {\n  function handleClicks(e) {\n    const $clickedEl = $(e.target);\n    const $clickedLinkEl = $clickedEl.closest('a');\n    const isLink = $clickedLinkEl.length > 0;\n    const url = isLink && $clickedLinkEl.attr('href');\n    // const isTabLink = isLink && $clickedLinkEl.hasClass('tab-link') && ($clickedLinkEl.attr('data-tab') || (url && url.indexOf('#') === 0));\n\n    // Check if link is external\n    if (isLink) {\n      // eslint-disable-next-line\n      if ($clickedLinkEl.is(app.params.clicks.externalLinks) || (url && url.indexOf('javascript:') >= 0)) {\n        const target = $clickedLinkEl.attr('target');\n        if (\n          url\n          && window.cordova\n          && window.cordova.InAppBrowser\n          && (target === '_system' || target === '_blank')\n        ) {\n          e.preventDefault();\n          window.cordova.InAppBrowser.open(url, target);\n        }\n        return;\n      }\n    }\n\n    // Modules Clicks\n    Object.keys(app.modules).forEach((moduleName) => {\n      const moduleClicks = app.modules[moduleName].clicks;\n      if (!moduleClicks) return;\n      if (e.preventF7Router) return;\n      Object.keys(moduleClicks).forEach((clickSelector) => {\n        const matchingClickedElement = $clickedEl.closest(clickSelector).eq(0);\n        if (matchingClickedElement.length > 0) {\n          moduleClicks[clickSelector].call(app, matchingClickedElement, matchingClickedElement.dataset(), e);\n        }\n      });\n    });\n\n    // Load Page\n    let clickedLinkData = {};\n    if (isLink) {\n      e.preventDefault();\n      clickedLinkData = $clickedLinkEl.dataset();\n    }\n\n    // Prevent Router\n    if (e.preventF7Router) return;\n    if ($clickedLinkEl.hasClass('prevent-router') || $clickedLinkEl.hasClass('router-prevent')) return;\n\n    const validUrl = url && url.length > 0 && url[0] !== '#';\n    if (validUrl || $clickedLinkEl.hasClass('back')) {\n      let view;\n      if (clickedLinkData.view) {\n        view = $(clickedLinkData.view)[0].f7View;\n      } else {\n        view = $clickedEl.parents('.view')[0] && $clickedEl.parents('.view')[0].f7View;\n        if (!$clickedLinkEl.hasClass('back') && view && view.params.linksView) {\n          if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].f7View;\n          else if (view.params.linksView instanceof ViewClass) view = view.params.linksView;\n        }\n      }\n      if (!view) {\n        if (app.views.main) view = app.views.main;\n      }\n      if (!view || !view.router) return;\n      if (clickedLinkData.context && typeof clickedLinkData.context === 'string') {\n        try {\n          clickedLinkData.context = JSON.parse(clickedLinkData.context);\n        } catch (err) {\n          // something wrong there\n        }\n      }\n      if ($clickedLinkEl[0].f7RouteProps) {\n        clickedLinkData.props = $clickedLinkEl[0].f7RouteProps;\n      }\n      if ($clickedLinkEl.hasClass('back')) view.router.back(url, clickedLinkData);\n      else view.router.navigate(url, clickedLinkData);\n    }\n  }\n\n  app.on('click', handleClicks);\n\n  // TODO: check if need this in iOS\n  // Prevent scrolling on overlays\n  // function preventScrolling(e) {\n  //   e.preventDefault();\n  // }\n  // if (Support.touch && !Device.android) {\n  //   const activeListener = Support.passiveListener ? { passive: false, capture: false } : false;\n  //   $(document).on((app.params.touch.fastClicks ? 'touchstart' : 'touchmove'), '.panel-backdrop, .dialog-backdrop, .preloader-backdrop, .popup-backdrop, .searchbar-backdrop', preventScrolling, activeListener);\n  // }\n}\nexport default {\n  name: 'clicks',\n  params: {\n    clicks: {\n      // External Links\n      externalLinks: '.external',\n    },\n  },\n  on: {\n    init() {\n      const app = this;\n      initClicks(app);\n    },\n  },\n};\n","import Template7 from 'template7';\nimport Utils from '../../utils/utils';\n\nexport default {\n  name: 'routerTemplateLoader',\n  proto: {\n    templateLoader(template, templateUrl, options, resolve, reject) {\n      const router = this;\n      function compile(t) {\n        let compiledHtml;\n        let context;\n        try {\n          context = options.context || {};\n          if (typeof context === 'function') context = context.call(router);\n          else if (typeof context === 'string') {\n            try {\n              context = JSON.parse(context);\n            } catch (err) {\n              reject();\n              throw (err);\n            }\n          }\n          if (typeof t === 'function') {\n            compiledHtml = t(context);\n          } else {\n            compiledHtml = Template7.compile(t)(Utils.extend({}, context || {}, {\n              $app: router.app,\n              $root: Utils.extend({}, router.app.data, router.app.methods),\n              $route: options.route,\n              $f7route: options.route,\n              $router: router,\n              $f7router: router,\n              $theme: {\n                ios: router.app.theme === 'ios',\n                md: router.app.theme === 'md',\n                aurora: router.app.theme === 'aurora',\n              },\n            }));\n          }\n        } catch (err) {\n          reject();\n          throw (err);\n        }\n        resolve(compiledHtml, { context });\n      }\n      if (templateUrl) {\n        // Load via XHR\n        if (router.xhr) {\n          router.xhr.abort();\n          router.xhr = false;\n        }\n        router\n          .xhrRequest(templateUrl, options)\n          .then((templateContent) => {\n            compile(templateContent);\n          })\n          .catch(() => {\n            reject();\n          });\n      } else {\n        compile(template);\n      }\n    },\n\n    modalTemplateLoader(template, templateUrl, options, resolve, reject) {\n      const router = this;\n      return router.templateLoader(template, templateUrl, options, (html) => {\n        resolve(html);\n      }, reject);\n    },\n\n    tabTemplateLoader(template, templateUrl, options, resolve, reject) {\n      const router = this;\n      return router.templateLoader(template, templateUrl, options, (html) => {\n        resolve(html);\n      }, reject);\n    },\n\n    pageTemplateLoader(template, templateUrl, options, resolve, reject) {\n      const router = this;\n      return router.templateLoader(template, templateUrl, options, (html, newOptions = {}) => {\n        resolve(router.getPageEl(html), newOptions);\n      }, reject);\n    },\n  },\n};\n","import Utils from '../../utils/utils';\n\nexport default {\n  name: 'routerComponentLoader',\n  proto: {\n    componentLoader(component, componentUrl, options = {}, resolve, reject) {\n      const router = this;\n      const { app } = router;\n      const url = typeof component === 'string' ? component : componentUrl;\n      const compiledUrl = router.replaceRequestUrlParams(url, options);\n      function compile(componentOptions) {\n        let context = options.context || {};\n        if (typeof context === 'function') context = context.call(router);\n        else if (typeof context === 'string') {\n          try {\n            context = JSON.parse(context);\n          } catch (err) {\n            reject();\n            throw (err);\n          }\n        }\n        const extendContext = Utils.merge(\n          {},\n          context,\n          {\n            $route: options.route,\n            $f7route: options.route,\n            $router: router,\n            $f7router: router,\n            $theme: {\n              ios: app.theme === 'ios',\n              md: app.theme === 'md',\n              aurora: app.theme === 'aurora',\n            },\n          }\n        );\n        const createdComponent = app.component.create(componentOptions, extendContext);\n        resolve(createdComponent.el);\n      }\n      let cachedComponent;\n      if (compiledUrl) {\n        router.cache.components.forEach((cached) => {\n          if (cached.url === compiledUrl) cachedComponent = cached.component;\n        });\n      }\n      if (compiledUrl && cachedComponent) {\n        compile(cachedComponent);\n      } else if (compiledUrl && !cachedComponent) {\n        // Load via XHR\n        if (router.xhr) {\n          router.xhr.abort();\n          router.xhr = false;\n        }\n        router\n          .xhrRequest(url, options)\n          .then((loadedComponent) => {\n            const parsedComponent = app.component.parse(loadedComponent);\n            router.cache.components.push({\n              url: compiledUrl,\n              component: parsedComponent,\n            });\n            compile(parsedComponent);\n          })\n          .catch((err) => {\n            reject();\n            throw (err);\n          });\n      } else {\n        compile(component);\n      }\n    },\n\n    modalComponentLoader(rootEl, component, componentUrl, options, resolve, reject) {\n      const router = this;\n      router.componentLoader(component, componentUrl, options, (el) => {\n        resolve(el);\n      }, reject);\n    },\n\n    tabComponentLoader(tabEl, component, componentUrl, options, resolve, reject) {\n      const router = this;\n      router.componentLoader(component, componentUrl, options, (el) => {\n        resolve(el);\n      }, reject);\n    },\n\n    pageComponentLoader(routerEl, component, componentUrl, options, resolve, reject) {\n      const router = this;\n      router.componentLoader(component, componentUrl, options, (el, newOptions = {}) => {\n        resolve(el, newOptions);\n      }, reject);\n    },\n  },\n};\n","import History from '../../utils/history';\n\nexport default {\n  name: 'history',\n  static: {\n    history: History,\n  },\n  on: {\n    init() {\n      History.init(this);\n    },\n  },\n};\n","import { window } from 'ssr-window';\n\nconst keyPrefix = 'f7storage-';\nconst Storage = {\n  get(key) {\n    return new Promise((resolve, reject) => {\n      try {\n        const value = JSON.parse(window.localStorage.getItem(`${keyPrefix}${key}`));\n        resolve(value);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n  set(key, value) {\n    return new Promise((resolve, reject) => {\n      try {\n        window.localStorage.setItem(`${keyPrefix}${key}`, JSON.stringify(value));\n        resolve();\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n  remove(key) {\n    return new Promise((resolve, reject) => {\n      try {\n        window.localStorage.removeItem(`${keyPrefix}${key}`);\n        resolve();\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n  clear() {\n\n  },\n  length() {\n\n  },\n  keys() {\n    return new Promise((resolve, reject) => {\n      try {\n        const keys = Object.keys(window.localStorage)\n          .filter(keyName => keyName.indexOf(keyPrefix) === 0)\n          .map(keyName => keyName.replace(keyPrefix, ''));\n        resolve(keys);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n  forEach(callback) {\n    return new Promise((resolve, reject) => {\n      try {\n        Object.keys(window.localStorage)\n          .filter(keyName => keyName.indexOf(keyPrefix) === 0)\n          .forEach((keyName, index) => {\n            const key = keyName.replace(keyPrefix, '');\n            Storage.get(key).then((value) => {\n              callback(key, value, index);\n            });\n          });\n        resolve();\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n};\n\nexport default {\n  name: 'storage',\n  static: {\n    Storage,\n    storage: Storage,\n  },\n};\n","export function vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n//# sourceMappingURL=vnode.js.map","export var array = Array.isArray;\nexport function primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\n//# sourceMappingURL=is.js.map","import { vnode } from './vnode';\nimport * as is from './is';\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n;\nexport default h;\n//# sourceMappingURL=h.js.map","/* eslint no-use-before-define: \"off\" */\n/* eslint import/no-named-as-default: \"off\" */\nimport { window, document } from 'ssr-window';\nimport h from './snabbdom/h';\n\nconst selfClosing = 'area base br col command embed hr img input keygen link menuitem meta param source track wbr'.split(' ');\nconst propsAttrs = 'hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple value indeterminate'.split(' ');\nconst booleanProps = 'hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple readOnly indeterminate'.split(' ');\nconst tempDom = document.createElement('div');\n\nfunction getHooks(data, app, initial, isRoot) {\n  const hooks = {};\n  if (!data || !data.attrs || !data.attrs.class) return hooks;\n  const classNames = data.attrs.class;\n  const insert = [];\n  const destroy = [];\n  const update = [];\n  const postpatch = [];\n  classNames.split(' ').forEach((className) => {\n    if (!initial) {\n      insert.push(...app.getVnodeHooks('insert', className));\n    }\n    destroy.push(...app.getVnodeHooks('destroy', className));\n    update.push(...app.getVnodeHooks('update', className));\n    postpatch.push(...app.getVnodeHooks('postpatch', className));\n  });\n\n  if (isRoot && !initial) {\n    postpatch.push((oldVnode, vnode) => {\n      const vn = vnode || oldVnode;\n      if (!vn) return;\n      if (vn.data && vn.data.context && vn.data.context.$options.updated) {\n        vn.data.context.$options.updated();\n      }\n    });\n  }\n  if (insert.length === 0 && destroy.length === 0 && update.length === 0 && postpatch.length === 0) {\n    return hooks;\n  }\n  if (insert.length) {\n    hooks.insert = (vnode) => {\n      insert.forEach(f => f(vnode));\n    };\n  }\n  if (destroy.length) {\n    hooks.destroy = (vnode) => {\n      destroy.forEach(f => f(vnode));\n    };\n  }\n  if (update.length) {\n    hooks.update = (oldVnode, vnode) => {\n      update.forEach(f => f(oldVnode, vnode));\n    };\n  }\n  if (postpatch.length) {\n    hooks.postpatch = (oldVnode, vnode) => {\n      postpatch.forEach(f => f(oldVnode, vnode));\n    };\n  }\n\n  return hooks;\n}\nfunction getEventHandler(handlerString, context, { stop, prevent, once } = {}) {\n  let fired = false;\n  let methodName;\n  let method;\n  let customArgs = [];\n  let needMethodBind = true;\n\n  if (handlerString.indexOf('(') < 0) {\n    methodName = handlerString;\n  } else {\n    methodName = handlerString.split('(')[0];\n  }\n  if (methodName.indexOf('.') >= 0) {\n    methodName.split('.').forEach((path, pathIndex) => {\n      if (pathIndex === 0 && path === 'this') return;\n      if (pathIndex === 0 && path === 'window') {\n        // eslint-disable-next-line\n        method = window;\n        needMethodBind = false;\n        return;\n      }\n      if (!method) method = context;\n      if (method[path]) method = method[path];\n      else {\n        throw new Error(`Framework7: Component doesn't have method \"${methodName.split('.').slice(0, pathIndex + 1).join('.')}\"`);\n      }\n    });\n  } else {\n    if (!context[methodName]) {\n      throw new Error(`Framework7: Component doesn't have method \"${methodName}\"`);\n    }\n    method = context[methodName];\n  }\n  if (needMethodBind) {\n    method = method.bind(context);\n  }\n\n  function handler(...args) {\n    const e = args[0];\n    if (once && fired) return;\n    if (stop) e.stopPropagation();\n    if (prevent) e.preventDefault();\n    fired = true;\n\n    if (handlerString.indexOf('(') < 0) {\n      customArgs = args;\n    } else {\n      const handlerArguments = handlerString\n        .split('(')[1]\n        .split(')')[0]\n        .replace(/'[^']*'|\"[^\"]*\"/g, a => a.replace(/,/g, '<_comma_>'))\n        .split(',')\n        .map(a => a.replace(/<_comma_>/g, ','));\n      handlerArguments.forEach((argument) => {\n        let arg = argument.trim();\n        // eslint-disable-next-line\n        if (!isNaN(arg)) arg = parseFloat(arg);\n        else if (arg === 'true') arg = true;\n        else if (arg === 'false') arg = false;\n        else if (arg === 'null') arg = null;\n        else if (arg === 'undefined') arg = undefined;\n        else if (arg[0] === '\"') arg = arg.replace(/\"/g, '');\n        else if (arg[0] === '\\'') arg = arg.replace(/'/g, '');\n        else if (arg.indexOf('.') > 0) {\n          let deepArg;\n          arg.split('.').forEach((path) => {\n            if (!deepArg) deepArg = context;\n            deepArg = deepArg[path];\n          });\n          arg = deepArg;\n        } else {\n          arg = context[arg];\n        }\n        customArgs.push(arg);\n      });\n    }\n\n    method(...customArgs);\n  }\n\n  return handler;\n}\n\nfunction getData(el, context, app, initial, isRoot) {\n  const data = {\n    context,\n  };\n  const attributes = el.attributes;\n  Array.prototype.forEach.call(attributes, (attr) => {\n    let attrName = attr.name;\n    const attrValue = attr.value;\n    if (propsAttrs.indexOf(attrName) >= 0) {\n      // Props\n      if (!data.props) data.props = {};\n      if (attrName === 'readonly') {\n        attrName = 'readOnly';\n      }\n      if (booleanProps.indexOf(attrName) >= 0) {\n        // eslint-disable-next-line\n        data.props[attrName] = attrValue === false ? false : true;\n      } else {\n        data.props[attrName] = attrValue;\n      }\n    } else if (attrName === 'key') {\n      // Key\n      data.key = attrValue;\n    } else if (attrName.indexOf('@') === 0) {\n      // Events\n      if (!data.on) data.on = {};\n      let eventName = attrName.substr(1);\n      let stop = false;\n      let prevent = false;\n      let once = false;\n      if (eventName.indexOf('.') >= 0) {\n        eventName.split('.').forEach((eventNamePart, eventNameIndex) => {\n          if (eventNameIndex === 0) eventName = eventNamePart;\n          else {\n            if (eventNamePart === 'stop') stop = true;\n            if (eventNamePart === 'prevent') prevent = true;\n            if (eventNamePart === 'once') once = true;\n          }\n        });\n      }\n      data.on[eventName] = getEventHandler(attrValue, context, { stop, prevent, once });\n    } else if (attrName === 'style') {\n      // Style\n      if (attrValue.indexOf('{') >= 0 && attrValue.indexOf('}') >= 0) {\n        try {\n          data.style = JSON.parse(attrValue);\n        } catch (e) {\n          if (!data.attrs) data.attrs = {};\n          data.attrs.style = attrValue;\n        }\n      } else {\n        if (!data.attrs) data.attrs = {};\n        data.attrs.style = attrValue;\n      }\n    } else {\n      // Rest of attribures\n      if (!data.attrs) data.attrs = {};\n      data.attrs[attrName] = attrValue;\n\n      // ID -> Key\n      if (attrName === 'id' && !data.key && !isRoot) {\n        data.key = attrValue;\n      }\n    }\n  });\n  const hooks = getHooks(data, app, initial, isRoot);\n  hooks.prepatch = (oldVnode, vnode) => {\n    if (!oldVnode || !vnode) return;\n    if (oldVnode && oldVnode.data && oldVnode.data.props) {\n      Object.keys(oldVnode.data.props).forEach((key) => {\n        if (booleanProps.indexOf(key) < 0) return;\n        if (!vnode.data) vnode.data = {};\n        if (!vnode.data.props) vnode.data.props = {};\n        if (oldVnode.data.props[key] === true && !(key in vnode.data.props)) {\n          vnode.data.props[key] = false;\n        }\n      });\n    }\n  };\n  if (hooks) {\n    data.hook = hooks;\n  }\n  return data;\n}\n\nfunction getChildren(el, context, app, initial) {\n  const children = [];\n  const nodes = el.childNodes;\n  for (let i = 0; i < nodes.length; i += 1) {\n    const childNode = nodes[i];\n    const child = elementToVNode(childNode, context, app, initial);\n    if (child) {\n      children.push(child);\n    }\n  }\n  return children;\n}\n\nfunction elementToVNode(el, context, app, initial, isRoot) {\n  if (el.nodeType === 1) {\n    // element (statement adds inline SVG compatibility)\n    const tagName = (el instanceof window.SVGElement) ? el.nodeName : el.nodeName.toLowerCase();\n    return h(\n      tagName,\n      getData(el, context, app, initial, isRoot),\n      selfClosing.indexOf(tagName) >= 0 ? [] : getChildren(el, context, app, initial)\n    );\n  }\n  if (el.nodeType === 3) {\n    // text\n    return el.textContent;\n  }\n  return null;\n}\n\nexport default function (html = '', context, app, initial) {\n  // Save to temp dom\n  tempDom.innerHTML = html.trim();\n\n  // Parse DOM\n  let rootEl;\n  for (let i = 0; i < tempDom.childNodes.length; i += 1) {\n    if (!rootEl && tempDom.childNodes[i].nodeType === 1) {\n      rootEl = tempDom.childNodes[i];\n    }\n  }\n  const result = elementToVNode(rootEl, context, app, initial, true);\n\n  // Clean\n  tempDom.innerHTML = '';\n\n  return result;\n}\n","function createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    if (!node) return;\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexport var htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nexport default htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map","import vnode from './vnode';\nimport * as is from './is';\nimport htmlDomApi from './htmldomapi';\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nexport { h } from './h';\nexport { thunk } from './thunk';\nexport function init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmlDomApi;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.setAttribute('id', sel.slice(hash + 1, dot));\n            if (dotIdx > 0)\n                elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n            if (oldStartIdx > oldEndIdx) {\n                before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n                addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n            }\n            else {\n                removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n            }\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\n//# sourceMappingURL=snabbdom.js.map","var xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar colonChar = 58;\nvar xChar = 120;\nfunction updateAttrs(oldVnode, vnode) {\n    var key, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs;\n    if (!oldAttrs && !attrs)\n        return;\n    if (oldAttrs === attrs)\n        return;\n    oldAttrs = oldAttrs || {};\n    attrs = attrs || {};\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, \"\");\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport var attributesModule = { create: updateAttrs, update: updateAttrs };\nexport default attributesModule;\n//# sourceMappingURL=attributes.js.map","function updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexport var propsModule = { create: updateProps, update: updateProps };\nexport default propsModule;\n//# sourceMappingURL=props.js.map","var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed' && style.delayed) {\n            for (var name2 in style.delayed) {\n                cur = style.delayed[name2];\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                    setNextFrame(elm.style, name2, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nexport var styleModule = {\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nexport default styleModule;\n//# sourceMappingURL=style.js.map","import $ from 'dom7';\n\nfunction invokeHandler(handler, event, args) {\n  if (typeof handler === 'function') {\n    // call function handler\n    handler(event, ...args);\n  }\n}\nfunction handleEvent(event, args, vnode) {\n  const name = event.type;\n  const on = vnode.data.on;\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], event, args, vnode);\n  }\n}\nfunction createListener() {\n  return function handler(event, ...args) {\n    handleEvent(event, args, handler.vnode);\n  };\n}\nfunction updateEvents(oldVnode, vnode) {\n  const oldOn = oldVnode.data.on;\n  const oldListener = oldVnode.listener;\n  const oldElm = oldVnode.elm;\n  const on = vnode && vnode.data.on;\n  const elm = (vnode && vnode.elm);\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      Object.keys(oldOn).forEach((name) => {\n        $(oldElm).off(name, oldListener);\n      });\n    } else {\n      Object.keys(oldOn).forEach((name) => {\n        if (!on[name]) {\n          $(oldElm).off(name, oldListener);\n        }\n      });\n    }\n  }\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    const listener = oldVnode.listener || createListener();\n    vnode.listener = listener;\n    // update vnode for listener\n    listener.vnode = vnode;\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      Object.keys(on).forEach((name) => {\n        $(elm).on(name, listener);\n      });\n    } else {\n      Object.keys(on).forEach((name) => {\n        if (!oldOn[name]) {\n          $(elm).on(name, listener);\n        }\n      });\n    }\n  }\n}\n\nexport default {\n  create: updateEvents,\n  update: updateEvents,\n  destroy: updateEvents,\n};\n","/* eslint import/no-named-as-default: off */\nimport { init } from './snabbdom/snabbdom';\nimport attributesModule from './snabbdom/modules/attributes';\nimport propsModule from './snabbdom/modules/props';\nimport styleModule from './snabbdom/modules/style';\nimport eventListenersModule from './eventslisteners';\n\nconst patch = init([\n  attributesModule,\n  propsModule,\n  styleModule,\n  eventListenersModule,\n]);\n\nexport default patch;\n","import { window, document } from 'ssr-window';\nimport $ from 'dom7';\nimport Template7 from 'template7';\nimport Utils from '../../utils/utils';\nimport vdom from './vdom';\nimport patch from './patch';\n\nclass Framework7Component {\n  constructor(app, options, extendContext = {}) {\n    const id = Utils.id();\n    const self = Utils.merge(\n      this,\n      extendContext,\n      {\n        $,\n        $$: $,\n        $dom7: $,\n        $app: app,\n        $f7: app,\n        $options: Utils.extend({ id }, options),\n        $id: options.id || id,\n      }\n    );\n    const { $options } = self;\n\n    // Root data and methods\n    Object.defineProperty(self, '$root', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        let root = Utils.merge({}, app.data, app.methods);\n        if (window && window.Proxy) {\n          root = new window.Proxy(root, {\n            set(target, name, val) {\n              app.data[name] = val;\n            },\n            deleteProperty(target, name) {\n              delete app.data[name];\n              delete app.methods[name];\n            },\n            has(target, name) {\n              return (name in app.data || name in app.methods);\n            },\n          });\n        }\n        return root;\n      },\n      set() {},\n    });\n\n    // Apply context\n    ('beforeCreate created beforeMount mounted beforeDestroy destroyed updated').split(' ').forEach((cycleKey) => {\n      if ($options[cycleKey]) $options[cycleKey] = $options[cycleKey].bind(self);\n    });\n\n    if ($options.data) {\n      $options.data = $options.data.bind(self);\n      // Data\n      Utils.extend(self, $options.data());\n    }\n    if ($options.render) $options.render = $options.render.bind(self);\n    if ($options.methods) {\n      Object.keys($options.methods).forEach((methodName) => {\n        self[methodName] = $options.methods[methodName].bind(self);\n      });\n    }\n\n    // Bind Events\n    if ($options.on) {\n      Object.keys($options.on).forEach((eventName) => {\n        $options.on[eventName] = $options.on[eventName].bind(self);\n      });\n    }\n    if ($options.once) {\n      Object.keys($options.once).forEach((eventName) => {\n        $options.once[eventName] = $options.once[eventName].bind(self);\n      });\n    }\n\n    // Before create hook\n    if ($options.beforeCreate) $options.beforeCreate();\n\n    // Render\n    let html = self.$render();\n\n    // Make Dom\n    if (html && typeof html === 'string') {\n      html = html.trim();\n      self.$vnode = vdom(html, self, app, true);\n      self.el = document.createElement(self.$vnode.sel || 'div');\n      patch(self.el, self.$vnode);\n    } else if (html) {\n      self.el = html;\n    }\n    self.$el = $(self.el);\n\n    // Set styles scope ID\n    if ($options.style) {\n      self.$styleEl = document.createElement('style');\n      self.$styleEl.innerHTML = $options.style;\n      if ($options.styleScoped) {\n        self.el.setAttribute(`data-f7-${$options.id}`, '');\n      }\n    }\n\n    self.$attachEvents();\n\n    // Created callback\n    if ($options.created) $options.created();\n\n    // Store component instance\n    self.el.f7Component = self;\n\n    return self;\n  }\n\n  $attachEvents() {\n    const self = this;\n    const { $options, $el } = self;\n    if ($options.on) {\n      Object.keys($options.on).forEach((eventName) => {\n        $el.on(Utils.eventNameToColonCase(eventName), $options.on[eventName]);\n      });\n    }\n    if ($options.once) {\n      Object.keys($options.once).forEach((eventName) => {\n        $el.once(Utils.eventNameToColonCase(eventName), $options.once[eventName]);\n      });\n    }\n  }\n\n  $detachEvents() {\n    const self = this;\n    const { $options, $el } = self;\n    if ($options.on) {\n      Object.keys($options.on).forEach((eventName) => {\n        $el.off(Utils.eventNameToColonCase(eventName), $options.on[eventName]);\n      });\n    }\n    if ($options.once) {\n      Object.keys($options.once).forEach((eventName) => {\n        $el.off(Utils.eventNameToColonCase(eventName), $options.once[eventName]);\n      });\n    }\n  }\n\n  $render() {\n    const self = this;\n    const { $options } = self;\n    let html = '';\n    if ($options.render) {\n      html = $options.render();\n    } else if ($options.template) {\n      if (typeof $options.template === 'string') {\n        try {\n          html = Template7.compile($options.template)(self);\n        } catch (err) {\n          throw err;\n        }\n      } else {\n        // Supposed to be function\n        html = $options.template(self);\n      }\n    }\n    return html;\n  }\n\n  $forceUpdate() {\n    const self = this;\n    let html = self.$render();\n\n    // Make Dom\n    if (html && typeof html === 'string') {\n      html = html.trim();\n      const newVNode = vdom(html, self, self.$app);\n      self.$vnode = patch(self.$vnode, newVNode);\n    }\n  }\n\n  $setState(mergeState) {\n    const self = this;\n    Utils.merge(self, mergeState);\n    self.$forceUpdate();\n  }\n\n  $mount(mountMethod) {\n    const self = this;\n    if (self.$options.beforeMount) self.$options.beforeMount();\n    if (self.$styleEl) $('head').append(self.$styleEl);\n    if (mountMethod) mountMethod(self.el);\n    if (self.$options.mounted) self.$options.mounted();\n  }\n\n  $destroy() {\n    const self = this;\n    if (self.$options.beforeDestroy) self.$options.beforeDestroy();\n    if (self.$styleEl) $(self.$styleEl).remove();\n    self.$detachEvents();\n    if (self.$options.destroyed) self.$options.destroyed();\n    // Delete component instance\n    if (self.el && self.el.f7Component) {\n      self.el.f7Component = null;\n      delete self.el.f7Component;\n    }\n    // Patch with empty node\n    if (self.$vnode) {\n      self.$vnode = patch(self.$vnode, { sel: self.$vnode.sel, data: {} });\n    }\n    Utils.deleteProps(self);\n  }\n}\n\nexport default Framework7Component;\n","import { window, document } from 'ssr-window';\nimport Template7 from 'template7';\nimport $ from 'dom7';\nimport Utils from '../../utils/utils';\n\nfunction parseComponent(componentString) {\n  const id = Utils.id();\n  const callbackCreateName = `f7_component_create_callback_${id}`;\n  const callbackRenderName = `f7_component_render_callback_${id}`;\n\n  // Template\n  let template;\n  const hasTemplate = componentString.match(/<template([ ]?)([a-z0-9-]*)>/);\n  const templateType = hasTemplate[2] || 't7';\n  if (hasTemplate) {\n    template = componentString\n      .split(/<template[ ]?[a-z0-9-]*>/)\n      .filter((item, index) => index > 0)\n      .join('<template>')\n      .split('</template>')\n      .filter((item, index, arr) => index < arr.length - 1)\n      .join('</template>')\n      .replace(/{{#raw}}([ \\n]*)<template/g, '{{#raw}}<template')\n      .replace(/\\/template>([ \\n]*){{\\/raw}}/g, '/template>{{/raw}}')\n      .replace(/([ \\n])<template/g, '$1{{#raw}}<template')\n      .replace(/\\/template>([ \\n])/g, '/template>{{/raw}}$1');\n  }\n\n  // Parse Styles\n  let style = null;\n  let styleScoped = false;\n\n  if (componentString.indexOf('<style>') >= 0) {\n    style = componentString.split('<style>')[1].split('</style>')[0];\n  } else if (componentString.indexOf('<style scoped>') >= 0) {\n    styleScoped = true;\n    style = componentString.split('<style scoped>')[1].split('</style>')[0];\n    style = style\n      .replace(/{{this}}/g, `[data-f7-${id}]`)\n      .replace(/[\\n]?([^{^}]*){/ig, (string, rules) => {\n        // eslint-disable-next-line\n        rules = rules\n          .split(',')\n          .map((rule) => {\n            if (rule.indexOf(`[data-f7-${id}]`) >= 0) return rule;\n            return `[data-f7-${id}] ${rule.trim()}`;\n          })\n          .join(', ');\n\n        return `\\n${rules} {`;\n      });\n  }\n\n  // Parse Script\n  let scriptContent;\n  let scriptEl;\n  if (componentString.indexOf('<script>') >= 0) {\n    const scripts = componentString.split('<script>');\n    scriptContent = scripts[scripts.length - 1].split('</script>')[0].trim();\n  } else {\n    scriptContent = 'return {}';\n  }\n  if (!scriptContent || !scriptContent.trim()) scriptContent = 'return {}';\n\n  scriptContent = `window.${callbackCreateName} = function () {${scriptContent}}`;\n\n  // Insert Script El\n  scriptEl = document.createElement('script');\n  scriptEl.innerHTML = scriptContent;\n  $('head').append(scriptEl);\n\n  const component = window[callbackCreateName]();\n\n  // Remove Script El\n  $(scriptEl).remove();\n  window[callbackCreateName] = null;\n  delete window[callbackCreateName];\n\n  // Assign Template\n  if (!component.template && !component.render) {\n    component.template = template;\n    component.templateType = templateType;\n  }\n  if (component.template) {\n    if (component.templateType === 't7') {\n      component.template = Template7.compile(component.template);\n    }\n    if (component.templateType === 'es') {\n      const renderContent = `window.${callbackRenderName} = function () {\n        return function render() {\n          return \\`${component.template}\\`;\n        }\n      }`;\n      scriptEl = document.createElement('script');\n      scriptEl.innerHTML = renderContent;\n      $('head').append(scriptEl);\n\n      component.render = window[callbackRenderName]();\n\n      // Remove Script El\n      $(scriptEl).remove();\n      window[callbackRenderName] = null;\n      delete window[callbackRenderName];\n    }\n  }\n\n  // Assign Style\n  if (style) {\n    component.style = style;\n    component.styleScoped = styleScoped;\n  }\n\n  // Component ID\n  component.id = id;\n  return component;\n}\n\nexport default parseComponent;\n","import Framework7Component from './component-class';\nimport parseComponent from './parse-component';\n\nexport default {\n  name: 'component',\n  create() {\n    const app = this;\n    app.component = {\n      parse(componentString) {\n        return parseComponent(componentString);\n      },\n      create(options, extendContext) {\n        return new Framework7Component(app, options, extendContext);\n      },\n    };\n  },\n};\n","import Utils from '../../utils/utils';\n\nconst SW = {\n  registrations: [],\n  register(path, scope) {\n    const app = this;\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    return new Promise((resolve, reject) => {\n      app.serviceWorker.container.register(path, (scope ? { scope } : {}))\n        .then((reg) => {\n          SW.registrations.push(reg);\n          app.emit('serviceWorkerRegisterSuccess', reg);\n          resolve(reg);\n        }).catch((error) => {\n          app.emit('serviceWorkerRegisterError', error);\n          reject(error);\n        });\n    });\n  },\n  unregister(registration) {\n    const app = this;\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    let registrations;\n    if (!registration) registrations = SW.registrations;\n    else if (Array.isArray(registration)) registrations = registration;\n    else registrations = [registration];\n    return Promise.all(registrations.map(reg => new Promise((resolve, reject) => {\n      reg.unregister()\n        .then(() => {\n          if (SW.registrations.indexOf(reg) >= 0) {\n            SW.registrations.splice(SW.registrations.indexOf(reg), 1);\n          }\n          app.emit('serviceWorkerUnregisterSuccess', reg);\n          resolve();\n        })\n        .catch((error) => {\n          app.emit('serviceWorkerUnregisterError', reg, error);\n          reject(error);\n        });\n    })));\n  },\n};\n\nexport default {\n  name: 'sw',\n  params: {\n    serviceWorker: {\n      path: undefined,\n      scope: undefined,\n    },\n  },\n  create() {\n    const app = this;\n    Utils.extend(app, {\n      serviceWorker: {\n        container: ('serviceWorker' in window.navigator) ? window.navigator.serviceWorker : undefined,\n        registrations: SW.registrations,\n        register: SW.register.bind(app),\n        unregister: SW.unregister.bind(app),\n      },\n    });\n  },\n  on: {\n    init() {\n      if (!('serviceWorker' in window.navigator)) return;\n      const app = this;\n      if (!app.serviceWorker.container) return;\n      const paths = app.params.serviceWorker.path;\n      const scope = app.params.serviceWorker.scope;\n      if (!paths || (Array.isArray(paths) && !paths.length)) return;\n      const toRegister = Array.isArray(paths) ? paths : [paths];\n      toRegister.forEach((path) => {\n        app.serviceWorker.register(path, scope);\n      });\n    },\n  },\n};\n","/**\n * Framework7 4.5.2\n * Full featured mobile HTML framework for building iOS & Android apps\n * http://framework7.io/\n *\n * Copyright 2014-2019 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: September 27, 2019\n */\n\nimport Template7 from 'template7';\nimport $ from 'dom7';\n\n// F7 Class\nimport Framework7 from './components/app/app-class';\n\n// Import Helpers\nimport Request from './utils/request';\nimport Utils from './utils/utils';\nimport Support from './utils/support';\nimport Device from './utils/device';\n\n// Core Modules\nimport DeviceModule from './modules/device/device';\nimport SupportModule from './modules/support/support';\nimport UtilsModule from './modules/utils/utils';\nimport ResizeModule from './modules/resize/resize';\nimport RequestModule from './modules/request/request';\nimport TouchModule from './modules/touch/touch';\nimport ClicksModule from './modules/clicks/clicks';\nimport RouterModule from './modules/router/router';\nimport RouterTemplateLoaderModule from './modules/router/template-loader';\nimport RouterComponentLoaderModule from './modules/router/component-loader';\nimport HistoryModule from './modules/history/history';\nimport StorageModule from './modules/storage/storage';\nimport ComponentModule from './modules/component/component';\nimport ServiceWorkerModule from './modules/service-worker/service-worker';\n\n// Core Components\nimport Statusbar from './components/statusbar/statusbar';\nimport View from './components/view/view';\nimport Navbar from './components/navbar/navbar';\nimport Toolbar from './components/toolbar/toolbar';\nimport Subnavbar from './components/subnavbar/subnavbar';\nimport TouchRipple from './components/touch-ripple/touch-ripple';\nimport Modal from './components/modal/modal';\nimport Router from './modules/router/router-class';\n\nimport Appbar from './components/appbar/appbar';\nimport Dialog from './components/dialog/dialog';\nimport Popup from './components/popup/popup';\nimport LoginScreen from './components/login-screen/login-screen';\nimport Popover from './components/popover/popover';\nimport Actions from './components/actions/actions';\nimport Sheet from './components/sheet/sheet';\nimport Toast from './components/toast/toast';\nimport Preloader from './components/preloader/preloader';\nimport Progressbar from './components/progressbar/progressbar';\nimport Sortable from './components/sortable/sortable';\nimport Swipeout from './components/swipeout/swipeout';\nimport Accordion from './components/accordion/accordion';\nimport ContactsList from './components/contacts-list/contacts-list';\nimport VirtualList from './components/virtual-list/virtual-list';\nimport ListIndex from './components/list-index/list-index';\nimport Timeline from './components/timeline/timeline';\nimport Tabs from './components/tabs/tabs';\nimport Panel from './components/panel/panel';\nimport Card from './components/card/card';\nimport Chip from './components/chip/chip';\nimport Form from './components/form/form';\nimport Input from './components/input/input';\nimport Checkbox from './components/checkbox/checkbox';\nimport Radio from './components/radio/radio';\nimport Toggle from './components/toggle/toggle';\nimport Range from './components/range/range';\nimport Stepper from './components/stepper/stepper';\nimport SmartSelect from './components/smart-select/smart-select';\nimport Grid from './components/grid/grid';\nimport Calendar from './components/calendar/calendar';\nimport Picker from './components/picker/picker';\nimport InfiniteScroll from './components/infinite-scroll/infinite-scroll';\nimport PullToRefresh from './components/pull-to-refresh/pull-to-refresh';\nimport Lazy from './components/lazy/lazy';\nimport DataTable from './components/data-table/data-table';\nimport Fab from './components/fab/fab';\nimport Searchbar from './components/searchbar/searchbar';\nimport Messages from './components/messages/messages';\nimport Messagebar from './components/messagebar/messagebar';\nimport Swiper from './components/swiper/swiper';\nimport PhotoBrowser from './components/photo-browser/photo-browser';\nimport Notification from './components/notification/notification';\nimport Autocomplete from './components/autocomplete/autocomplete';\nimport Tooltip from './components/tooltip/tooltip';\nimport Gauge from './components/gauge/gauge';\nimport Skeleton from './components/skeleton/skeleton';\nimport Menu from './components/menu/menu';\nimport ColorPicker from './components/color-picker/color-picker';\nimport Treeview from './components/treeview/treeview';\nimport Vi from './components/vi/vi';\nimport Elevation from './components/elevation/elevation';\nimport Typography from './components/typography/typography';\n\nif (\"es\" !== 'es') {\n  if (typeof window !== 'undefined') {\n    // Template7\n    if (!window.Template7) window.Template7 = Template7;\n\n    // Dom7\n    if (!window.Dom7) window.Dom7 = $;\n  }\n}\n\n// Install Core Modules & Components\nRouter.use([\n  RouterTemplateLoaderModule,\n  RouterComponentLoaderModule,\n]);\n\nFramework7.use([\n  DeviceModule,\n  SupportModule,\n  UtilsModule,\n  ResizeModule,\n  RequestModule,\n  TouchModule,\n  ClicksModule,\n  RouterModule,\n  HistoryModule,\n  StorageModule,\n  ComponentModule,\n  ServiceWorkerModule,\n  Statusbar,\n  View,\n  Navbar,\n  Toolbar,\n  Subnavbar,\n  TouchRipple,\n  Modal,\n  Appbar,\n  Dialog,\n  Popup,\n  LoginScreen,\n  Popover,\n  Actions,\n  Sheet,\n  Toast,\n  Preloader,\n  Progressbar,\n  Sortable,\n  Swipeout,\n  Accordion,\n  ContactsList,\n  VirtualList,\n  ListIndex,\n  Timeline,\n  Tabs,\n  Panel,\n  Card,\n  Chip,\n  Form,\n  Input,\n  Checkbox,\n  Radio,\n  Toggle,\n  Range,\n  Stepper,\n  SmartSelect,\n  Grid,\n  Calendar,\n  Picker,\n  InfiniteScroll,\n  PullToRefresh,\n  Lazy,\n  DataTable,\n  Fab,\n  Searchbar,\n  Messages,\n  Messagebar,\n  Swiper,\n  PhotoBrowser,\n  Notification,\n  Autocomplete,\n  Tooltip,\n  Gauge,\n  Skeleton,\n  Menu,\n  ColorPicker,\n  Treeview,\n  Vi,\n  Elevation,\n  Typography\n]);\n\nexport { Template7, $ as Dom7, Request, Utils, Device, Support };\nexport default Framework7;\n","import $ from 'dom7';\nimport History from '../../utils/history';\nimport Support from '../../utils/support';\nimport Device from '../../utils/device';\nimport Utils from '../../utils/utils';\n\nfunction SwipeBack(r) {\n  const router = r;\n  const { $el, $navbarEl, app, params } = router;\n  let isTouched = false;\n  let isMoved = false;\n  const touchesStart = {};\n  let isScrolling;\n  let $currentPageEl = [];\n  let $previousPageEl = [];\n  let viewContainerWidth;\n  let touchesDiff;\n  let allowViewTouchMove = true;\n  let touchStartTime;\n  let $currentNavbarInnerEl = [];\n  let $previousNavbarInnerEl = [];\n  let dynamicNavbar;\n  let separateNavbar;\n  let $pageShadowEl;\n  let $pageOpacityEl;\n\n  let animatableNavEls;\n\n  const paramsSwipeBackAnimateShadow = params[`${app.theme}SwipeBackAnimateShadow`];\n  const paramsSwipeBackAnimateOpacity = params[`${app.theme}SwipeBackAnimateOpacity`];\n  const paramsSwipeBackActiveArea = params[`${app.theme}SwipeBackActiveArea`];\n  const paramsSwipeBackThreshold = params[`${app.theme}SwipeBackThreshold`];\n\n  const transformOrigin = app.rtl ? 'right center' : 'left center';\n\n  function animatableNavElements() {\n    const els = [];\n    const inverter = app.rtl ? -1 : 1;\n    const currentNavIsLarge = $currentNavbarInnerEl.hasClass('navbar-inner-large');\n    const previousNavIsLarge = $previousNavbarInnerEl.hasClass('navbar-inner-large');\n    const fromLarge = currentNavIsLarge && !$currentNavbarInnerEl.hasClass('navbar-inner-large-collapsed');\n    const toLarge = previousNavIsLarge && !$previousNavbarInnerEl.hasClass('navbar-inner-large-collapsed');\n    const $currentNavElements = $currentNavbarInnerEl.children('.left, .title, .right, .subnavbar, .fading, .title-large');\n    const $previousNavElements = $previousNavbarInnerEl.children('.left, .title, .right, .subnavbar, .fading, .title-large');\n    let activeNavBackIconText;\n    let previousNavBackIconText;\n\n    if (params.iosAnimateNavbarBackIcon) {\n      if ($currentNavbarInnerEl.hasClass('sliding')) {\n        activeNavBackIconText = $currentNavbarInnerEl.children('.left').find('.back .icon + span').eq(0);\n      } else {\n        activeNavBackIconText = $currentNavbarInnerEl.children('.left.sliding').find('.back .icon + span').eq(0);\n      }\n      if ($previousNavbarInnerEl.hasClass('sliding')) {\n        previousNavBackIconText = $previousNavbarInnerEl.children('.left').find('.back .icon + span').eq(0);\n      } else {\n        previousNavBackIconText = $previousNavbarInnerEl.children('.left.sliding').find('.back .icon + span').eq(0);\n      }\n      if (activeNavBackIconText.length) {\n        $previousNavElements.each((index, el) => {\n          if (!$(el).hasClass('title')) return;\n          el.f7NavbarLeftOffset += activeNavBackIconText.prev('.icon')[0].offsetWidth;\n        });\n      }\n    }\n    $currentNavElements\n      .each((index, navEl) => {\n        const $navEl = $(navEl);\n        const isSubnavbar = $navEl.hasClass('subnavbar');\n        const isLeft = $navEl.hasClass('left');\n        const isTitle = $navEl.hasClass('title');\n        if (!fromLarge && $navEl.hasClass('.title-large')) return;\n        const el = {\n          el: navEl,\n        };\n        if (fromLarge) {\n          if (isTitle) return;\n          if ($navEl.hasClass('title-large')) {\n            if (!separateNavbar) return;\n            if (toLarge) {\n              if (els.indexOf(el) < 0) els.push(el);\n              el.overflow = 'visible';\n              el.transform = 'translateX(100%)';\n              $navEl.find('.title-large-text, .title-large-inner').each((subIndex, subNavEl) => {\n                els.push({\n                  el: subNavEl,\n                  transform: progress => `translateX(${-100 + progress * 100 * inverter}%)`,\n                });\n              });\n            } else {\n              if (els.indexOf(el) < 0) els.push(el);\n              el.overflow = 'hidden';\n              el.transform = progress => `translateY(calc(${-progress} * var(--f7-navbar-large-title-height)))`;\n              $navEl.find('.title-large-text, .title-large-inner').each((subIndex, subNavEl) => {\n                els.push({\n                  el: subNavEl,\n                  transform: progress => `translateX(${progress * 100 * inverter}%) translateY(calc(${progress} * var(--f7-navbar-large-title-height)))`,\n                });\n              });\n            }\n            return;\n          }\n        }\n        if (toLarge) {\n          if (!fromLarge) {\n            if ($navEl.hasClass('title-large')) {\n              if (!separateNavbar) return;\n              if (els.indexOf(el) < 0) els.push(el);\n              el.opacity = 0;\n            }\n          }\n          if (isLeft && separateNavbar) {\n            if (els.indexOf(el) < 0) els.push(el);\n            el.opacity = progress => (1 - (progress ** 0.33));\n            $navEl.find('.back span').each((subIndex, subNavEl) => {\n              els.push({\n                el: subNavEl,\n                'transform-origin': transformOrigin,\n                transform: progress => `translateY(calc(var(--f7-navbar-height) * ${progress})) scale(${1 + (1 * progress)})`,\n              });\n            });\n            return;\n          }\n        }\n        if ($navEl.hasClass('title-large')) return;\n        const isSliding = $navEl.hasClass('sliding') || $currentNavbarInnerEl.hasClass('sliding');\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n          el.opacity = progress => (1 - (progress ** 0.33));\n        }\n        if (isSliding) {\n          let transformTarget = el;\n          if (isLeft && activeNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n            const textEl = { el: activeNavBackIconText[0] };\n            transformTarget = textEl;\n            els.push(textEl);\n          }\n          transformTarget.transform = (progress) => {\n            let activeNavTranslate = progress * transformTarget.el.f7NavbarRightOffset;\n            if (Device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\n            if (isSubnavbar && currentNavIsLarge && separateNavbar) {\n              return `translate3d(${activeNavTranslate}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`;\n            }\n            return `translate3d(${activeNavTranslate}px,0,0)`;\n          };\n        }\n      });\n    $previousNavElements\n      .each((index, navEl) => {\n        const $navEl = $(navEl);\n        const isSubnavbar = $navEl.hasClass('subnavbar');\n        const isLeft = $navEl.hasClass('left');\n        const isTitle = $navEl.hasClass('title');\n        const el = {\n          el: navEl,\n        };\n        if (toLarge) {\n          if (isTitle) return;\n          if (els.indexOf(el) < 0) els.push(el);\n\n          if ($navEl.hasClass('title-large')) {\n            if (!separateNavbar) return;\n            if (fromLarge) {\n              el.opacity = 1;\n              el.overflow = 'visible';\n              el.transform = 'translateY(0)';\n              $navEl.find('.title-large-text').each((subIndex, subNavEl) => {\n                els.push({\n                  el: subNavEl,\n                  'transform-origin': transformOrigin,\n                  opacity: progress => (progress ** 3),\n                  transform: progress => `translateY(calc(${-1 + progress * 1} * var(--f7-navbar-large-title-height))) scale(${0.5 + progress * 0.5})`,\n                });\n              });\n            } else {\n              el.transform = progress => `translateY(calc(${progress - 1} * var(--f7-navbar-large-title-height)))`;\n              el.opacity = 1;\n              el.overflow = 'hidden';\n              $navEl.find('.title-large-text').each((subIndex, subNavEl) => {\n                els.push({\n                  el: subNavEl,\n                  'transform-origin': transformOrigin,\n                  opacity: progress => (progress ** 3),\n                  transform: progress => `scale(${0.5 + progress * 0.5})`,\n                });\n              });\n            }\n            $navEl.find('.title-large-inner').each((subIndex, subNavEl) => {\n              els.push({\n                el: subNavEl,\n                'transform-origin': transformOrigin,\n                opacity: progress => (progress ** 3),\n                transform: progress => `translateX(${-100 * (1 - progress) * inverter}%)`,\n              });\n            });\n            return;\n          }\n        }\n        if ($navEl.hasClass('title-large')) return;\n        const isSliding = $navEl.hasClass('sliding') || $previousNavbarInnerEl.hasClass('sliding');\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n          el.opacity = progress => (progress ** 3);\n        }\n        if (isSliding) {\n          let transformTarget = el;\n          if (isLeft && previousNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n            const textEl = { el: previousNavBackIconText[0] };\n            transformTarget = textEl;\n            els.push(textEl);\n          }\n          transformTarget.transform = (progress) => {\n            let previousNavTranslate = transformTarget.el.f7NavbarLeftOffset * (1 - progress);\n            if (Device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\n            if (isSubnavbar && previousNavIsLarge && separateNavbar) {\n              return `translate3d(${previousNavTranslate}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`;\n            }\n            return `translate3d(${previousNavTranslate}px,0,0)`;\n          };\n        }\n      });\n    return els;\n  }\n\n  function setAnimatableNavElements({ progress, reset, transition } = {}) {\n    const styles = ['overflow', 'transform', 'transform-origin', 'opacity'];\n    for (let i = 0; i < animatableNavEls.length; i += 1) {\n      const el = animatableNavEls[i];\n      if (el && el.el) {\n        if (transition === true) el.el.classList.add('navbar-page-transitioning');\n        if (transition === false) el.el.classList.remove('navbar-page-transitioning');\n        for (let j = 0; j < styles.length; j += 1) {\n          const styleProp = styles[j];\n          if (el[styleProp]) {\n            if (reset) {\n              el.el.style[styleProp] = '';\n            } else if (typeof el[styleProp] === 'function') {\n              el.el.style[styleProp] = el[styleProp](progress);\n            } else {\n              el.el.style[styleProp] = el[styleProp];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function handleTouchStart(e) {\n    const swipeBackEnabled = params[`${app.theme}SwipeBack`];\n    if (!allowViewTouchMove || !swipeBackEnabled || isTouched || (app.swipeout && app.swipeout.el) || !router.allowPageChange) return;\n    if ($(e.target).closest('.range-slider, .calendar-months').length > 0) return;\n    if ($(e.target).closest('.page-master, .page-master-detail').length > 0 && params.masterDetailBreakpoint > 0 && app.width >= params.masterDetailBreakpoint) return;\n    isMoved = false;\n    isTouched = true;\n    isScrolling = undefined;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchStartTime = Utils.now();\n    dynamicNavbar = router.dynamicNavbar;\n    separateNavbar = router.separateNavbar;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (typeof isScrolling === 'undefined') {\n      isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)) || (pageX < touchesStart.x && !app.rtl) || (pageX > touchesStart.x && app.rtl);\n    }\n    if (isScrolling || e.f7PreventSwipeBack || app.preventSwipeBack) {\n      isTouched = false;\n      return;\n    }\n    if (!isMoved) {\n      // Calc values during first move fired\n      let cancel = false;\n      const target = $(e.target);\n\n      const swipeout = target.closest('.swipeout');\n      if (swipeout.length > 0) {\n        if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\n        if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\n      }\n\n      $currentPageEl = target.closest('.page');\n      if ($currentPageEl.hasClass('no-swipeback') || target.closest('.no-swipeback, .card-opened').length > 0) cancel = true;\n      $previousPageEl = $el.find('.page-previous:not(.stacked)');\n      if ($previousPageEl.length > 1) {\n        $previousPageEl = $previousPageEl.eq($previousPageEl.length - 1);\n      }\n      let notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      viewContainerWidth = $el.width();\n      if (app.rtl) {\n        notFromBorder = touchesStart.x < ($el.offset().left - $el[0].scrollLeft) + (viewContainerWidth - paramsSwipeBackActiveArea);\n      } else {\n        notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      }\n      if (notFromBorder) cancel = true;\n      if ($previousPageEl.length === 0 || $currentPageEl.length === 0) cancel = true;\n      if (cancel) {\n        isTouched = false;\n        return;\n      }\n\n      if (paramsSwipeBackAnimateShadow) {\n        $pageShadowEl = $currentPageEl.find('.page-shadow-effect');\n        if ($pageShadowEl.length === 0) {\n          $pageShadowEl = $('<div class=\"page-shadow-effect\"></div>');\n          $currentPageEl.append($pageShadowEl);\n        }\n      }\n      if (paramsSwipeBackAnimateOpacity) {\n        $pageOpacityEl = $previousPageEl.find('.page-opacity-effect');\n        if ($pageOpacityEl.length === 0) {\n          $pageOpacityEl = $('<div class=\"page-opacity-effect\"></div>');\n          $previousPageEl.append($pageOpacityEl);\n        }\n      }\n\n      if (dynamicNavbar) {\n        if (separateNavbar) {\n          $currentNavbarInnerEl = $navbarEl.find('.navbar-current:not(.stacked)');\n          $previousNavbarInnerEl = $navbarEl.find('.navbar-previous:not(.stacked)');\n        } else {\n          $currentNavbarInnerEl = $currentPageEl.children('.navbar').children('.navbar-inner');\n          $previousNavbarInnerEl = $previousPageEl.children('.navbar').children('.navbar-inner');\n        }\n        if ($previousNavbarInnerEl.length > 1) {\n          $previousNavbarInnerEl = $previousNavbarInnerEl.eq($previousNavbarInnerEl.length - 1);\n        }\n\n        animatableNavEls = animatableNavElements($previousNavbarInnerEl, $currentNavbarInnerEl);\n      }\n\n      // Close/Hide Any Picker\n      if ($('.sheet.modal-in').length > 0 && app.sheet) {\n        app.sheet.close($('.sheet.modal-in'));\n      }\n    }\n    e.f7PreventPanelSwipe = true;\n    isMoved = true;\n    app.preventSwipePanelBySwipeBack = true;\n    e.preventDefault();\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    // Touches diff\n    touchesDiff = (pageX - touchesStart.x - paramsSwipeBackThreshold) * inverter;\n    if (touchesDiff < 0) touchesDiff = 0;\n    const percentage = Math.min(Math.max(touchesDiff / viewContainerWidth, 0), 1);\n\n    // Swipe Back Callback\n    const callbackData = {\n      percentage,\n      progress: percentage,\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarInnerEl[0],\n      previousNavbarEl: $previousNavbarInnerEl[0],\n    };\n    $el.trigger('swipeback:move', callbackData);\n    router.emit('swipebackMove', callbackData);\n\n    // Transform pages\n    let currentPageTranslate = touchesDiff * inverter;\n    let previousPageTranslate = ((touchesDiff / 5) - (viewContainerWidth / 5)) * inverter;\n    if (!app.rtl) {\n      currentPageTranslate = Math.min(currentPageTranslate, viewContainerWidth);\n      previousPageTranslate = Math.min(previousPageTranslate, 0);\n    } else {\n      currentPageTranslate = Math.max(currentPageTranslate, -viewContainerWidth);\n      previousPageTranslate = Math.max(previousPageTranslate, 0);\n    }\n    if (Device.pixelRatio === 1) {\n      currentPageTranslate = Math.round(currentPageTranslate);\n      previousPageTranslate = Math.round(previousPageTranslate);\n    }\n\n    router.swipeBackActive = true;\n    $([$currentPageEl[0], $previousPageEl[0]]).addClass('page-swipeback-active');\n\n    $currentPageEl.transform(`translate3d(${currentPageTranslate}px,0,0)`);\n    if (paramsSwipeBackAnimateShadow) $pageShadowEl[0].style.opacity = 1 - (1 * percentage);\n\n    if (app.theme === 'ios') {\n      $previousPageEl.transform(`translate3d(${previousPageTranslate}px,0,0)`);\n    }\n    if (paramsSwipeBackAnimateOpacity) $pageShadowEl[0].style.opacity = 1 - (1 * percentage);\n\n    // Dynamic Navbars Animation\n    if (!dynamicNavbar) return;\n\n    setAnimatableNavElements({ progress: percentage });\n  }\n  function handleTouchEnd() {\n    app.preventSwipePanelBySwipeBack = false;\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    router.swipeBackActive = false;\n    $([$currentPageEl[0], $previousPageEl[0]]).removeClass('page-swipeback-active');\n    if (touchesDiff === 0) {\n      $([$currentPageEl[0], $previousPageEl[0]]).transform('');\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true });\n      }\n      return;\n    }\n    const timeDiff = Utils.now() - touchStartTime;\n    let pageChanged = false;\n    // Swipe back to previous page\n    if (\n      (timeDiff < 300 && touchesDiff > 10)\n      || (timeDiff >= 300 && touchesDiff > viewContainerWidth / 2)\n    ) {\n      $currentPageEl.removeClass('page-current').addClass(`page-next${app.theme !== 'ios' ? ' page-next-on-right' : ''}`);\n      $previousPageEl.removeClass('page-previous').addClass('page-current').removeAttr('aria-hidden');\n      if ($pageShadowEl) $pageShadowEl[0].style.opacity = '';\n      if ($pageOpacityEl) $pageOpacityEl[0].style.opacity = '';\n      if (dynamicNavbar) {\n        $currentNavbarInnerEl.removeClass('navbar-current').addClass('navbar-next');\n        $previousNavbarInnerEl.removeClass('navbar-previous').addClass('navbar-current').removeAttr('aria-hidden');\n      }\n      pageChanged = true;\n    }\n    // Reset custom styles\n    // Add transitioning class for transition-duration\n    $([$currentPageEl[0], $previousPageEl[0]]).addClass('page-transitioning page-transitioning-swipeback').transform('');\n\n    if (dynamicNavbar) {\n      setAnimatableNavElements({ progress: pageChanged ? 1 : 0, transition: true });\n    }\n    allowViewTouchMove = false;\n    router.allowPageChange = false;\n\n    // Swipe Back Callback\n    const callbackData = {\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarInnerEl[0],\n      previousNavbarEl: $previousNavbarInnerEl[0],\n    };\n\n    if (pageChanged) {\n      // Update Route\n      router.currentRoute = $previousPageEl[0].f7Page.route;\n      router.currentPage = $previousPageEl[0];\n\n      // Page before animation callback\n      router.pageCallback('beforeOut', $currentPageEl, $currentNavbarInnerEl, 'current', 'next', { route: $currentPageEl[0].f7Page.route, swipeBack: true });\n      router.pageCallback('beforeIn', $previousPageEl, $previousNavbarInnerEl, 'previous', 'current', { route: $previousPageEl[0].f7Page.route, swipeBack: true }, $currentPageEl[0]);\n\n      $el.trigger('swipeback:beforechange', callbackData);\n      router.emit('swipebackBeforeChange', callbackData);\n    } else {\n      $el.trigger('swipeback:beforereset', callbackData);\n      router.emit('swipebackBeforeReset', callbackData);\n    }\n\n    $currentPageEl.transitionEnd(() => {\n      $([$currentPageEl[0], $previousPageEl[0]]).removeClass('page-transitioning page-transitioning-swipeback');\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true, transition: false });\n      }\n      allowViewTouchMove = true;\n      router.allowPageChange = true;\n      if (pageChanged) {\n        // Update History\n        if (router.history.length === 1) {\n          router.history.unshift(router.url);\n        }\n        router.history.pop();\n        router.saveHistory();\n\n        // Update push state\n        if (params.pushState) {\n          History.back();\n        }\n\n        // Page after animation callback\n        router.pageCallback('afterOut', $currentPageEl, $currentNavbarInnerEl, 'current', 'next', { route: $currentPageEl[0].f7Page.route, swipeBack: true });\n        router.pageCallback('afterIn', $previousPageEl, $previousNavbarInnerEl, 'previous', 'current', { route: $previousPageEl[0].f7Page.route, swipeBack: true });\n\n        // Remove Old Page\n        if (params.stackPages && router.initialPages.indexOf($currentPageEl[0]) >= 0) {\n          $currentPageEl.addClass('stacked');\n          if (separateNavbar) {\n            $currentNavbarInnerEl.addClass('stacked');\n          }\n        } else {\n          router.pageCallback('beforeRemove', $currentPageEl, $currentNavbarInnerEl, 'next', { swipeBack: true });\n          router.removePage($currentPageEl);\n          if (separateNavbar) {\n            router.removeNavbar($currentNavbarInnerEl);\n          }\n        }\n\n        $el.trigger('swipeback:afterchange', callbackData);\n        router.emit('swipebackAfterChange', callbackData);\n\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n        if (params.preloadPreviousPage) {\n          router.back(router.history[router.history.length - 2], { preload: true });\n        }\n      } else {\n        $el.trigger('swipeback:afterreset', callbackData);\n        router.emit('swipebackAfterReset', callbackData);\n      }\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n    });\n  }\n\n  function attachEvents() {\n    const passiveListener = (app.touchEvents.start === 'touchstart' && Support.passiveListener) ? { passive: true, capture: false } : false;\n    $el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  }\n  function detachEvents() {\n    const passiveListener = (app.touchEvents.start === 'touchstart' && Support.passiveListener) ? { passive: true, capture: false } : false;\n    $el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n  }\n\n  attachEvents();\n\n  router.on('routerDestroy', detachEvents);\n}\n\nexport default SwipeBack;\n","import Utils from '../../utils/utils';\n\nexport default function (direction, route, options) {\n  const router = this;\n  const redirect = route.route.redirect;\n  if (options.initial && router.params.pushState) {\n    options.replaceState = true; // eslint-disable-line\n    options.history = true; // eslint-disable-line\n  }\n  function redirectResolve(redirectUrl, redirectOptions = {}) {\n    router.allowPageChange = true;\n    router[direction](redirectUrl, Utils.extend({}, options, redirectOptions));\n  }\n  function redirectReject() {\n    router.allowPageChange = true;\n  }\n  if (typeof redirect === 'function') {\n    router.allowPageChange = false;\n    const redirectUrl = redirect.call(router, route, redirectResolve, redirectReject);\n    if (redirectUrl && typeof redirectUrl === 'string') {\n      router.allowPageChange = true;\n      return router[direction](redirectUrl, options);\n    }\n    return router;\n  }\n  return router[direction](redirect, options);\n}\n","function processQueue(router, routerQueue, routeQueue, to, from, resolve, reject) {\n  const queue = [];\n\n  if (Array.isArray(routeQueue)) {\n    queue.push(...routeQueue);\n  } else if (routeQueue && typeof routeQueue === 'function') {\n    queue.push(routeQueue);\n  }\n  if (routerQueue) {\n    if (Array.isArray(routerQueue)) {\n      queue.push(...routerQueue);\n    } else {\n      queue.push(routerQueue);\n    }\n  }\n\n  function next() {\n    if (queue.length === 0) {\n      resolve();\n      return;\n    }\n    const queueItem = queue.shift();\n\n    queueItem.call(\n      router,\n      to,\n      from,\n      () => {\n        next();\n      },\n      () => {\n        reject();\n      }\n    );\n  }\n  next();\n}\n\nexport default function (to, from, resolve, reject) {\n  const router = this;\n  function enterNextRoute() {\n    if (to && to.route && (router.params.routesBeforeEnter || to.route.beforeEnter)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeEnter,\n        to.route.beforeEnter,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          resolve();\n        },\n        () => {\n          reject();\n        },\n      );\n    } else {\n      resolve();\n    }\n  }\n  function leaveCurrentRoute() {\n    if (from && from.route && (router.params.routesBeforeLeave || from.route.beforeLeave)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeLeave,\n        from.route.beforeLeave,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          enterNextRoute();\n        },\n        () => {\n          reject();\n        },\n      );\n    } else {\n      enterNextRoute();\n    }\n  }\n  leaveCurrentRoute();\n}\n","export default function (router, method) {\n  if (!router.view) {\n    throw new Error(`Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.${method}(...)`);\n  }\n}\n","import { window, document } from 'ssr-window';\nimport $ from 'dom7';\nimport PathToRegexp from 'path-to-regexp'; // eslint-disable-line\nimport Framework7Class from '../../utils/class';\nimport Utils from '../../utils/utils';\nimport History from '../../utils/history';\nimport SwipeBack from './swipe-back';\n\nimport { refreshPage, forward, load, navigate } from './navigate';\nimport { tabLoad, tabRemove } from './tab';\nimport { modalLoad, modalRemove } from './modal';\nimport { backward, loadBack, back } from './back';\nimport { clearPreviousHistory, clearPreviousPages } from './clear-previous-history';\nimport appRouterCheck from './app-router-check';\n\nclass Router extends Framework7Class {\n  constructor(app, view) {\n    super({}, [typeof view === 'undefined' ? app : view]);\n    const router = this;\n\n    // Is App Router\n    router.isAppRouter = typeof view === 'undefined';\n\n    if (router.isAppRouter) {\n      // App Router\n      Utils.extend(false, router, {\n        app,\n        params: app.params.view,\n        routes: app.routes || [],\n        cache: app.cache,\n      });\n    } else {\n      // View Router\n      Utils.extend(false, router, {\n        app,\n        view,\n        viewId: view.id,\n        params: view.params,\n        routes: view.routes,\n        $el: view.$el,\n        el: view.el,\n        $navbarEl: view.$navbarEl,\n        navbarEl: view.navbarEl,\n        history: view.history,\n        scrollHistory: view.scrollHistory,\n        cache: app.cache,\n        dynamicNavbar: app.theme === 'ios' && view.params.iosDynamicNavbar,\n        separateNavbar: app.theme === 'ios' && view.params.iosDynamicNavbar && view.params.iosSeparateDynamicNavbar,\n        initialPages: [],\n        initialNavbars: [],\n      });\n    }\n\n    // Install Modules\n    router.useModules();\n\n    // Temporary Dom\n    router.tempDom = document.createElement('div');\n\n    // AllowPageChage\n    router.allowPageChange = true;\n\n    // Current Route\n    let currentRoute = {};\n    let previousRoute = {};\n    Object.defineProperty(router, 'currentRoute', {\n      enumerable: true,\n      configurable: true,\n      set(newRoute = {}) {\n        previousRoute = Utils.extend({}, currentRoute);\n        currentRoute = newRoute;\n        if (!currentRoute) return;\n        router.url = currentRoute.url;\n        router.emit('routeChange', newRoute, previousRoute, router);\n      },\n      get() {\n        return currentRoute;\n      },\n    });\n    Object.defineProperty(router, 'previousRoute', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        return previousRoute;\n      },\n      set(newRoute) {\n        previousRoute = newRoute;\n      },\n    });\n\n    return router;\n  }\n\n  animatableNavElements(newNavbarInner, oldNavbarInner, toLarge, fromLarge, direction) {\n    const router = this;\n    const dynamicNavbar = router.dynamicNavbar;\n    const separateNavbar = router.separateNavbar;\n    const animateIcon = router.params.iosAnimateNavbarBackIcon;\n\n    let newNavEls;\n    let oldNavEls;\n    function animatableNavEl($el, navbarInner) {\n      const isSliding = $el.hasClass('sliding') || navbarInner.hasClass('sliding');\n      const isSubnavbar = $el.hasClass('subnavbar');\n      const needsOpacityTransition = isSliding ? !isSubnavbar : true;\n      const $iconEl = $el.find('.back .icon');\n      let isIconLabel;\n      if (isSliding && animateIcon && $el.hasClass('left') && $iconEl.length > 0 && $iconEl.next('span').length) {\n        $el = $iconEl.next('span'); // eslint-disable-line\n        isIconLabel = true;\n      }\n      return {\n        $el,\n        isIconLabel,\n        leftOffset: $el[0].f7NavbarLeftOffset,\n        rightOffset: $el[0].f7NavbarRightOffset,\n        isSliding,\n        isSubnavbar,\n        needsOpacityTransition,\n      };\n    }\n    if (dynamicNavbar) {\n      newNavEls = [];\n      oldNavEls = [];\n      newNavbarInner.children('.left, .right, .title, .subnavbar').each((index, navEl) => {\n        const $navEl = $(navEl);\n        if ($navEl.hasClass('left') && fromLarge && direction === 'forward' && separateNavbar) return;\n        if ($navEl.hasClass('title') && toLarge) return;\n        newNavEls.push(animatableNavEl($navEl, newNavbarInner));\n      });\n      if (!(oldNavbarInner.hasClass('navbar-master') && router.params.masterDetailBreakpoint > 0 && router.app.width >= router.params.masterDetailBreakpoint)) {\n        oldNavbarInner.children('.left, .right, .title, .subnavbar').each((index, navEl) => {\n          const $navEl = $(navEl);\n          if ($navEl.hasClass('left') && toLarge && !fromLarge && direction === 'forward' && separateNavbar) return;\n          if ($navEl.hasClass('left') && toLarge && direction === 'backward' && separateNavbar) return;\n          if ($navEl.hasClass('title') && fromLarge) {\n            return;\n          }\n          oldNavEls.push(animatableNavEl($navEl, oldNavbarInner));\n        });\n      }\n      [oldNavEls, newNavEls].forEach((navEls) => {\n        navEls.forEach((navEl) => {\n          const n = navEl;\n          const { isSliding, $el } = navEl;\n          const otherEls = navEls === oldNavEls ? newNavEls : oldNavEls;\n          if (!(isSliding && $el.hasClass('title') && otherEls)) return;\n          otherEls.forEach((otherNavEl) => {\n            if (otherNavEl.isIconLabel) {\n              const iconTextEl = otherNavEl.$el[0];\n              n.leftOffset += iconTextEl ? (iconTextEl.offsetLeft || 0) : 0;\n            }\n          });\n        });\n      });\n    }\n\n    return { newNavEls, oldNavEls };\n  }\n\n  animate(oldPage, newPage, oldNavbarInner, newNavbarInner, direction, callback) {\n    const router = this;\n    if (router.params.animateCustom) {\n      router.params.animateCustom.apply(router, [oldPage, newPage, oldNavbarInner, newNavbarInner, direction, callback]);\n      return;\n    }\n    const dynamicNavbar = router.dynamicNavbar;\n    const ios = router.app.theme === 'ios';\n    // Router Animation class\n    const routerTransitionClass = `router-transition-${direction} router-transition`;\n\n    let newNavEls;\n    let oldNavEls;\n\n    let fromLarge;\n    let toLarge;\n\n    let oldIsLarge;\n    let newIsLarge;\n\n    if (ios && dynamicNavbar) {\n      oldIsLarge = oldNavbarInner && oldNavbarInner.hasClass('navbar-inner-large');\n      newIsLarge = newNavbarInner && newNavbarInner.hasClass('navbar-inner-large');\n      fromLarge = oldIsLarge && !oldNavbarInner.hasClass('navbar-inner-large-collapsed');\n      toLarge = newIsLarge && !newNavbarInner.hasClass('navbar-inner-large-collapsed');\n      const navEls = router.animatableNavElements(newNavbarInner, oldNavbarInner, toLarge, fromLarge, direction);\n      newNavEls = navEls.newNavEls;\n      oldNavEls = navEls.oldNavEls;\n    }\n\n    function animateNavbars(progress) {\n      if (!(ios && dynamicNavbar)) return;\n      if (progress === 1) {\n        if (toLarge) {\n          newNavbarInner.addClass('router-navbar-transition-to-large');\n          oldNavbarInner.addClass('router-navbar-transition-to-large');\n        }\n        if (fromLarge) {\n          newNavbarInner.addClass('router-navbar-transition-from-large');\n          oldNavbarInner.addClass('router-navbar-transition-from-large');\n        }\n      }\n      newNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.rightOffset : navEl.leftOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && newIsLarge) {\n            $el[0].style.setProperty('transform', `translate3d(${offset * (1 - progress)}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`, 'important');\n          } else {\n            $el.transform(`translate3d(${offset * (1 - progress)}px,0,0)`);\n          }\n        }\n      });\n      oldNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.leftOffset : navEl.rightOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && oldIsLarge) {\n            $el.transform(`translate3d(${offset * (progress)}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`);\n          } else {\n            $el.transform(`translate3d(${offset * (progress)}px,0,0)`);\n          }\n        }\n      });\n    }\n\n    // AnimationEnd Callback\n    function onDone() {\n      if (router.dynamicNavbar) {\n        if (newNavbarInner) {\n          newNavbarInner.removeClass('router-navbar-transition-to-large router-navbar-transition-from-large');\n          newNavbarInner.addClass('navbar-no-title-large-transition');\n          Utils.nextFrame(() => {\n            newNavbarInner.removeClass('navbar-no-title-large-transition');\n          });\n        }\n        if (oldNavbarInner) {\n          oldNavbarInner.removeClass('router-navbar-transition-to-large router-navbar-transition-from-large');\n        }\n        if (newNavbarInner.hasClass('sliding')) {\n          newNavbarInner.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          newNavbarInner.find('.sliding').transform('');\n        }\n        if (oldNavbarInner.hasClass('sliding')) {\n          oldNavbarInner.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          oldNavbarInner.find('.sliding').transform('');\n        }\n      }\n      router.$el.removeClass(routerTransitionClass);\n      if (callback) callback();\n    }\n\n    (direction === 'forward' ? newPage : oldPage).animationEnd(() => {\n      onDone();\n    });\n\n    // Animate\n    if (dynamicNavbar) {\n      // Prepare Navbars\n      animateNavbars(0);\n      Utils.nextFrame(() => {\n        // Add class, start animation\n        animateNavbars(1);\n        router.$el.addClass(routerTransitionClass);\n      });\n    } else {\n      // Add class, start animation\n      router.$el.addClass(routerTransitionClass);\n    }\n  }\n\n  removeModal(modalEl) {\n    const router = this;\n    router.removeEl(modalEl);\n  }\n  // eslint-disable-next-line\n  removeTabContent(tabEl) {\n    const $tabEl = $(tabEl);\n    $tabEl.html('');\n  }\n\n  removeNavbar(el) {\n    const router = this;\n    router.removeEl(el);\n  }\n\n  removePage(el) {\n    const $el = $(el);\n    const f7Page = $el && $el[0] && $el[0].f7Page;\n    const router = this;\n    if (f7Page && f7Page.route && f7Page.route.route && f7Page.route.route.keepAlive) {\n      $el.remove();\n      return;\n    }\n    router.removeEl(el);\n  }\n\n  removeEl(el) {\n    if (!el) return;\n    const router = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    $el.find('.tab').each((tabIndex, tabEl) => {\n      $(tabEl).children().each((index, tabChild) => {\n        if (tabChild.f7Component) {\n          $(tabChild).trigger('tab:beforeremove');\n          tabChild.f7Component.$destroy();\n        }\n      });\n    });\n    if ($el[0].f7Component && $el[0].f7Component.$destroy) {\n      $el[0].f7Component.$destroy();\n    }\n    if (!router.params.removeElements) {\n      return;\n    }\n    if (router.params.removeElementsWithTimeout) {\n      setTimeout(() => {\n        $el.remove();\n      }, router.params.removeElementsTimeout);\n    } else {\n      $el.remove();\n    }\n  }\n\n  getPageEl(content) {\n    const router = this;\n    if (typeof content === 'string') {\n      router.tempDom.innerHTML = content;\n    } else {\n      if ($(content).hasClass('page')) {\n        return content;\n      }\n      router.tempDom.innerHTML = '';\n      $(router.tempDom).append(content);\n    }\n\n    return router.findElement('.page', router.tempDom);\n  }\n\n  findElement(stringSelector, container, notStacked) {\n    const router = this;\n    const view = router.view;\n    const app = router.app;\n\n    // Modals Selector\n    const modalsSelector = '.popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page';\n\n    const $container = $(container);\n    let selector = stringSelector;\n    if (notStacked) selector += ':not(.stacked)';\n\n    let found = $container\n      .find(selector)\n      .filter((index, el) => $(el).parents(modalsSelector).length === 0);\n\n    if (found.length > 1) {\n      if (typeof view.selector === 'string') {\n        // Search in related view\n        found = $container.find(`${view.selector} ${selector}`);\n      }\n      if (found.length > 1) {\n        // Search in main view\n        found = $container.find(`.${app.params.viewMainClass} ${selector}`);\n      }\n    }\n    if (found.length === 1) return found;\n\n    // Try to find not stacked\n    if (!notStacked) found = router.findElement(selector, $container, true);\n    if (found && found.length === 1) return found;\n    if (found && found.length > 1) return $(found[0]);\n    return undefined;\n  }\n\n  flattenRoutes(routes = this.routes) {\n    const router = this;\n    let flattenedRoutes = [];\n    routes.forEach((route) => {\n      let hasTabRoutes = false;\n      if ('tabs' in route && route.tabs) {\n        const mergedPathsRoutes = route.tabs.map((tabRoute) => {\n          const tRoute = Utils.extend({}, route, {\n            path: (`${route.path}/${tabRoute.path}`).replace('///', '/').replace('//', '/'),\n            parentPath: route.path,\n            tab: tabRoute,\n          });\n          delete tRoute.tabs;\n          delete tRoute.routes;\n          return tRoute;\n        });\n        hasTabRoutes = true;\n        flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('detailRoutes' in route) {\n        const mergedPathsRoutes = route.detailRoutes.map((detailRoute) => {\n          const dRoute = Utils.extend({}, detailRoute);\n          dRoute.masterRoute = route;\n          dRoute.masterRoutePath = route.path;\n          return dRoute;\n        });\n        flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('routes' in route) {\n        const mergedPathsRoutes = route.routes.map((childRoute) => {\n          const cRoute = Utils.extend({}, childRoute);\n          cRoute.path = (`${route.path}/${cRoute.path}`).replace('///', '/').replace('//', '/');\n          return cRoute;\n        });\n        if (hasTabRoutes) {\n          flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n        } else {\n          flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n        }\n      }\n      if (!('routes' in route) && !('tabs' in route && route.tabs) && !('detailRoutes' in route)) {\n        flattenedRoutes.push(route);\n      }\n    });\n    return flattenedRoutes;\n  }\n\n  // eslint-disable-next-line\n  parseRouteUrl(url) {\n    if (!url) return {};\n    const query = Utils.parseUrlQuery(url);\n    const hash = url.split('#')[1];\n    const params = {};\n    const path = url.split('#')[0].split('?')[0];\n    return {\n      query,\n      hash,\n      params,\n      url,\n      path,\n    };\n  }\n\n  // eslint-disable-next-line\n  constructRouteUrl(route, { params, query } = {}) {\n    const { path } = route;\n    const toUrl = PathToRegexp.compile(path);\n    let url;\n    try {\n      url = toUrl(params || {});\n    } catch (error) {\n      throw new Error(`Framework7: error constructing route URL from passed params:\\nRoute: ${path}\\n${error.toString()}`);\n    }\n\n    if (query) {\n      if (typeof query === 'string') url += `?${query}`;\n      else url += `?${Utils.serializeObject(query)}`;\n    }\n\n    return url;\n  }\n\n  findTabRoute(tabEl) {\n    const router = this;\n    const $tabEl = $(tabEl);\n    const parentPath = router.currentRoute.route.parentPath;\n    const tabId = $tabEl.attr('id');\n    const flattenedRoutes = router.flattenRoutes(router.routes);\n    let foundTabRoute;\n    flattenedRoutes.forEach((route) => {\n      if (\n        route.parentPath === parentPath\n        && route.tab\n        && route.tab.id === tabId\n      ) {\n        foundTabRoute = route;\n      }\n    });\n    return foundTabRoute;\n  }\n\n  findRouteByKey(key, value) {\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    let matchingRoute;\n\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      if (route[key] === value) {\n        matchingRoute = route;\n      }\n    });\n    return matchingRoute;\n  }\n\n  findMatchingRoute(url) {\n    if (!url) return undefined;\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    const { path, query, hash, params } = router.parseRouteUrl(url);\n    let matchingRoute;\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      const keys = [];\n\n      const pathsToMatch = [route.path];\n      if (route.alias) {\n        if (typeof route.alias === 'string') pathsToMatch.push(route.alias);\n        else if (Array.isArray(route.alias)) {\n          route.alias.forEach((aliasPath) => {\n            pathsToMatch.push(aliasPath);\n          });\n        }\n      }\n\n      let matched;\n      pathsToMatch.forEach((pathToMatch) => {\n        if (matched) return;\n        matched = PathToRegexp(pathToMatch, keys).exec(path);\n      });\n\n      if (matched) {\n        keys.forEach((keyObj, index) => {\n          if (typeof keyObj.name === 'number') return;\n          const paramValue = matched[index + 1];\n          if (typeof paramValue === 'undefined' || paramValue === null) {\n            params[keyObj.name] = paramValue;\n          } else {\n            params[keyObj.name] = decodeURIComponent(paramValue);\n          }\n        });\n\n        let parentPath;\n        if (route.parentPath) {\n          parentPath = path.split('/').slice(0, route.parentPath.split('/').length - 1).join('/');\n        }\n\n        matchingRoute = {\n          query,\n          hash,\n          params,\n          url,\n          path,\n          parentPath,\n          route,\n          name: route.name,\n        };\n      }\n    });\n    return matchingRoute;\n  }\n\n  // eslint-disable-next-line\n  replaceRequestUrlParams(url = '', options = {}) {\n    let compiledUrl = url;\n    if (typeof compiledUrl === 'string'\n      && compiledUrl.indexOf('{{') >= 0\n      && options\n      && options.route\n      && options.route.params\n      && Object.keys(options.route.params).length\n    ) {\n      Object.keys(options.route.params).forEach((paramName) => {\n        const regExp = new RegExp(`{{${paramName}}}`, 'g');\n        compiledUrl = compiledUrl.replace(regExp, options.route.params[paramName] || '');\n      });\n    }\n    return compiledUrl;\n  }\n\n  removeFromXhrCache(url) {\n    const router = this;\n    const xhrCache = router.cache.xhr;\n    let index = false;\n    for (let i = 0; i < xhrCache.length; i += 1) {\n      if (xhrCache[i].url === url) index = i;\n    }\n    if (index !== false) xhrCache.splice(index, 1);\n  }\n\n  xhrRequest(requestUrl, options) {\n    const router = this;\n    const params = router.params;\n    const { ignoreCache } = options;\n    let url = requestUrl;\n\n    let hasQuery = url.indexOf('?') >= 0;\n    if (params.passRouteQueryToRequest\n      && options\n      && options.route\n      && options.route.query\n      && Object.keys(options.route.query).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${Utils.serializeObject(options.route.query)}`;\n      hasQuery = true;\n    }\n\n    if (params.passRouteParamsToRequest\n      && options\n      && options.route\n      && options.route.params\n      && Object.keys(options.route.params).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${Utils.serializeObject(options.route.params)}`;\n      hasQuery = true;\n    }\n\n    if (url.indexOf('{{') >= 0) {\n      url = router.replaceRequestUrlParams(url, options);\n    }\n    // should we ignore get params or not\n    if (params.xhrCacheIgnoreGetParameters && url.indexOf('?') >= 0) {\n      url = url.split('?')[0];\n    }\n    return new Promise((resolve, reject) => {\n      if (params.xhrCache && !ignoreCache && url.indexOf('nocache') < 0 && params.xhrCacheIgnore.indexOf(url) < 0) {\n        for (let i = 0; i < router.cache.xhr.length; i += 1) {\n          const cachedUrl = router.cache.xhr[i];\n          if (cachedUrl.url === url) {\n            // Check expiration\n            if (Utils.now() - cachedUrl.time < params.xhrCacheDuration) {\n              // Load from cache\n              resolve(cachedUrl.content);\n              return;\n            }\n          }\n        }\n      }\n      router.xhr = router.app.request({\n        url,\n        method: 'GET',\n        beforeSend(xhr) {\n          router.emit('routerAjaxStart', xhr, options);\n        },\n        complete(xhr, status) {\n          router.emit('routerAjaxComplete', xhr);\n          if ((status !== 'error' && status !== 'timeout' && (xhr.status >= 200 && xhr.status < 300)) || xhr.status === 0) {\n            if (params.xhrCache && xhr.responseText !== '') {\n              router.removeFromXhrCache(url);\n              router.cache.xhr.push({\n                url,\n                time: Utils.now(),\n                content: xhr.responseText,\n              });\n            }\n            router.emit('routerAjaxSuccess', xhr, options);\n            resolve(xhr.responseText);\n          } else {\n            router.emit('routerAjaxError', xhr, options);\n            reject(xhr);\n          }\n        },\n        error(xhr) {\n          router.emit('routerAjaxError', xhr, options);\n          reject(xhr);\n        },\n      });\n    });\n  }\n\n  // Remove theme elements\n  removeThemeElements(el) {\n    const router = this;\n    const theme = router.app.theme;\n    let toRemove;\n    if (theme === 'ios') {\n      toRemove = '.md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios';\n    } else if (theme === 'md') {\n      toRemove = '.ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md';\n    } else if (theme === 'aurora') {\n      toRemove = '.ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora';\n    }\n    $(el).find(toRemove).remove();\n  }\n\n  getPageData(pageEl, navbarEl, from, to, route = {}, pageFromEl) {\n    const router = this;\n    const $pageEl = $(pageEl).eq(0);\n    const $navbarEl = $(navbarEl).eq(0);\n    const currentPage = $pageEl[0].f7Page || {};\n    let direction;\n    let pageFrom;\n    if ((from === 'next' && to === 'current') || (from === 'current' && to === 'previous')) direction = 'forward';\n    if ((from === 'current' && to === 'next') || (from === 'previous' && to === 'current')) direction = 'backward';\n    if (currentPage && !currentPage.fromPage) {\n      const $pageFromEl = $(pageFromEl);\n      if ($pageFromEl.length) {\n        pageFrom = $pageFromEl[0].f7Page;\n      }\n    }\n    pageFrom = currentPage.pageFrom || pageFrom;\n    if (pageFrom && pageFrom.pageFrom) {\n      pageFrom.pageFrom = null;\n    }\n    const page = {\n      app: router.app,\n      view: router.view,\n      router,\n      $el: $pageEl,\n      el: $pageEl[0],\n      $pageEl,\n      pageEl: $pageEl[0],\n      $navbarEl,\n      navbarEl: $navbarEl[0],\n      name: $pageEl.attr('data-name'),\n      position: from,\n      from,\n      to,\n      direction,\n      route: currentPage.route ? currentPage.route : route,\n      pageFrom,\n    };\n\n    $pageEl[0].f7Page = page;\n    return page;\n  }\n\n  // Callbacks\n  pageCallback(callback, pageEl, navbarEl, from, to, options = {}, pageFromEl) {\n    if (!pageEl) return;\n    const router = this;\n    const $pageEl = $(pageEl);\n    if (!$pageEl.length) return;\n    const $navbarEl = $(navbarEl);\n    const { route } = options;\n    const restoreScrollTopOnBack = router.params.restoreScrollTopOnBack\n      && !(\n        router.params.masterDetailBreakpoint > 0\n        && $pageEl.hasClass('page-master')\n        && router.app.width >= router.params.masterDetailBreakpoint\n      );\n    const keepAlive = $pageEl[0].f7Page && $pageEl[0].f7Page.route && $pageEl[0].f7Page.route.route && $pageEl[0].f7Page.route.route.keepAlive;\n\n    if (callback === 'beforeRemove' && keepAlive) {\n      callback = 'beforeUnmount'; // eslint-disable-line\n    }\n\n    const camelName = `page${callback[0].toUpperCase() + callback.slice(1, callback.length)}`;\n    const colonName = `page:${callback.toLowerCase()}`;\n\n    let page = {};\n    if (callback === 'beforeRemove' && $pageEl[0].f7Page) {\n      page = Utils.extend($pageEl[0].f7Page, { from, to, position: from });\n    } else {\n      page = router.getPageData($pageEl[0], $navbarEl[0], from, to, route, pageFromEl);\n    }\n    page.swipeBack = !!options.swipeBack;\n\n    const { on = {}, once = {} } = options.route ? options.route.route : {};\n    if (options.on) {\n      Utils.extend(on, options.on);\n    }\n    if (options.once) {\n      Utils.extend(once, options.once);\n    }\n\n    function attachEvents() {\n      if ($pageEl[0].f7RouteEventsAttached) return;\n      $pageEl[0].f7RouteEventsAttached = true;\n      if (on && Object.keys(on).length > 0) {\n        $pageEl[0].f7RouteEventsOn = on;\n        Object.keys(on).forEach((eventName) => {\n          on[eventName] = on[eventName].bind(router);\n          $pageEl.on(Utils.eventNameToColonCase(eventName), on[eventName]);\n        });\n      }\n      if (once && Object.keys(once).length > 0) {\n        $pageEl[0].f7RouteEventsOnce = once;\n        Object.keys(once).forEach((eventName) => {\n          once[eventName] = once[eventName].bind(router);\n          $pageEl.once(Utils.eventNameToColonCase(eventName), once[eventName]);\n        });\n      }\n    }\n\n    function detachEvents() {\n      if (!$pageEl[0].f7RouteEventsAttached) return;\n      if ($pageEl[0].f7RouteEventsOn) {\n        Object.keys($pageEl[0].f7RouteEventsOn).forEach((eventName) => {\n          $pageEl.off(Utils.eventNameToColonCase(eventName), $pageEl[0].f7RouteEventsOn[eventName]);\n        });\n      }\n      if ($pageEl[0].f7RouteEventsOnce) {\n        Object.keys($pageEl[0].f7RouteEventsOnce).forEach((eventName) => {\n          $pageEl.off(Utils.eventNameToColonCase(eventName), $pageEl[0].f7RouteEventsOnce[eventName]);\n        });\n      }\n      $pageEl[0].f7RouteEventsAttached = null;\n      $pageEl[0].f7RouteEventsOn = null;\n      $pageEl[0].f7RouteEventsOnce = null;\n      delete $pageEl[0].f7RouteEventsAttached;\n      delete $pageEl[0].f7RouteEventsOn;\n      delete $pageEl[0].f7RouteEventsOnce;\n    }\n\n    if (callback === 'mounted') {\n      attachEvents();\n    }\n    if (callback === 'init') {\n      if (restoreScrollTopOnBack && (from === 'previous' || !from) && to === 'current' && router.scrollHistory[page.route.url] && !$pageEl.hasClass('no-restore-scroll')) {\n        let $pageContent = $pageEl.find('.page-content');\n        if ($pageContent.length > 0) {\n          // eslint-disable-next-line\n          $pageContent = $pageContent.filter((pageContentIndex, pageContentEl) => {\n            return (\n              $(pageContentEl).parents('.tab:not(.tab-active)').length === 0\n              && !$(pageContentEl).is('.tab:not(.tab-active)')\n            );\n          });\n        }\n        $pageContent.scrollTop(router.scrollHistory[page.route.url]);\n      }\n      attachEvents();\n      if ($pageEl[0].f7PageInitialized) {\n        $pageEl.trigger('page:reinit', page);\n        router.emit('pageReinit', page);\n        return;\n      }\n      $pageEl[0].f7PageInitialized = true;\n    }\n    if (restoreScrollTopOnBack && callback === 'beforeOut' && from === 'current' && to === 'previous') {\n      // Save scroll position\n      let $pageContent = $pageEl.find('.page-content');\n      if ($pageContent.length > 0) {\n        // eslint-disable-next-line\n        $pageContent = $pageContent.filter((pageContentIndex, pageContentEl) => {\n          return (\n            $(pageContentEl).parents('.tab:not(.tab-active)').length === 0\n            && !$(pageContentEl).is('.tab:not(.tab-active)')\n          );\n        });\n      }\n      router.scrollHistory[page.route.url] = $pageContent.scrollTop();\n    }\n    if (restoreScrollTopOnBack && callback === 'beforeOut' && from === 'current' && to === 'next') {\n      // Delete scroll position\n      delete router.scrollHistory[page.route.url];\n    }\n\n    $pageEl.trigger(colonName, page);\n    router.emit(camelName, page);\n\n    if (callback === 'beforeRemove' || callback === 'beforeUnmount') {\n      detachEvents();\n      if (!keepAlive) {\n        if ($pageEl[0].f7Page && $pageEl[0].f7Page.navbarEl) {\n          delete $pageEl[0].f7Page.navbarEl.f7Page;\n        }\n        $pageEl[0].f7Page = null;\n      }\n    }\n  }\n\n  saveHistory() {\n    const router = this;\n    router.view.history = router.history;\n    if (router.params.pushState) {\n      window.localStorage[`f7router-${router.view.id}-history`] = JSON.stringify(router.history);\n    }\n  }\n\n  restoreHistory() {\n    const router = this;\n    if (router.params.pushState && window.localStorage[`f7router-${router.view.id}-history`]) {\n      router.history = JSON.parse(window.localStorage[`f7router-${router.view.id}-history`]);\n      router.view.history = router.history;\n    }\n  }\n\n  clearHistory() {\n    const router = this;\n    router.history = [];\n    if (router.view) router.view.history = [];\n    router.saveHistory();\n  }\n\n  updateCurrentUrl(newUrl) {\n    const router = this;\n    appRouterCheck(router, 'updateCurrentUrl');\n    // Update history\n    if (router.history.length) {\n      router.history[router.history.length - 1] = newUrl;\n    } else {\n      router.history.push(newUrl);\n    }\n\n    // Update current route params\n    const { query, hash, params, url, path } = router.parseRouteUrl(newUrl);\n    if (router.currentRoute) {\n      Utils.extend(router.currentRoute, {\n        query,\n        hash,\n        params,\n        url,\n        path,\n      });\n    }\n\n    if (router.params.pushState) {\n      const pushStateRoot = router.params.pushStateRoot || '';\n      History.replace(\n        router.view.id,\n        {\n          url: newUrl,\n        },\n        pushStateRoot + router.params.pushStateSeparator + newUrl\n      );\n    }\n\n    // Save History\n    router.saveHistory();\n\n    router.emit('routeUrlUpdate', router.currentRoute, router);\n  }\n\n  init() {\n    const router = this;\n    const { app, view } = router;\n\n    // Init Swipeback\n    if (\"universal\" !== 'desktop') {\n      if (\n        (view && router.params.iosSwipeBack && app.theme === 'ios')\n        || (view && router.params.mdSwipeBack && app.theme === 'md')\n        || (view && router.params.auroraSwipeBack && app.theme === 'aurora')\n      ) {\n        SwipeBack(router);\n      }\n    }\n\n    // Dynamic not separated navbbar\n    if (router.dynamicNavbar && !router.separateNavbar) {\n      router.$el.addClass('router-dynamic-navbar-inside');\n    }\n\n    let initUrl = router.params.url;\n    let documentUrl = document.location.href.split(document.location.origin)[1];\n    let historyRestored;\n    const { pushState, pushStateOnLoad, pushStateSeparator, pushStateAnimateOnLoad } = router.params;\n    let { pushStateRoot } = router.params;\n    if (window.cordova && pushState && !pushStateSeparator && !pushStateRoot && document.location.pathname.indexOf('index.html')) {\n      // eslint-disable-next-line\n      console.warn('Framework7: wrong or not complete pushState configuration, trying to guess pushStateRoot');\n      pushStateRoot = document.location.pathname.split('index.html')[0];\n    }\n    if (!pushState || !pushStateOnLoad) {\n      if (!initUrl) {\n        initUrl = documentUrl;\n      }\n      if (document.location.search && initUrl.indexOf('?') < 0) {\n        initUrl += document.location.search;\n      }\n      if (document.location.hash && initUrl.indexOf('#') < 0) {\n        initUrl += document.location.hash;\n      }\n    } else {\n      if (pushStateRoot && documentUrl.indexOf(pushStateRoot) >= 0) {\n        documentUrl = documentUrl.split(pushStateRoot)[1];\n        if (documentUrl === '') documentUrl = '/';\n      }\n      if (pushStateSeparator.length > 0 && documentUrl.indexOf(pushStateSeparator) >= 0) {\n        initUrl = documentUrl.split(pushStateSeparator)[1];\n      } else {\n        initUrl = documentUrl;\n      }\n      router.restoreHistory();\n      if (router.history.indexOf(initUrl) >= 0) {\n        router.history = router.history.slice(0, router.history.indexOf(initUrl) + 1);\n      } else if (router.params.url === initUrl) {\n        router.history = [initUrl];\n      } else if (History.state && History.state[view.id] && History.state[view.id].url === router.history[router.history.length - 1]) {\n        initUrl = router.history[router.history.length - 1];\n      } else {\n        router.history = [documentUrl.split(pushStateSeparator)[0] || '/', initUrl];\n      }\n      if (router.history.length > 1) {\n        historyRestored = true;\n      } else {\n        router.history = [];\n      }\n      router.saveHistory();\n    }\n    let currentRoute;\n    if (router.history.length > 1) {\n      // Will load page\n      currentRoute = router.findMatchingRoute(router.history[0]);\n      if (!currentRoute) {\n        currentRoute = Utils.extend(router.parseRouteUrl(router.history[0]), {\n          route: {\n            url: router.history[0],\n            path: router.history[0].split('?')[0],\n          },\n        });\n      }\n    } else {\n      // Don't load page\n      currentRoute = router.findMatchingRoute(initUrl);\n      if (!currentRoute) {\n        currentRoute = Utils.extend(router.parseRouteUrl(initUrl), {\n          route: {\n            url: initUrl,\n            path: initUrl.split('?')[0],\n          },\n        });\n      }\n    }\n\n    if (router.params.stackPages) {\n      router.$el.children('.page').each((index, pageEl) => {\n        const $pageEl = $(pageEl);\n        router.initialPages.push($pageEl[0]);\n        if (router.separateNavbar && $pageEl.children('.navbar').length > 0) {\n          router.initialNavbars.push($pageEl.children('.navbar').find('.navbar-inner')[0]);\n        }\n      });\n    }\n\n    if (router.$el.children('.page:not(.stacked)').length === 0 && initUrl) {\n      // No pages presented in DOM, reload new page\n      router.navigate(initUrl, {\n        initial: true,\n        reloadCurrent: true,\n        pushState: false,\n      });\n    } else {\n      // Init current DOM page\n      let hasTabRoute;\n      router.currentRoute = currentRoute;\n      router.$el.children('.page:not(.stacked)').each((index, pageEl) => {\n        const $pageEl = $(pageEl);\n        let $navbarInnerEl;\n        $pageEl.addClass('page-current');\n        if (router.separateNavbar) {\n          $navbarInnerEl = $pageEl.children('.navbar').children('.navbar-inner');\n          if ($navbarInnerEl.length > 0) {\n            if (!router.$navbarEl.parents(document).length) {\n              router.$el.prepend(router.$navbarEl);\n            }\n            $navbarInnerEl.addClass('navbar-current');\n            router.$navbarEl.append($navbarInnerEl);\n            if ($navbarInnerEl.children('.title-large').length) {\n              $navbarInnerEl.addClass('navbar-inner-large');\n            }\n            $pageEl.children('.navbar').remove();\n          } else {\n            router.$navbarEl.addClass('navbar-hidden');\n            if ($navbarInnerEl.children('.title-large').length) {\n              router.$navbarEl.addClass('navbar-hidden navbar-large-hidden');\n            }\n          }\n        }\n        if (router.currentRoute && router.currentRoute.route && router.currentRoute.route.master && router.params.masterDetailBreakpoint > 0) {\n          $pageEl.addClass('page-master');\n          $pageEl.trigger('page:role', { role: 'master' });\n          if ($navbarInnerEl && $navbarInnerEl.length) {\n            $navbarInnerEl.addClass('navbar-master');\n          }\n        }\n        const initOptions = {\n          route: router.currentRoute,\n        };\n        if (router.currentRoute && router.currentRoute.route && router.currentRoute.route.options) {\n          Utils.extend(initOptions, router.currentRoute.route.options);\n        }\n        router.currentPageEl = $pageEl[0];\n        if (router.separateNavbar && $navbarInnerEl.length) {\n          router.currentNavbarEl = $navbarInnerEl[0];\n        }\n        router.removeThemeElements($pageEl);\n        if (router.separateNavbar && $navbarInnerEl.length) {\n          router.removeThemeElements($navbarInnerEl);\n        }\n        if (initOptions.route.route.tab) {\n          hasTabRoute = true;\n          router.tabLoad(initOptions.route.route.tab, Utils.extend({}, initOptions));\n        }\n        router.pageCallback('init', $pageEl, $navbarInnerEl, 'current', undefined, initOptions);\n      });\n      if (historyRestored) {\n        router.navigate(initUrl, {\n          initial: true,\n          pushState: false,\n          history: false,\n          animate: pushStateAnimateOnLoad,\n          once: {\n            pageAfterIn() {\n              const preloadPreviousPage = router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n              if (preloadPreviousPage && router.history.length > 2) {\n                router.back({ preload: true });\n              }\n            },\n          },\n        });\n      }\n      if (!historyRestored && !hasTabRoute) {\n        router.history.push(initUrl);\n        router.saveHistory();\n      }\n    }\n    if (initUrl && pushState && pushStateOnLoad && (!History.state || !History.state[view.id])) {\n      History.initViewState(view.id, {\n        url: initUrl,\n      });\n    }\n    router.emit('local::init routerInit', router);\n  }\n\n  destroy() {\n    let router = this;\n\n    router.emit('local::destroy routerDestroy', router);\n\n    // Delete props & methods\n    Object.keys(router).forEach((routerProp) => {\n      router[routerProp] = null;\n      delete router[routerProp];\n    });\n\n    router = null;\n  }\n}\n\n// Load\nRouter.prototype.forward = forward;\nRouter.prototype.load = load;\nRouter.prototype.navigate = navigate;\nRouter.prototype.refreshPage = refreshPage;\n// Tab\nRouter.prototype.tabLoad = tabLoad;\nRouter.prototype.tabRemove = tabRemove;\n// Modal\nRouter.prototype.modalLoad = modalLoad;\nRouter.prototype.modalRemove = modalRemove;\n// Back\nRouter.prototype.backward = backward;\nRouter.prototype.loadBack = loadBack;\nRouter.prototype.back = back;\n// Clear previoius pages from the DOM\nRouter.prototype.clearPreviousPages = clearPreviousPages;\n// Clear history\nRouter.prototype.clearPreviousHistory = clearPreviousHistory;\n\n\nexport default Router;\n","import $ from 'dom7';\nimport { document } from 'ssr-window';\nimport Utils from '../../utils/utils';\nimport History from '../../utils/history';\nimport redirect from './redirect';\nimport processRouteQueue from './process-route-queue';\nimport appRouterCheck from './app-router-check';\n\nfunction refreshPage() {\n  const router = this;\n  appRouterCheck(router, 'refreshPage');\n  return router.navigate(router.currentRoute.url, {\n    ignoreCache: true,\n    reloadCurrent: true,\n  });\n}\n\nfunction forward(el, forwardOptions = {}) {\n  const router = this;\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n  const options = Utils.extend(false, {\n    animate: router.params.animate,\n    pushState: true,\n    replaceState: false,\n    history: true,\n    reloadCurrent: router.params.reloadPages,\n    reloadPrevious: false,\n    reloadAll: false,\n    clearPreviousHistory: false,\n    reloadDetail: router.params.reloadDetail,\n    on: {},\n  }, forwardOptions);\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster = masterDetailEnabled && options.route && options.route.route && options.route.route.master === true;\n  let masterPageEl;\n  let otherDetailPageEl;\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    ('popup popover sheet loginScreen actions customModal panel').split(' ').forEach((modalLoadProp) => {\n      if (router.currentRoute && router.currentRoute.route && router.currentRoute.route[modalLoadProp]) {\n        currentRouteIsModal = true;\n        modalType = modalLoadProp;\n      }\n    });\n  }\n\n  if (currentRouteIsModal) {\n    const modalToClose = router.currentRoute.modal\n                         || router.currentRoute.route.modalInstance\n                         || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute = router.findMatchingRoute(previousUrl);\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: Utils.parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n\n    router.modalRemove(modalToClose);\n  }\n\n  const dynamicNavbar = router.dynamicNavbar;\n  const separateNavbar = router.separateNavbar;\n\n  const $viewEl = router.$el;\n  const $newPage = $el;\n  const reload = options.reloadPrevious || options.reloadCurrent || options.reloadAll;\n  let $oldPage;\n\n  let $navbarEl;\n  let $newNavbarInner;\n  let $oldNavbarInner;\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  if (dynamicNavbar) {\n    $newNavbarInner = $newPage.children('.navbar').children('.navbar-inner');\n    if (separateNavbar) {\n      $navbarEl = router.$navbarEl;\n      if ($newNavbarInner.length > 0) {\n        $newPage.children('.navbar').remove();\n      }\n      if ($newNavbarInner.length === 0 && $newPage[0] && $newPage[0].f7Page) {\n        // Try from pageData\n        $newNavbarInner = $newPage[0].f7Page.$navbarEl;\n      }\n    }\n  }\n\n  // Save Keep Alive Cache\n  if (options.route && options.route.route && options.route.route.keepAlive && !options.route.route.keepAliveData) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  const $pagesInView = $viewEl\n    .children('.page:not(.stacked)')\n    .filter((index, pageInView) => pageInView !== $newPage[0]);\n\n  // Navbars In View\n  let $navbarsInView;\n  if (separateNavbar) {\n    $navbarsInView = $navbarEl\n      .children('.navbar-inner:not(.stacked)')\n      .filter((index, navbarInView) => navbarInView !== $newNavbarInner[0]);\n  }\n\n  // Exit when reload previous and only 1 page in view so nothing ro reload\n  if (options.reloadPrevious && $pagesInView.length < 2) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Find Detail' master page\n  let isDetail;\n  let reloadDetail;\n  if (masterDetailEnabled && !options.reloadAll) {\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl\n        && $pagesInView[i].classList.contains('page-master')\n      ) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n    isDetail = !isMaster && masterPageEl;\n\n    if (isDetail) {\n      // Find Other Detail\n      if (masterPageEl) {\n        for (let i = 0; i < $pagesInView.length; i += 1) {\n          if ($pagesInView[i].classList.contains('page-master-detail')\n          ) {\n            otherDetailPageEl = $pagesInView[i];\n            continue; // eslint-disable-line\n          }\n        }\n      }\n    }\n    reloadDetail = isDetail && options.reloadDetail && app.width >= router.params.masterDetailBreakpoint && masterPageEl;\n  }\n\n  // New Page\n  let newPagePosition = 'next';\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    newPagePosition = 'current';\n  } else if (options.reloadPrevious) {\n    newPagePosition = 'previous';\n  }\n  $newPage\n    .removeClass('page-previous page-current page-next')\n    .addClass(`page-${newPagePosition}${isMaster ? ' page-master' : ''}${isDetail ? ' page-master-detail' : ''}`)\n    .removeClass('stacked')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: newPagePosition });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], newPagePosition);\n\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail' });\n  }\n\n\n  if (dynamicNavbar && $newNavbarInner.length) {\n    $newNavbarInner\n      .removeClass('navbar-previous navbar-current navbar-next')\n      .addClass(`navbar-${newPagePosition}${isMaster ? ' navbar-master' : ''}${isDetail ? ' navbar-master-detail' : ''}`)\n      .removeClass('stacked');\n  }\n\n  // Find Old Page\n  if (options.reloadCurrent || reloadDetail) {\n    $oldPage = $pagesInView.eq($pagesInView.length - 1);\n    if (separateNavbar) {\n      // $oldNavbarInner = $navbarsInView.eq($pagesInView.length - 1);\n      $oldNavbarInner = $(app.navbar.getElByPage($oldPage));\n    }\n  } else if (options.reloadPrevious) {\n    $oldPage = $pagesInView.eq($pagesInView.length - 2);\n    if (separateNavbar) {\n      // $oldNavbarInner = $navbarsInView.eq($pagesInView.length - 2);\n      $oldNavbarInner = $(app.navbar.getElByPage($oldPage));\n    }\n  } else if (options.reloadAll) {\n    $oldPage = $pagesInView.filter((index, pageEl) => pageEl !== $newPage[0]);\n    if (separateNavbar) {\n      $oldNavbarInner = $navbarsInView.filter((index, navbarEl) => navbarEl !== $newNavbarInner[0]);\n    }\n  } else {\n    if ($pagesInView.length > 1) {\n      let i = 0;\n      for (i = 0; i < $pagesInView.length - 1; i += 1) {\n        if (masterPageEl\n          && $pagesInView[i] === masterPageEl\n        ) {\n          $pagesInView.eq(i).addClass('page-master-stacked');\n          $pagesInView.eq(i).trigger('page:masterstack');\n          router.emit('pageMasterStack', $pagesInView[i]);\n          if (separateNavbar) {\n            $(app.navbar.getElByPage(masterPageEl)).addClass('navbar-master-stacked');\n          }\n          continue; // eslint-disable-line\n        }\n        const oldNavbarInnerEl = app.navbar.getElByPage($pagesInView.eq(i));\n        if (router.params.stackPages) {\n          $pagesInView.eq(i).addClass('stacked');\n          $pagesInView.eq(i).trigger('page:stack');\n          router.emit('pageStack', $pagesInView[i]);\n          if (separateNavbar) {\n            $(oldNavbarInnerEl).addClass('stacked');\n          }\n        } else {\n          // Page remove event\n          router.pageCallback('beforeRemove', $pagesInView[i], $navbarsInView && $navbarsInView[i], 'previous', undefined, options);\n          router.removePage($pagesInView[i]);\n          if (separateNavbar && oldNavbarInnerEl) {\n            router.removeNavbar(oldNavbarInnerEl);\n          }\n        }\n      }\n    }\n    $oldPage = $viewEl\n      .children('.page:not(.stacked)')\n      .filter((index, page) => page !== $newPage[0]);\n    if (separateNavbar) {\n      $oldNavbarInner = $navbarEl\n        .children('.navbar-inner:not(.stacked)')\n        .filter((index, navbarInner) => navbarInner !== $newNavbarInner[0]);\n    }\n  }\n\n  if (dynamicNavbar && !separateNavbar) {\n    $oldNavbarInner = $oldPage.children('.navbar').children('.navbar-inner');\n  }\n  if (isDetail && !options.reloadAll) {\n    if ($oldPage.length > 1 || reloadDetail) {\n      $oldPage = $oldPage.filter((pageIndex, pageEl) => !pageEl.classList.contains('page-master'));\n    }\n    if ($oldNavbarInner && ($oldNavbarInner.length > 1 || reloadDetail)) {\n      $oldNavbarInner = $oldNavbarInner.filter((navbarIndex, navbarEl) => !navbarEl.classList.contains('navbar-master'));\n    }\n  }\n\n  // Push State\n  if (router.params.pushState && (options.pushState || options.replaceState) && !options.reloadPrevious) {\n    const pushStateRoot = router.params.pushStateRoot || '';\n    History[options.reloadCurrent || (reloadDetail && otherDetailPageEl) || options.reloadAll || options.replaceState ? 'replace' : 'push'](\n      view.id,\n      {\n        url: options.route.url,\n      },\n      pushStateRoot + router.params.pushStateSeparator + options.route.url\n    );\n  }\n\n  if (!options.reloadPrevious) {\n    // Current Page & Navbar\n    router.currentPageEl = $newPage[0];\n    if (dynamicNavbar && $newNavbarInner.length) {\n      router.currentNavbarEl = $newNavbarInner[0];\n    } else {\n      delete router.currentNavbarEl;\n    }\n\n    // Current Route\n    router.currentRoute = options.route;\n  }\n\n  // Update router history\n  const url = options.route.url;\n\n  if (options.history) {\n    if (((options.reloadCurrent || (reloadDetail && otherDetailPageEl)) && router.history.length) > 0 || options.replaceState) {\n      router.history[router.history.length - (options.reloadPrevious ? 2 : 1)] = url;\n    } else if (options.reloadPrevious) {\n      router.history[router.history.length - 2] = url;\n    } else if (options.reloadAll) {\n      router.history = [url];\n    } else {\n      router.history.push(url);\n    }\n  }\n  router.saveHistory();\n\n  // Insert new page and navbar\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const f7Component = $newPage[0].f7Component;\n  if (options.reloadPrevious) {\n    if (f7Component && !newPageInDom) {\n      f7Component.$mount((componentEl) => {\n        $(componentEl).insertBefore($oldPage);\n      });\n    } else {\n      $newPage.insertBefore($oldPage);\n    }\n    if (separateNavbar && $newNavbarInner.length) {\n      if ($newNavbarInner.children('.title-large').length) {\n        $newNavbarInner.addClass('navbar-inner-large');\n      }\n      if ($oldNavbarInner.length) {\n        $newNavbarInner.insertBefore($oldNavbarInner);\n      } else {\n        if (!router.$navbarEl.parents(document).length) {\n          router.$el.prepend(router.$navbarEl);\n        }\n        $navbarEl.append($newNavbarInner);\n      }\n    }\n  } else {\n    if ($oldPage.next('.page')[0] !== $newPage[0]) {\n      if (f7Component && !newPageInDom) {\n        f7Component.$mount((componentEl) => {\n          $viewEl.append(componentEl);\n        });\n      } else {\n        $viewEl.append($newPage[0]);\n      }\n    }\n    if (separateNavbar && $newNavbarInner.length) {\n      if ($newNavbarInner.children('.title-large').length) {\n        $newNavbarInner.addClass('navbar-inner-large');\n      }\n      if (!router.$navbarEl.parents(document).length) {\n        router.$el.prepend(router.$navbarEl);\n      }\n      $navbarEl.append($newNavbarInner[0]);\n    }\n  }\n  if (!newPageInDom) {\n    router.pageCallback('mounted', $newPage, $newNavbarInner, newPagePosition, reload ? newPagePosition : 'current', options, $oldPage);\n  } else if (options.route && options.route.route && options.route.route.keepAlive && !$newPage[0].f7PageMounted) {\n    $newPage[0].f7PageMounted = true;\n    router.pageCallback('mounted', $newPage, $newNavbarInner, newPagePosition, reload ? newPagePosition : 'current', options, $oldPage);\n  }\n\n  // Remove old page\n  if ((options.reloadCurrent || reloadDetail) && $oldPage.length > 0) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (separateNavbar) {\n        $oldNavbarInner.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeOut', $oldPage, $oldNavbarInner, 'current', undefined, options);\n      router.pageCallback('afterOut', $oldPage, $oldNavbarInner, 'current', undefined, options);\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarInner, 'current', undefined, options);\n      router.removePage($oldPage);\n      if (separateNavbar && $oldNavbarInner && $oldNavbarInner.length) {\n        router.removeNavbar($oldNavbarInner);\n      }\n    }\n  } else if (options.reloadAll) {\n    $oldPage.each((index, pageEl) => {\n      const $oldPageEl = $(pageEl);\n      const $oldNavbarInnerEl = $(app.navbar.getElByPage($oldPageEl));\n      if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n        $oldPageEl.addClass('stacked');\n        $oldPageEl.trigger('page:stack');\n        router.emit('pageStack', $oldPageEl[0]);\n        if (separateNavbar) {\n          $oldNavbarInnerEl.addClass('stacked');\n        }\n      } else {\n        // Page remove event\n        if ($oldPageEl.hasClass('page-current')) {\n          router.pageCallback('beforeOut', $oldPage, $oldNavbarInner, 'current', undefined, options);\n          router.pageCallback('afterOut', $oldPage, $oldNavbarInner, 'current', undefined, options);\n        }\n        router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarInner && $oldNavbarInner.eq(index), 'previous', undefined, options);\n        router.removePage($oldPageEl);\n        if (separateNavbar && $oldNavbarInnerEl.length) {\n          router.removeNavbar($oldNavbarInnerEl);\n        }\n      }\n    });\n  } else if (options.reloadPrevious) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (separateNavbar) {\n        $oldNavbarInner.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarInner, 'previous', undefined, options);\n      router.removePage($oldPage);\n      if (separateNavbar && $oldNavbarInner && $oldNavbarInner.length) {\n        router.removeNavbar($oldNavbarInner);\n      }\n    }\n  }\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(options.route.route.tab, Utils.extend({}, options, {\n      history: false,\n      pushState: false,\n    }));\n  }\n\n  // Page init and before init events\n  router.pageCallback('init', $newPage, $newNavbarInner, newPagePosition, reload ? newPagePosition : 'current', options, $oldPage);\n\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    router.allowPageChange = true;\n    router.pageCallback('beforeIn', $newPage, $newNavbarInner, newPagePosition, 'current', options);\n    $newPage.removeAttr('aria-hidden');\n    if (dynamicNavbar && $newNavbarInner) {\n      $newNavbarInner.removeAttr('aria-hidden');\n    }\n    router.pageCallback('afterIn', $newPage, $newNavbarInner, newPagePosition, 'current', options);\n    if (options.reloadCurrent && options.clearPreviousHistory) router.clearPreviousHistory();\n    if (reloadDetail) {\n      masterPageEl.classList.add('page-previous');\n      masterPageEl.classList.remove('page-current');\n      $(masterPageEl).trigger('page:position', { position: 'previous' });\n      router.emit('pagePosition', masterPageEl, 'previous');\n\n      if (masterPageEl.f7Page && masterPageEl.f7Page.navbarEl) {\n        masterPageEl.f7Page.navbarEl.classList.add('navbar-previous');\n        masterPageEl.f7Page.navbarEl.classList.remove('navbar-current');\n      }\n    }\n    return router;\n  }\n  if (options.reloadPrevious) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Before animation event\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarInner, 'current', 'previous', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarInner, 'next', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    const pageClasses = 'page-previous page-current page-next';\n    const navbarClasses = 'navbar-previous navbar-current navbar-next';\n    $newPage.removeClass(pageClasses).addClass('page-current').removeAttr('aria-hidden').trigger('page:position', { position: 'current' });\n    router.emit('pagePosition', $newPage[0], 'current');\n    $oldPage.removeClass(pageClasses).addClass('page-previous').trigger('page:position', { position: 'previous' });\n    router.emit('pagePosition', $oldPage[0], 'previous');\n\n    if (!$oldPage.hasClass('page-master')) {\n      $oldPage.attr('aria-hidden', 'true');\n    }\n    if (dynamicNavbar) {\n      $newNavbarInner.removeClass(navbarClasses).addClass('navbar-current').removeAttr('aria-hidden');\n      $oldNavbarInner.removeClass(navbarClasses).addClass('navbar-previous');\n      if (!$oldNavbarInner.hasClass('navbar-master')) {\n        $oldNavbarInner.attr('aria-hidden', 'true');\n      }\n    }\n    // After animation event\n    router.allowPageChange = true;\n    router.pageCallback('afterOut', $oldPage, $oldNavbarInner, 'current', 'previous', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarInner, 'next', 'current', options);\n\n    let keepOldPage = (router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`]) && !isMaster;\n    if (!keepOldPage) {\n      if ($newPage.hasClass('smart-select-page') || $newPage.hasClass('photo-browser-page') || $newPage.hasClass('autocomplete-page') || $newPage.hasClass('color-picker-page')) {\n        keepOldPage = true;\n      }\n    }\n    if (!keepOldPage) {\n      if (router.params.stackPages) {\n        $oldPage.addClass('stacked');\n        $oldPage.trigger('page:stack');\n        router.emit('pageStack', $oldPage[0]);\n        if (separateNavbar) {\n          $oldNavbarInner.addClass('stacked');\n        }\n      } else if (!($newPage.attr('data-name') && $newPage.attr('data-name') === 'smart-select-page')) {\n        // Remove event\n        router.pageCallback('beforeRemove', $oldPage, $oldNavbarInner, 'previous', undefined, options);\n        router.removePage($oldPage);\n        if (separateNavbar && $oldNavbarInner.length) {\n          router.removeNavbar($oldNavbarInner);\n        }\n      }\n    }\n    if (options.clearPreviousHistory) router.clearPreviousHistory();\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    if (router.params.pushState) {\n      History.clearRouterQueue();\n    }\n  }\n  function setPositionClasses() {\n    const pageClasses = 'page-previous page-current page-next';\n    const navbarClasses = 'navbar-previous navbar-current navbar-next';\n    $oldPage.removeClass(pageClasses).addClass('page-current').removeAttr('aria-hidden').trigger('page:position', { position: 'current' });\n    router.emit('pagePosition', $oldPage[0], 'current');\n    $newPage.removeClass(pageClasses).addClass('page-next').removeAttr('aria-hidden').trigger('page:position', { position: 'next' });\n    router.emit('pagePosition', $newPage[0], 'next');\n    if (dynamicNavbar) {\n      $oldNavbarInner.removeClass(navbarClasses).addClass('navbar-current').removeAttr('aria-hidden');\n      $newNavbarInner.removeClass(navbarClasses).addClass('navbar-next').removeAttr('aria-hidden');\n    }\n  }\n  if (options.animate && !(isMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    const delay = router.params[`${router.app.theme}PageLoadDelay`];\n    if (delay) {\n      setTimeout(() => {\n        setPositionClasses();\n        router.animate($oldPage, $newPage, $oldNavbarInner, $newNavbarInner, 'forward', () => {\n          afterAnimation();\n        });\n      }, delay);\n    } else {\n      setPositionClasses();\n      router.animate($oldPage, $newPage, $oldNavbarInner, $newNavbarInner, 'forward', () => {\n        afterAnimation();\n      });\n    }\n  } else {\n    afterAnimation();\n  }\n  return router;\n}\nfunction load(loadParams = {}, loadOptions = {}, ignorePageChange) {\n  const router = this;\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = loadParams;\n  const options = loadOptions;\n  const { url, content, el, pageName, template, templateUrl, component, componentUrl } = params;\n\n  if (!options.reloadCurrent\n    && options.route\n    && options.route.route\n    && options.route.route.parentPath\n    && router.currentRoute.route\n    && router.currentRoute.route.parentPath === options.route.route.parentPath) {\n    // Do something nested\n    if (options.route.url === router.url) {\n      router.allowPageChange = true;\n      return false;\n    }\n    // Check for same params\n    let sameParams = Object.keys(options.route.params).length === Object.keys(router.currentRoute.params).length;\n    if (sameParams) {\n      // Check for equal params name\n      Object.keys(options.route.params).forEach((paramName) => {\n        if (\n          !(paramName in router.currentRoute.params)\n          || (router.currentRoute.params[paramName] !== options.route.params[paramName])\n        ) {\n          sameParams = false;\n        }\n      });\n    }\n    if (sameParams) {\n      if (options.route.route.tab) {\n        return router.tabLoad(options.route.route.tab, options);\n      }\n      return false;\n    }\n    if (!sameParams\n      && options.route.route.tab\n      && router.currentRoute.route.tab\n      && router.currentRoute.parentPath === options.route.parentPath\n    ) {\n      return router.tabLoad(options.route.route.tab, options);\n    }\n  }\n\n  if (\n    options.route\n    && options.route.url\n    && router.url === options.route.url\n    && !(options.reloadCurrent || options.reloadPrevious)\n    && !router.params.allowDuplicateUrls\n  ) {\n    router.allowPageChange = true;\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n    Utils.extend(options.route, { route: { url, path: url } });\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return router.forward(pageEl, Utils.extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || templateUrl || componentUrl) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    router.forward(router.getPageEl(content), options);\n  } else if (template || templateUrl) {\n    // Parse template and send page element\n    try {\n      router.pageTemplateLoader(template, templateUrl, options, resolve, reject);\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    router.forward(router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    router.forward(router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (F7/Vue/React/...)\n    try {\n      router.pageComponentLoader(router.el, component, componentUrl, options, resolve, reject);\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhr) {\n      router.xhr.abort();\n      router.xhr = false;\n    }\n    router.xhrRequest(url, options)\n      .then((pageContent) => {\n        router.forward(router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\nfunction navigate(navigateParams, navigateOptions = {}) {\n  const router = this;\n  if (router.swipeBackActive) return router;\n  let url;\n  let createRoute;\n  let name;\n  let query;\n  let params;\n  let route;\n  if (typeof navigateParams === 'string') {\n    url = navigateParams;\n  } else {\n    url = navigateParams.url;\n    createRoute = navigateParams.route;\n    name = navigateParams.name;\n    query = navigateParams.query;\n    params = navigateParams.params;\n  }\n  if (name) {\n    // find route by name\n    route = router.findRouteByKey('name', name);\n    if (!route) {\n      throw new Error(`Framework7: route with name \"${name}\" not found`);\n    }\n    url = router.constructRouteUrl(route, { params, query });\n    if (url) {\n      return router.navigate(url, navigateOptions);\n    }\n    throw new Error(`Framework7: can't construct URL for route with name \"${name}\"`);\n  }\n  const app = router.app;\n  appRouterCheck(router, 'navigate');\n  if (url === '#' || url === '') {\n    return router;\n  }\n\n  let navigateUrl = url.replace('./', '');\n  if (navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    const currentPath = router.currentRoute.parentPath || router.currentRoute.path;\n    navigateUrl = ((currentPath ? `${currentPath}/` : '/') + navigateUrl)\n      .replace('///', '/')\n      .replace('//', '/');\n  }\n  if (createRoute) {\n    route = Utils.extend(router.parseRouteUrl(navigateUrl), {\n      route: Utils.extend({}, createRoute),\n    });\n  } else {\n    route = router.findMatchingRoute(navigateUrl);\n  }\n\n  if (!route) {\n    return router;\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'navigate', route, navigateOptions);\n  }\n\n\n  const options = {};\n  if (route.route.options) {\n    Utils.extend(options, route.route.options, navigateOptions);\n  } else {\n    Utils.extend(options, navigateOptions);\n  }\n  options.route = route;\n\n  if (options && options.context) {\n    route.context = options.context;\n    options.route.context = options.context;\n  }\n\n  function resolve() {\n    let routerLoaded = false;\n    ('popup popover sheet loginScreen actions customModal panel').split(' ').forEach((modalLoadProp) => {\n      if (route.route[modalLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        router.modalLoad(modalLoadProp, route, options);\n      }\n    });\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      router.load({ el: route.route.keepAliveData.pageEl }, options, false);\n      routerLoaded = true;\n    }\n    ('url content component pageName el componentUrl template templateUrl').split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        router.load({ [pageLoadProp]: route.route[pageLoadProp] }, options, false);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      let resolvedAsModal = false;\n      if (resolveOptions && resolveOptions.context) {\n        if (!route.context) route.context = resolveOptions.context;\n        else route.context = Utils.extend({}, route.context, resolveOptions.context);\n        options.route.context = route.context;\n      }\n      ('popup popover sheet loginScreen actions customModal panel').split(' ').forEach((modalLoadProp) => {\n        if (resolveParams[modalLoadProp]) {\n          resolvedAsModal = true;\n          const modalRoute = Utils.extend({}, route, { route: resolveParams });\n          router.allowPageChange = true;\n          router.modalLoad(modalLoadProp, modalRoute, Utils.extend(options, resolveOptions));\n        }\n      });\n      if (resolvedAsModal) return;\n      router.load(resolveParams, Utils.extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n\n      route.route.async.call(router, options.route, router.currentRoute, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (router.params.masterDetailBreakpoint > 0 && route.route.masterRoute) {\n    // load detail route\n    let preloadMaster = true;\n    let masterLoaded = false;\n    if (router.currentRoute && router.currentRoute.route) {\n      if (\n        router.currentRoute.route.master\n        && (\n          router.currentRoute.route === route.route.masterRoute\n          || router.currentRoute.route.path === route.route.masterRoute.path\n        )\n      ) {\n        preloadMaster = false;\n      }\n      if (\n        router.currentRoute.route.masterRoute\n        && (router.currentRoute.route.masterRoute === route.route.masterRoute\n          || router.currentRoute.route.masterRoute.path === route.route.masterRoute.path\n        )\n      ) {\n        preloadMaster = false;\n        masterLoaded = true;\n      }\n    }\n    if (preloadMaster || (masterLoaded && navigateOptions.reloadAll)) {\n      router.navigate(route.route.masterRoute.path, {\n        animate: false,\n        reloadAll: navigateOptions.reloadAll,\n        reloadCurrent: navigateOptions.reloadCurrent,\n        reloadPrevious: navigateOptions.reloadPrevious,\n        pushState: !navigateOptions.initial,\n        history: !navigateOptions.initial,\n        once: {\n          pageAfterIn() {\n            router.navigate(navigateParams, Utils.extend({}, navigateOptions, {\n              animate: false,\n              reloadAll: false,\n              reloadCurrent: false,\n              reloadPrevious: false,\n              history: !navigateOptions.initial,\n              pushState: !navigateOptions.initial,\n            }));\n          },\n        },\n      });\n      return router;\n    }\n  }\n\n  processRouteQueue.call(\n    router,\n    route,\n    router.currentRoute,\n    () => {\n      if (route.route.modules) {\n        app\n          .loadModules(Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules])\n          .then(() => {\n            resolve();\n          })\n          .catch(() => {\n            reject();\n          });\n      } else {\n        resolve();\n      }\n    },\n    () => {\n      reject();\n    },\n  );\n\n  // Return Router\n  return router;\n}\nexport { refreshPage, forward, load, navigate };\n","import $ from 'dom7';\nimport Utils from '../../utils/utils';\nimport History from '../../utils/history';\n\nfunction tabLoad(tabRoute, loadOptions = {}) {\n  const router = this;\n  const options = Utils.extend({\n    animate: router.params.animate,\n    pushState: true,\n    history: true,\n    parentPageEl: null,\n    preload: false,\n    on: {},\n  }, loadOptions);\n\n  let currentRoute;\n  let previousRoute;\n  if (options.route) {\n    // Set Route\n    if (!options.preload && options.route !== router.currentRoute) {\n      previousRoute = router.previousRoute;\n      router.currentRoute = options.route;\n    }\n    if (options.preload) {\n      currentRoute = options.route;\n      previousRoute = router.currentRoute;\n    } else {\n      currentRoute = router.currentRoute;\n      if (!previousRoute) previousRoute = router.previousRoute;\n    }\n\n    // Update Browser History\n    if (router.params.pushState && options.pushState && !options.reloadPrevious) {\n      History.replace(\n        router.view.id,\n        {\n          url: options.route.url,\n        },\n        (router.params.pushStateRoot || '') + router.params.pushStateSeparator + options.route.url\n      );\n    }\n\n    // Update Router History\n    if (options.history) {\n      router.history[Math.max(router.history.length - 1, 0)] = options.route.url;\n      router.saveHistory();\n    }\n  }\n\n  // Show Tab\n  const $parentPageEl = $(options.parentPageEl || router.currentPageEl);\n  let tabEl;\n  if ($parentPageEl.length && $parentPageEl.find(`#${tabRoute.id}`).length) {\n    tabEl = $parentPageEl.find(`#${tabRoute.id}`).eq(0);\n  } else if (router.view.selector) {\n    tabEl = `${router.view.selector} #${tabRoute.id}`;\n  } else {\n    tabEl = `#${tabRoute.id}`;\n  }\n  const tabShowResult = router.app.tab.show({\n    tabEl,\n    animate: options.animate,\n    tabRoute: options.route,\n  });\n\n  const { $newTabEl, $oldTabEl, animated, onTabsChanged } = tabShowResult;\n\n  if ($newTabEl && $newTabEl.parents('.page').length > 0 && options.route) {\n    const tabParentPageData = $newTabEl.parents('.page')[0].f7Page;\n    if (tabParentPageData && options.route) {\n      tabParentPageData.route = options.route;\n    }\n  }\n\n  // Tab Content Loaded\n  function onTabLoaded(contentEl) {\n    // Remove theme elements\n    router.removeThemeElements($newTabEl);\n\n    let tabEventTarget = $newTabEl;\n    if (typeof contentEl !== 'string') tabEventTarget = $(contentEl);\n\n    tabEventTarget.trigger('tab:init tab:mounted', tabRoute);\n    router.emit('tabInit tabMounted', $newTabEl[0], tabRoute);\n\n    if ($oldTabEl && $oldTabEl.length) {\n      if (animated) {\n        onTabsChanged(() => {\n          router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n          if (router.params.unloadTabContent) {\n            router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n          }\n        });\n      } else {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n        if (router.params.unloadTabContent) {\n          router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n        }\n      }\n    }\n  }\n\n  if ($newTabEl[0].f7RouterTabLoaded) {\n    if (!$oldTabEl || !$oldTabEl.length) return router;\n    if (animated) {\n      onTabsChanged(() => {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n      });\n    } else {\n      router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n    }\n    return router;\n  }\n\n  // Load Tab Content\n  function loadTab(loadTabParams, loadTabOptions) {\n    // Load Tab Props\n    const { url, content, el, template, templateUrl, component, componentUrl } = loadTabParams;\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      router.allowPageChange = true;\n      if (!contentEl) return;\n      if (typeof contentEl === 'string') {\n        $newTabEl.html(contentEl);\n      } else {\n        $newTabEl.html('');\n        if (contentEl.f7Component) {\n          contentEl.f7Component.$mount((componentEl) => {\n            $newTabEl.append(componentEl);\n          });\n        } else {\n          $newTabEl.append(contentEl);\n        }\n      }\n      $newTabEl[0].f7RouterTabLoaded = true;\n      onTabLoaded(contentEl);\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (template || templateUrl) {\n      try {\n        router.tabTemplateLoader(template, templateUrl, loadTabOptions, resolve, reject);\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (el) {\n      resolve(el);\n    } else if (component || componentUrl) {\n      // Load from component (F7/Vue/React/...)\n      try {\n        router.tabComponentLoader($newTabEl[0], component, componentUrl, loadTabOptions, resolve, reject);\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhr) {\n        router.xhr.abort();\n        router.xhr = false;\n      }\n      router.xhrRequest(url, loadTabOptions)\n        .then((tabContent) => {\n          resolve(tabContent);\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    }\n  }\n\n  let hasContentLoadProp;\n  ('url content component el componentUrl template templateUrl').split(' ').forEach((tabLoadProp) => {\n    if (tabRoute[tabLoadProp]) {\n      hasContentLoadProp = true;\n      loadTab({ [tabLoadProp]: tabRoute[tabLoadProp] }, options);\n    }\n  });\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadTab(resolveParams, Utils.extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (tabRoute.async) {\n    tabRoute.async.call(router, currentRoute, previousRoute, asyncResolve, asyncReject);\n  } else if (!hasContentLoadProp) {\n    router.allowPageChange = true;\n  }\n\n  return router;\n}\nfunction tabRemove($oldTabEl, $newTabEl, tabRoute) {\n  const router = this;\n\n  let hasTabComponentChild;\n  if ($oldTabEl[0]) {\n    $oldTabEl[0].f7RouterTabLoaded = false;\n    delete $oldTabEl[0].f7RouterTabLoaded;\n  }\n  $oldTabEl.children().each((index, tabChild) => {\n    if (tabChild.f7Component) {\n      hasTabComponentChild = true;\n      $(tabChild).trigger('tab:beforeremove', tabRoute);\n      tabChild.f7Component.$destroy();\n    }\n  });\n  if (!hasTabComponentChild) {\n    $oldTabEl.trigger('tab:beforeremove', tabRoute);\n  }\n  router.emit('tabBeforeRemove', $oldTabEl[0], $newTabEl[0], tabRoute);\n  router.removeTabContent($oldTabEl[0], tabRoute);\n}\n\nexport { tabLoad, tabRemove };\n","import Utils from '../../utils/utils';\nimport History from '../../utils/history';\n\nfunction modalLoad(modalType, route, loadOptions = {}) {\n  const router = this;\n  const app = router.app;\n  const isPanel = modalType === 'panel';\n  const modalOrPanel = isPanel ? 'panel' : 'modal';\n\n  const options = Utils.extend({\n    animate: router.params.animate,\n    pushState: true,\n    history: true,\n    on: {},\n  }, loadOptions);\n\n  const modalParams = Utils.extend({}, route.route[modalType]);\n  const modalRoute = route.route;\n\n  function onModalLoaded() {\n    // Create Modal\n    const modal = app[modalType].create(modalParams);\n    modalRoute.modalInstance = modal;\n\n    const hasEl = modal.el;\n\n    function closeOnSwipeBack() {\n      modal.close();\n    }\n    modal.on(`${modalOrPanel}Open`, () => {\n      if (!hasEl) {\n        // Remove theme elements\n        router.removeThemeElements(modal.el);\n\n        // Emit events\n        modal.$el.trigger(`${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`, route, modal);\n        router.emit(`${!isPanel ? 'modalInit' : ''} ${modalType}Init ${modalType}Mounted`, modal.el, route, modal);\n      }\n      router.once('swipeBackMove', closeOnSwipeBack);\n    });\n    modal.on(`${modalOrPanel}Close`, () => {\n      router.off('swipeBackMove', closeOnSwipeBack);\n      if (!modal.closeByRouter) {\n        router.back();\n      }\n    });\n\n    modal.on(`${modalOrPanel}Closed`, () => {\n      modal.$el.trigger(`${modalType.toLowerCase()}:beforeremove`, route, modal);\n      modal.emit(`${!isPanel ? 'modalBeforeRemove ' : ''}${modalType}BeforeRemove`, modal.el, route, modal);\n      const modalComponent = modal.el.f7Component;\n      if (modalComponent) {\n        modalComponent.$destroy();\n      }\n      Utils.nextTick(() => {\n        if (modalComponent || modalParams.component) {\n          router.removeModal(modal.el);\n        }\n        modal.destroy();\n        delete modal.route;\n        delete modalRoute.modalInstance;\n      });\n    });\n\n    if (options.route) {\n      // Update Browser History\n      if (router.params.pushState && options.pushState) {\n        History.push(\n          router.view.id,\n          {\n            url: options.route.url,\n            modal: modalType,\n          },\n          (router.params.pushStateRoot || '') + router.params.pushStateSeparator + options.route.url\n        );\n      }\n\n      // Set Route\n      if (options.route !== router.currentRoute) {\n        modal.route = Utils.extend(options.route, { modal });\n        router.currentRoute = modal.route;\n      }\n\n      // Update Router History\n      if (options.history) {\n        router.history.push(options.route.url);\n        router.saveHistory();\n      }\n    }\n\n    if (hasEl) {\n      // Remove theme elements\n      router.removeThemeElements(modal.el);\n\n      // Emit events\n      modal.$el.trigger(`${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`, route, modal);\n      router.emit(`${modalOrPanel}Init ${modalType}Init ${modalType}Mounted`, modal.el, route, modal);\n    }\n\n    // Open\n    modal.open();\n  }\n\n  // Load Modal Content\n  function loadModal(loadModalParams, loadModalOptions) {\n    // Load Modal Props\n    const { url, content, template, templateUrl, component, componentUrl } = loadModalParams;\n\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      if (contentEl) {\n        if (typeof contentEl === 'string') {\n          modalParams.content = contentEl;\n        } else if (contentEl.f7Component) {\n          contentEl.f7Component.$mount((componentEl) => {\n            modalParams.el = componentEl;\n            app.root.append(componentEl);\n          });\n        } else {\n          modalParams.el = contentEl;\n        }\n        onModalLoaded();\n      }\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (template || templateUrl) {\n      try {\n        router.modalTemplateLoader(template, templateUrl, loadModalOptions, resolve, reject);\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (component || componentUrl) {\n      // Load from component (F7/Vue/React/...)\n      try {\n        router.modalComponentLoader(app.root[0], component, componentUrl, loadModalOptions, resolve, reject);\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhr) {\n        router.xhr.abort();\n        router.xhr = false;\n      }\n      router.xhrRequest(url, loadModalOptions)\n        .then((modalContent) => {\n          modalParams.content = modalContent;\n          onModalLoaded();\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    } else {\n      onModalLoaded();\n    }\n  }\n\n  let foundLoadProp;\n  ('url content component el componentUrl template templateUrl').split(' ').forEach((modalLoadProp) => {\n    if (modalParams[modalLoadProp] && !foundLoadProp) {\n      foundLoadProp = true;\n      loadModal({ [modalLoadProp]: modalParams[modalLoadProp] }, options);\n    }\n  });\n  if (!foundLoadProp && modalType === 'actions') {\n    onModalLoaded();\n  }\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadModal(resolveParams, Utils.extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (modalParams.async) {\n    modalParams.async.call(router, options.route, router.currentRoute, asyncResolve, asyncReject);\n  }\n  return router;\n}\nfunction modalRemove(modal) {\n  Utils.extend(modal, { closeByRouter: true });\n  modal.close();\n}\n\nexport { modalLoad, modalRemove };\n","import $ from 'dom7';\nimport { document } from 'ssr-window';\nimport Utils from '../../utils/utils';\nimport Device from '../../utils/device';\nimport History from '../../utils/history';\nimport redirect from './redirect';\nimport processRouteQueue from './process-route-queue';\nimport appRouterCheck from './app-router-check';\n\nfunction backward(el, backwardOptions) {\n  const router = this;\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n\n  const options = Utils.extend({\n    animate: router.params.animate,\n    pushState: true,\n    replaceState: false,\n  }, backwardOptions);\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster = masterDetailEnabled && options.route && options.route.route && options.route.route.master === true;\n  let masterPageEl;\n\n  const dynamicNavbar = router.dynamicNavbar;\n  const separateNavbar = router.separateNavbar;\n\n  const $newPage = $el;\n  const $oldPage = router.$el.children('.page-current');\n  const currentIsMaster = masterDetailEnabled && $oldPage.hasClass('page-master');\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  let $navbarEl;\n  let $newNavbarInner;\n  let $oldNavbarInner;\n\n  if (dynamicNavbar) {\n    $newNavbarInner = $newPage.children('.navbar').children('.navbar-inner');\n    if (separateNavbar) {\n      $navbarEl = router.$navbarEl;\n      if ($newNavbarInner.length > 0) {\n        $newPage.children('.navbar').remove();\n      }\n      if ($newNavbarInner.length === 0 && $newPage[0] && $newPage[0].f7Page) {\n        // Try from pageData\n        $newNavbarInner = $newPage[0].f7Page.$navbarEl;\n      }\n      $oldNavbarInner = $navbarEl.find('.navbar-current');\n    } else {\n      $oldNavbarInner = $oldPage.children('.navbar').children('.navbar-inner');\n    }\n  }\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0 || $oldPage.length === 0) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Remove theme elements\n  router.removeThemeElements($newPage);\n\n  // Save Keep Alive Cache\n  if (options.route && options.route.route && options.route.route.keepAlive && !options.route.route.keepAliveData) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  let isDetail;\n  if (masterDetailEnabled) {\n    const $pagesInView = router.$el\n      .children('.page:not(.stacked)')\n      .filter((index, pageInView) => pageInView !== $newPage[0]);\n\n    // Find Detail' master page\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl\n        && $pagesInView[i].classList.contains('page-master')\n      ) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n\n    isDetail = !isMaster\n      && masterPageEl\n      && (router.history.indexOf(options.route.url) > router.history.indexOf(masterPageEl.f7Page.route.url));\n\n    if (!isDetail && !isMaster && masterPageEl && masterPageEl.f7Page && options.route.route.masterRoute) {\n      isDetail = options.route.route.masterRoute.path === masterPageEl.f7Page.route.route.path;\n    }\n  }\n\n\n  // New Page\n  $newPage\n    .addClass(`page-previous${isMaster ? ' page-master' : ''}${isDetail ? ' page-master-detail' : ''}`)\n    .removeClass('stacked')\n    .removeAttr('aria-hidden')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: 'previous' });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], 'previous');\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail' });\n  }\n\n  if (dynamicNavbar && $newNavbarInner.length > 0) {\n    $newNavbarInner\n      .addClass(`navbar-previous${isMaster ? ' navbar-master' : ''}${isDetail ? ' navbar-master-detail' : ''}`)\n      .removeClass('stacked')\n      .removeAttr('aria-hidden');\n  }\n\n  // Remove previous page in case of \"forced\"\n  let backIndex;\n  if (options.force) {\n    if ($oldPage.prev('.page-previous:not(.stacked)').length > 0 || $oldPage.prev('.page-previous').length === 0) {\n      if (router.history.indexOf(options.route.url) >= 0) {\n        backIndex = router.history.length - router.history.indexOf(options.route.url) - 1;\n        router.history = router.history.slice(0, router.history.indexOf(options.route.url) + 2);\n        view.history = router.history;\n      } else if (router.history[[router.history.length - 2]]) {\n        router.history[router.history.length - 2] = options.route.url;\n      } else {\n        router.history.unshift(router.url);\n      }\n\n      if (backIndex && router.params.stackPages) {\n        $oldPage.prevAll('.page-previous').each((index, pageToRemove) => {\n          const $pageToRemove = $(pageToRemove);\n          let $navbarToRemove;\n          if (separateNavbar) {\n            // $navbarToRemove = $oldNavbarInner.prevAll('.navbar-previous').eq(index);\n            $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n          }\n          if ($pageToRemove[0] !== $newPage[0] && $pageToRemove.index() > $newPage.index()) {\n            if (router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n              $pageToRemove.addClass('stacked');\n              $pageToRemove.trigger('page:stack');\n              router.emit('pageStack', $pageToRemove[0]);\n              if (separateNavbar) {\n                $navbarToRemove.addClass('stacked');\n              }\n            } else {\n              router.pageCallback('beforeRemove', $pageToRemove, $navbarToRemove, 'previous', undefined, options);\n              router.removePage($pageToRemove);\n              if (separateNavbar && $navbarToRemove.length > 0) {\n                router.removeNavbar($navbarToRemove);\n              }\n            }\n          }\n        });\n      } else {\n        const $pageToRemove = $oldPage.prev('.page-previous:not(.stacked)');\n        let $navbarToRemove;\n        if (separateNavbar) {\n          // $navbarToRemove = $oldNavbarInner.prev('.navbar-inner:not(.stacked)');\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          $navbarToRemove.addClass('stacked');\n        } else if ($pageToRemove.length > 0) {\n          router.pageCallback('beforeRemove', $pageToRemove, $navbarToRemove, 'previous', undefined, options);\n          router.removePage($pageToRemove);\n          if (separateNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      }\n    }\n  }\n\n  // Insert new page\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const f7Component = $newPage[0].f7Component;\n\n  function insertPage() {\n    if ($newPage.next($oldPage).length === 0) {\n      if (!newPageInDom && f7Component) {\n        f7Component.$mount((componentEl) => {\n          $(componentEl).insertBefore($oldPage);\n        });\n      } else {\n        $newPage.insertBefore($oldPage);\n      }\n    }\n    if (separateNavbar && $newNavbarInner.length) {\n      if ($newNavbarInner.children('.title-large').length) {\n        $newNavbarInner.addClass('navbar-inner-large');\n      }\n      $newNavbarInner.insertBefore($oldNavbarInner);\n      if ($oldNavbarInner.length > 0) {\n        $newNavbarInner.insertBefore($oldNavbarInner);\n      } else {\n        if (!router.$navbarEl.parents(document).length) {\n          router.$el.prepend(router.$navbarEl);\n        }\n        $navbarEl.append($newNavbarInner);\n      }\n    }\n    if (!newPageInDom) {\n      router.pageCallback('mounted', $newPage, $newNavbarInner, 'previous', 'current', options, $oldPage);\n    } else if (options.route && options.route.route && options.route.route.keepAlive && !$newPage[0].f7PageMounted) {\n      $newPage[0].f7PageMounted = true;\n      router.pageCallback('mounted', $newPage, $newNavbarInner, 'previous', 'current', options, $oldPage);\n    }\n  }\n\n  if (options.preload) {\n    // Insert Page\n    insertPage();\n    // Tab route\n    if (options.route.route.tab) {\n      router.tabLoad(options.route.route.tab, Utils.extend({}, options, {\n        history: false,\n        pushState: false,\n        preload: true,\n      }));\n    }\n    if (isMaster) {\n      $newPage\n        .removeClass('page-master-stacked')\n        .trigger('page:masterunstack');\n      router.emit('pageMasterUnstack', $newPage[0]);\n      if (separateNavbar) {\n        $(app.navbar.getElByPage($newPage)).removeClass('navbar-master-stacked');\n      }\n    }\n    // Page init and before init events\n    router.pageCallback('init', $newPage, $newNavbarInner, 'previous', 'current', options, $oldPage);\n    const $previousPages = $newPage.prevAll('.page-previous:not(.stacked):not(.page-master)');\n    if ($previousPages.length > 0) {\n      $previousPages.each((index, pageToRemove) => {\n        const $pageToRemove = $(pageToRemove);\n        let $navbarToRemove;\n        if (separateNavbar) {\n          // $navbarToRemove = $newNavbarInner.prevAll('.navbar-previous:not(.stacked)').eq(index);\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf(pageToRemove) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          if (separateNavbar) {\n            $navbarToRemove.addClass('stacked');\n          }\n        } else {\n          router.pageCallback('beforeRemove', $pageToRemove, $navbarToRemove, 'previous', undefined);\n          router.removePage($pageToRemove);\n          if (separateNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      });\n    }\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // History State\n  if (!(Device.ie || Device.edge || (Device.firefox && !Device.ios))) {\n    if (router.params.pushState && options.pushState) {\n      if (options.replaceState) {\n        const pushStateRoot = router.params.pushStateRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          pushStateRoot + router.params.pushStateSeparator + options.route.url\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Update History\n  if (options.replaceState) {\n    router.history[router.history.length - 1] = options.route.url;\n  } else {\n    if (router.history.length === 1) {\n      router.history.unshift(router.url);\n    }\n    router.history.pop();\n  }\n  router.saveHistory();\n\n  // Current Page & Navbar\n  router.currentPageEl = $newPage[0];\n  if (dynamicNavbar && $newNavbarInner.length) {\n    router.currentNavbarEl = $newNavbarInner[0];\n  } else {\n    delete router.currentNavbarEl;\n  }\n\n  // Current Route\n  router.currentRoute = options.route;\n\n  // History State\n  if (Device.ie || Device.edge || (Device.firefox && !Device.ios)) {\n    if (router.params.pushState && options.pushState) {\n      if (options.replaceState) {\n        const pushStateRoot = router.params.pushStateRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          pushStateRoot + router.params.pushStateSeparator + options.route.url\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Insert Page\n  insertPage();\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(options.route.route.tab, Utils.extend({}, options, {\n      history: false,\n      pushState: false,\n    }));\n  }\n\n  // Page init and before init events\n  router.pageCallback('init', $newPage, $newNavbarInner, 'previous', 'current', options, $oldPage);\n\n  // Before animation callback\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarInner, 'current', 'next', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarInner, 'previous', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    // Set classes\n    const pageClasses = 'page-previous page-current page-next';\n    const navbarClasses = 'navbar-previous navbar-current navbar-next';\n    $newPage.removeClass(pageClasses).addClass('page-current').removeAttr('aria-hidden').trigger('page:position', { position: 'current' });\n    router.emit('pagePosition', $newPage[0], 'current');\n    $oldPage.removeClass(pageClasses).addClass('page-next').attr('aria-hidden', 'true').trigger('page:position', { position: 'next' });\n    router.emit('pagePosition', $oldPage[0], 'next');\n    if (dynamicNavbar) {\n      $newNavbarInner.removeClass(navbarClasses).addClass('navbar-current').removeAttr('aria-hidden');\n      $oldNavbarInner.removeClass(navbarClasses).addClass('navbar-next').attr('aria-hidden', 'true');\n    }\n\n    // After animation event\n    router.pageCallback('afterOut', $oldPage, $oldNavbarInner, 'current', 'next', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarInner, 'previous', 'current', options);\n\n    // Remove Old Page\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (separateNavbar) {\n        $oldNavbarInner.addClass('stacked');\n      }\n    } else {\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarInner, 'next', undefined, options);\n      router.removePage($oldPage);\n      if (separateNavbar && $oldNavbarInner.length) {\n        router.removeNavbar($oldNavbarInner);\n      }\n    }\n\n    router.allowPageChange = true;\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    // Preload previous page\n    const preloadPreviousPage = router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n    if (preloadPreviousPage && router.history[router.history.length - 2] && !isMaster) {\n      router.back(router.history[router.history.length - 2], { preload: true });\n    }\n    if (router.params.pushState) {\n      History.clearRouterQueue();\n    }\n  }\n\n  function setPositionClasses() {\n    const pageClasses = 'page-previous page-current page-next';\n    const navbarClasses = 'navbar-previous navbar-current navbar-next';\n    $oldPage.removeClass(pageClasses).addClass('page-current').trigger('page:position', { position: 'current' });\n    router.emit('pagePosition', $oldPage[0], 'current');\n    $newPage.removeClass(pageClasses).addClass('page-previous').removeAttr('aria-hidden').trigger('page:position', { position: 'previous' });\n    router.emit('pagePosition', $newPage[0], 'previous');\n    if (dynamicNavbar) {\n      $oldNavbarInner.removeClass(navbarClasses).addClass('navbar-current');\n      $newNavbarInner.removeClass(navbarClasses).addClass('navbar-previous').removeAttr('aria-hidden');\n    }\n  }\n\n  if (options.animate && !(currentIsMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    setPositionClasses();\n    router.animate($oldPage, $newPage, $oldNavbarInner, $newNavbarInner, 'backward', () => {\n      afterAnimation();\n    });\n  } else {\n    afterAnimation();\n  }\n\n  return router;\n}\nfunction loadBack(backParams, backOptions, ignorePageChange) {\n  const router = this;\n\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = backParams;\n  const options = backOptions;\n  const { url, content, el, pageName, template, templateUrl, component, componentUrl } = params;\n\n  if (\n    options.route.url\n    && router.url === options.route.url\n    && !(options.reloadCurrent || options.reloadPrevious)\n    && !router.params.allowDuplicateUrls\n  ) {\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return router.backward(pageEl, Utils.extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || templateUrl || componentUrl) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    router.backward(router.getPageEl(content), options);\n  } else if (template || templateUrl) {\n    // Parse template and send page element\n    try {\n      router.pageTemplateLoader(template, templateUrl, options, resolve, reject);\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    router.backward(router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    router.backward(router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (F7/Vue/React/...)\n    try {\n      router.pageComponentLoader(router.el, component, componentUrl, options, resolve, reject);\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhr) {\n      router.xhr.abort();\n      router.xhr = false;\n    }\n    router.xhrRequest(url, options)\n      .then((pageContent) => {\n        router.backward(router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\nfunction back(...args) {\n  const router = this;\n  if (router.swipeBackActive) return router;\n  let navigateUrl;\n  let navigateOptions;\n  let route;\n  if (typeof args[0] === 'object') {\n    navigateOptions = args[0] || {};\n  } else {\n    navigateUrl = args[0];\n    navigateOptions = args[1] || {};\n  }\n\n  const { name, params, query } = navigateOptions;\n  if (name) {\n    // find route by name\n    route = router.findRouteByKey('name', name);\n    if (!route) {\n      throw new Error(`Framework7: route with name \"${name}\" not found`);\n    }\n    navigateUrl = router.constructRouteUrl(route, { params, query });\n    if (navigateUrl) {\n      return router.back(navigateUrl, Utils.extend({}, navigateOptions, {\n        name: null,\n        params: null,\n        query: null,\n      }));\n    }\n    throw new Error(`Framework7: can't construct URL for route with name \"${name}\"`);\n  }\n\n  const app = router.app;\n  appRouterCheck(router, 'back');\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    ('popup popover sheet loginScreen actions customModal panel').split(' ').forEach((modalLoadProp) => {\n      if (router.currentRoute.route[modalLoadProp]) {\n        currentRouteIsModal = true;\n        modalType = modalLoadProp;\n      }\n    });\n  }\n  if (currentRouteIsModal) {\n    const modalToClose = router.currentRoute.modal\n                         || router.currentRoute.route.modalInstance\n                         || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute;\n    // check if previous route is modal too\n    if (modalToClose && modalToClose.$el) {\n      const prevOpenedModals = modalToClose.$el.prevAll('.modal-in');\n      if (prevOpenedModals.length && prevOpenedModals[0].f7Modal) {\n        previousRoute = prevOpenedModals[0].f7Modal.route;\n      }\n    }\n    if (!previousRoute) {\n      previousRoute = router.findMatchingRoute(previousUrl);\n    }\n\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: Utils.parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n    if (!navigateUrl || navigateUrl.replace(/[# ]/g, '').trim().length === 0) {\n      if (!previousRoute || !modalToClose) {\n        return router;\n      }\n    }\n    const forceOtherUrl = navigateOptions.force && previousRoute && navigateUrl;\n    if (previousRoute && modalToClose) {\n      const isBrokenPushState = Device.ie || Device.edge || (Device.firefox && !Device.ios);\n      const needHistoryBack = router.params.pushState && navigateOptions.pushState !== false;\n      if (needHistoryBack && !isBrokenPushState) {\n        History.back();\n      }\n      router.currentRoute = previousRoute;\n      router.history.pop();\n      router.saveHistory();\n\n      if (needHistoryBack && isBrokenPushState) {\n        History.back();\n      }\n\n      router.modalRemove(modalToClose);\n      if (forceOtherUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    } else if (modalToClose) {\n      router.modalRemove(modalToClose);\n      if (navigateUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    }\n    return router;\n  }\n  let $previousPage = router.$el.children('.page-current').prevAll('.page-previous:not(.page-master)').eq(0);\n\n  let skipMaster;\n  if (router.params.masterDetailBreakpoint > 0) {\n    const $previousMaster = router.$el.children('.page-current').prevAll('.page-master').eq(0);\n    if ($previousMaster.length) {\n      const expectedPreviousPageUrl = router.history[router.history.length - 2];\n      const expectedPreviousPageRoute = router.findMatchingRoute(expectedPreviousPageUrl);\n      if (expectedPreviousPageRoute && expectedPreviousPageRoute.route === $previousMaster[0].f7Page.route.route) {\n        $previousPage = $previousMaster;\n        if (!navigateOptions.preload) {\n          skipMaster = app.width >= router.params.masterDetailBreakpoint;\n        }\n      }\n    }\n  }\n  if (!navigateOptions.force && $previousPage.length && !skipMaster) {\n    if (router.params.pushState\n      && $previousPage[0].f7Page\n      && router.history[router.history.length - 2] !== $previousPage[0].f7Page.route.url\n    ) {\n      router.back(\n        router.history[router.history.length - 2],\n        Utils.extend(navigateOptions, { force: true })\n      );\n      return router;\n    }\n    const previousPageRoute = $previousPage[0].f7Page.route;\n\n    processRouteQueue.call(\n      router,\n      previousPageRoute,\n      router.currentRoute,\n      () => {\n        router.loadBack({ el: $previousPage }, Utils.extend(navigateOptions, {\n          route: previousPageRoute,\n        }));\n      },\n      () => {}\n    );\n\n    return router;\n  }\n\n  // Navigate URL\n  if (navigateUrl === '#') {\n    navigateUrl = undefined;\n  }\n  if (navigateUrl && navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    navigateUrl = ((router.path || '/') + navigateUrl).replace('//', '/');\n  }\n  if (!navigateUrl && router.history.length > 1) {\n    navigateUrl = router.history[router.history.length - 2];\n  }\n  if (skipMaster && !navigateOptions.force && router.history[router.history.length - 3]) {\n    return router.back(router.history[router.history.length - 3], Utils.extend({}, navigateOptions || {}, {\n      force: true,\n      animate: false,\n    }));\n  }\n  if (skipMaster && !navigateOptions.force) {\n    return router;\n  }\n\n  // Find route to load\n  route = router.findMatchingRoute(navigateUrl);\n  if (!route) {\n    if (navigateUrl) {\n      route = {\n        url: navigateUrl,\n        path: navigateUrl.split('?')[0],\n        query: Utils.parseUrlQuery(navigateUrl),\n        route: {\n          path: navigateUrl.split('?')[0],\n          url: navigateUrl,\n        },\n      };\n    }\n  }\n  if (!route) {\n    return router;\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'back', route, navigateOptions);\n  }\n\n  const options = {};\n  if (route.route.options) {\n    Utils.extend(options, route.route.options, navigateOptions);\n  } else {\n    Utils.extend(options, navigateOptions);\n  }\n  options.route = route;\n\n  if (options && options.context) {\n    route.context = options.context;\n    options.route.context = options.context;\n  }\n\n  let backForceLoaded;\n  if (options.force && router.params.stackPages) {\n    router.$el.children('.page-previous.stacked').each((index, pageEl) => {\n      if (pageEl.f7Page && pageEl.f7Page.route && pageEl.f7Page.route.url === route.url) {\n        backForceLoaded = true;\n        router.loadBack({ el: pageEl }, options);\n      }\n    });\n    if (backForceLoaded) {\n      return router;\n    }\n  }\n  function resolve() {\n    let routerLoaded = false;\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      router.loadBack({ el: route.route.keepAliveData.pageEl }, options);\n      routerLoaded = true;\n    }\n    ('url content component pageName el componentUrl template templateUrl').split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        router.loadBack({ [pageLoadProp]: route.route[pageLoadProp] }, options);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      if (resolveOptions && resolveOptions.context) {\n        if (!route.context) route.context = resolveOptions.context;\n        else route.context = Utils.extend({}, route.context, resolveOptions.context);\n        options.route.context = route.context;\n      }\n      router.loadBack(resolveParams, Utils.extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n\n      route.route.async.call(router, route, router.currentRoute, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (options.preload) {\n    resolve();\n  } else {\n    processRouteQueue.call(\n      router,\n      route,\n      router.currentRoute,\n      () => {\n        if (route.route.modules) {\n          app\n            .loadModules(Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules])\n            .then(() => {\n              resolve();\n            })\n            .catch(() => {\n              reject();\n            });\n        } else {\n          resolve();\n        }\n      },\n      () => {\n        reject();\n      },\n    );\n  }\n\n  // Return Router\n  return router;\n}\nexport { backward, loadBack, back };\n","import $ from 'dom7';\nimport appRouterCheck from './app-router-check';\n\nfunction clearPreviousPages() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousPages');\n  const app = router.app;\n  const separateNavbar = router.separateNavbar;\n\n  const $pagesToRemove = router.$el\n    .children('.page')\n    .filter((index, pageInView) => {\n      if (router.currentRoute && (router.currentRoute.modal || router.currentRoute.panel)) return true;\n      return pageInView !== router.currentPageEl;\n    });\n\n  $pagesToRemove.each((index, pageEl) => {\n    const $oldPageEl = $(pageEl);\n    const $oldNavbarInnerEl = $(app.navbar.getElByPage($oldPageEl));\n    if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n      $oldPageEl.addClass('stacked');\n      if (separateNavbar) {\n        $oldNavbarInnerEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarInnerEl, 'previous', undefined, {});\n      router.removePage($oldPageEl);\n      if (separateNavbar && $oldNavbarInnerEl.length) {\n        router.removeNavbar($oldNavbarInnerEl);\n      }\n    }\n  });\n}\n\nfunction clearPreviousHistory() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousHistory');\n  const url = router.history[router.history.length - 1];\n\n  router.clearPreviousPages();\n\n  router.history = [url];\n  router.view.history = [url];\n  router.saveHistory();\n}\n\nexport { clearPreviousHistory, clearPreviousPages }; // eslint-disable-line\n"],"sourceRoot":""}