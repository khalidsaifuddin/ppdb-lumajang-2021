(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{103:function(e,t,a){"use strict";var r=a(64);t.a={name:"router",static:{Router:r.a},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){this.app?this.params.router&&(this.router=new r.a(this.app,this)):this.router=new r.a(this)}}},500:function(e,t,a){"use strict";var r=a(44),n=a(3),o=a(220),i=a(70),s=a(5),l=a(17),c=a(14),u=a(6),p={name:"device",proto:{device:c.a},static:{device:c.a},on:{init:function(){var e=[],t=u.a.querySelector("html"),a=u.a.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');if(t){if(c.a.standalone&&c.a.ios&&a&&"black-translucent"===a.content&&e.push("device-full-viewport"),e.push("device-pixel-ratio-".concat(Math.floor(c.a.pixelRatio))),c.a.pixelRatio>=2&&e.push("device-retina"),c.a.os&&!c.a.desktop){if(e.push("device-".concat(c.a.os),"device-".concat(c.a.os,"-").concat(c.a.osVersion.split(".")[0]),"device-".concat(c.a.os,"-").concat(c.a.osVersion.replace(/\./g,"-"))),"ios"===c.a.os){for(var r=parseInt(c.a.osVersion.split(".")[0],10)-1;r>=6;r-=1)e.push("device-ios-gt-".concat(r));c.a.iphoneX&&e.push("device-iphone-x")}}else c.a.desktop&&(e.push("device-desktop"),c.a.os&&e.push("device-".concat(c.a.os)));(c.a.cordova||c.a.phonegap)&&e.push("device-cordova"),e.forEach((function(e){t.classList.add(e)}))}}}},f={name:"support",proto:{support:l.a},static:{support:l.a},on:{init:function(){var e=u.a.querySelector("html");if(e){[].forEach((function(t){e.classList.add(t)}))}}}},h={name:"utils",proto:{utils:s.a},static:{utils:s.a}},d={name:"resize",instance:{getSize:function(){if(!this.root[0])return{width:0,height:0,left:0,top:0};var e=this.root.offset(),t=[this.root[0].offsetWidth,this.root[0].offsetHeight,e.left,e.top],a=t[0],r=t[1],n=t[2],o=t[3];return this.width=a,this.height=r,this.left=n,this.top=o,{width:a,height:r,left:n,top:o}}},on:{init:function(){var e=this;e.getSize(),u.b.addEventListener("resize",(function(){e.emit("resize")}),!1),u.b.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){this.device.ipad&&(u.a.body.scrollLeft=0,setTimeout((function(){u.a.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}},v={name:"request",proto:{request:i.a},static:{request:i.a}};var g={name:"touch",params:{touch:{fastClicks:!1,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,fastClicksExclude:"",touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link",mdTouchRipple:!0,iosTouchRipple:!1,auroraTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content"}},instance:{touchEvents:{start:l.a.touch?"touchstart":"mousedown",move:l.a.touch?"touchmove":"mousemove",end:l.a.touch?"touchend":"mouseup"}},on:{init:function(){var e,t,a,r,o,i,s,p,f,h,d,v,g,m,b,y,C,k,w,x=this,P=x.params.touch,E=P["".concat(x.theme,"TouchRipple")];function O(e){var t,a=Object(n.a)(e),r=a.parents(P.activeStateElements);if(a.is(P.activeStateElements)&&(t=a),r.length>0&&(t=t?t.add(r):r),t&&t.length>1){for(var o,i=[],s=0;s<t.length;s+=1)o||(i.push(t[s]),(t.eq(s).hasClass("prevent-active-state-propagation")||t.eq(s).hasClass("no-active-state-propagation"))&&(o=!0));t=Object(n.a)(i)}return t||a}function R(e){return e.parents(".page-content").length>0}function S(){g&&g.addClass("active-state")}function j(){g&&(g.removeClass("active-state"),g=null)}function T(e,t,a){e&&(C=x.touchRipple.create(e,t,a))}function $(){C&&(C.remove(),C=void 0,k=void 0)}function A(a){(k=function(e){var t=P.touchRippleElements,a=Object(n.a)(e);if(a.is(t))return!a.hasClass("no-ripple")&&a;if(a.parents(t).length>0){var r=a.parents(t).eq(0);return!r.hasClass("no-ripple")&&r}return!1}(a))&&0!==k.length?(P.fastClicks?function(e){var t=e.parents(".page-content");return 0!==t.length&&("yes"!==t.prop("scrollHandlerSet")&&(t.on("scroll",(function(){clearTimeout(m),clearTimeout(w)})),t.prop("scrollHandlerSet","yes")),!0)}(k):R(k))?(clearTimeout(w),w=setTimeout((function(){$(),T(k,e,t)}),80)):($(),T(k,e,t)):k=void 0}function L(){clearTimeout(w),$()}function N(){C||!k||f?$():(clearTimeout(w),T(k,e,t),setTimeout($,0))}function B(e,t){x.emit({events:e,data:[t]})}function D(e){B("touchstart touchstart:active",e)}function M(e){B("touchmove touchmove:active",e)}function q(e){B("touchend touchend:active",e)}function H(e){B("touchstart:passive",e)}function U(e){B("touchmove:passive",e)}function I(e){B("touchend:passive",e)}c.a.ios&&c.a.webView&&u.b.addEventListener("touchstart",(function(){}));var F=!!l.a.passiveListener&&{passive:!0},_=!!l.a.passiveListener&&{passive:!1};u.a.addEventListener("click",(function(e){B("click",e)}),!0),l.a.passiveListener?(u.a.addEventListener(x.touchEvents.start,D,_),u.a.addEventListener(x.touchEvents.move,M,_),u.a.addEventListener(x.touchEvents.end,q,_),u.a.addEventListener(x.touchEvents.start,H,F),u.a.addEventListener(x.touchEvents.move,U,F),u.a.addEventListener(x.touchEvents.end,I,F)):(u.a.addEventListener(x.touchEvents.start,(function(e){D(e),H(e)}),!1),u.a.addEventListener(x.touchEvents.move,(function(e){M(e),U(e)}),!1),u.a.addEventListener(x.touchEvents.end,(function(e){q(e),I(e)}),!1)),l.a.touch?(P.fastClicks?(x.on("click",(function(e){var t,a,i=!1;return o?(r=null,o=!1,!0):"submit"===e.target.type&&0===e.detail||"file"===e.target.type||(r||(t=e.target,a="input select textarea label".split(" "),t.nodeName&&a.indexOf(t.nodeName.toLowerCase())>=0||(i=!0)),b||(i=!0),u.a.activeElement===r&&(i=!0),e.forwardedTouchEvent&&(i=!0),e.cancelable||(i=!0),P.tapHold&&P.tapHoldPreventClicks&&h&&(i=!1),i||(e.stopImmediatePropagation(),e.stopPropagation(),r?(function(e){var t=Object(n.a)(e),a=!0;return(t.is("label")||t.parents("label").length>0)&&(a=!c.a.android&&!(!c.a.ios||!t.is("input"))),a}(r)||f)&&e.preventDefault():e.preventDefault(),r=null),y=setTimeout((function(){b=!1}),c.a.ios||c.a.androidChrome?100:400),P.tapHold&&(d=setTimeout((function(){h=!1}),c.a.ios||c.a.androidChrome?100:400)),i)})),x.on("touchstart",(function(l){var v,C,k=this;if(f=!1,h=!1,l.targetTouches.length>1)return g&&j(),!0;if(l.touches.length>1&&g&&j(),P.tapHold&&(d&&clearTimeout(d),d=setTimeout((function(){l&&l.touches&&l.touches.length>1||(h=!0,l.preventDefault(),Object(n.a)(l.target).trigger("taphold"))}),P.tapHoldDelay)),y&&clearTimeout(y),v=l.target,C=Object(n.a)(v),!(b=!("input"===v.nodeName.toLowerCase()&&("file"===v.type||"range"===v.type)||"select"===v.nodeName.toLowerCase()&&c.a.android||C.hasClass("no-fastclick")||C.parents(".no-fastclick").length>0||P.fastClicksExclude&&C.closest(P.fastClicksExclude).length>0)))return o=!1,!0;if(c.a.ios||c.a.android&&"getSelection"in u.b){var w=u.b.getSelection();if(w.rangeCount&&w.focusNode!==u.a.body&&(!w.isCollapsed||u.a.activeElement===w.focusNode))return i=!0,!0;i=!1}return c.a.android&&function(e){var t="button input textarea select".split(" ");return!(!u.a.activeElement||e===u.a.activeElement||u.a.activeElement===u.a.body)&&!(t.indexOf(e.nodeName.toLowerCase())>=0)}(l.target)&&u.a.activeElement.blur(),o=!0,r=l.target,a=(new Date).getTime(),e=l.targetTouches[0].pageX,t=l.targetTouches[0].pageY,c.a.ios&&(s=void 0,Object(n.a)(r).parents().each((function(){var e=k;e.scrollHeight>e.offsetHeight&&!s&&((s=e).f7ScrollTop=s.scrollTop)}))),a-p<P.fastClicksDelayBetweenClicks&&l.preventDefault(),P.activeState&&(g=O(r),m=setTimeout(S,0)),E&&A(r),!0})),x.on("touchmove",(function(a){if(o){var n=P.fastClicksDistanceThreshold;if(n){var i=a.targetTouches[0].pageX,s=a.targetTouches[0].pageY;(Math.abs(i-e)>n||Math.abs(s-t)>n)&&(f=!0)}else f=!0;f&&(o=!1,r=null,f=!0,P.tapHold&&clearTimeout(d),P.activeState&&(clearTimeout(m),j()),E&&L())}})),x.on("touchend",(function(e){clearTimeout(m),clearTimeout(d);var t=(new Date).getTime();if(!o)return!i&&b&&(c.a.android&&!e.cancelable||!e.cancelable||e.preventDefault()),P.activeState&&j(),E&&N(),!0;if(u.a.activeElement===e.target)return P.activeState&&j(),E&&N(),!0;if(i||e.preventDefault(),t-p<P.fastClicksDelayBetweenClicks)return setTimeout(j,0),E&&N(),!0;if(p=t,o=!1,c.a.ios&&s&&s.scrollTop!==s.f7ScrollTop)return!1;if(P.activeState&&(S(),setTimeout(j,0)),E&&N(),function(e){if(u.a.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),a="button checkbox file image radio submit".split(" ");return!e.disabled&&!e.readOnly&&("textarea"===t||("select"===t?!c.a.android:"input"===t&&a.indexOf(e.type)<0))}(r)){if(c.a.ios&&c.a.webView)return r.focus(),!1;r.focus()}return u.a.activeElement&&r!==u.a.activeElement&&u.a.activeElement!==u.a.body&&"label"!==r.nodeName.toLowerCase()&&u.a.activeElement.blur(),e.preventDefault(),P.tapHoldPreventClicks&&h||function(e){var t=e.changedTouches[0],a=u.a.createEvent("MouseEvents"),n="click";c.a.android&&"select"===r.nodeName.toLowerCase()&&(n="mousedown"),a.initMouseEvent(n,!0,!0,u.b,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),a.forwardedTouchEvent=!0,x.device.ios&&u.b.navigator.standalone?setTimeout((function(){(r=u.a.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY))&&r.dispatchEvent(a)}),10):r.dispatchEvent(a)}(e),!1}))):(x.on("click",(function(e){var t=e&&e.detail&&"f7Overswipe"===e.detail,a=v;return r&&e.target!==r&&(a=!t),P.tapHold&&P.tapHoldPreventClicks&&h&&(a=!0),a&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),P.tapHold&&(d=setTimeout((function(){h=!1}),c.a.ios||c.a.androidChrome?100:400)),v=!1,r=null,!a})),x.on("touchstart",(function(a){return f=!1,h=!1,v=!1,a.targetTouches.length>1?(g&&j(),!0):(a.touches.length>1&&g&&j(),P.tapHold&&(d&&clearTimeout(d),d=setTimeout((function(){a&&a.touches&&a.touches.length>1||(h=!0,a.preventDefault(),v=!0,Object(n.a)(a.target).trigger("taphold"))}),P.tapHoldDelay)),r=a.target,e=a.targetTouches[0].pageX,t=a.targetTouches[0].pageY,P.activeState&&(R(g=O(r))?m=setTimeout(S,80):S()),E&&A(r),!0)})),x.on("touchmove",(function(a){var r,n;if("touchmove"===a.type&&(r=a.targetTouches[0],n=P.touchClicksDistanceThreshold),n&&r){var o=r.pageX,i=r.pageY;(Math.abs(o-e)>n||Math.abs(i-t)>n)&&(f=!0)}else f=!0;f&&(v=!0,P.tapHold&&clearTimeout(d),P.activeState&&(clearTimeout(m),j()),E&&L())})),x.on("touchend",(function(e){return clearTimeout(m),clearTimeout(d),u.a.activeElement===e.target?(P.activeState&&j(),E&&N(),!0):(P.activeState&&(S(),setTimeout(j,0)),E&&N(),!(P.tapHoldPreventClicks&&h||v)||(e.cancelable&&e.preventDefault(),v=!0,!1))}))),u.a.addEventListener("touchcancel",(function(){o=!1,r=null,clearTimeout(m),clearTimeout(d),P.activeState&&j(),E&&N()}),{passive:!0})):P.activeState&&(x.on("touchstart",(function(a){O(a.target).addClass("active-state"),"which"in a&&3===a.which&&setTimeout((function(){Object(n.a)(".active-state").removeClass("active-state")}),0),E&&(e=a.pageX,t=a.pageY,A(a.target,a.pageX,a.pageY))})),x.on("touchmove",(function(){Object(n.a)(".active-state").removeClass("active-state"),E&&L()})),x.on("touchend",(function(){Object(n.a)(".active-state").removeClass("active-state"),E&&N()}))),u.a.addEventListener("contextmenu",(function(e){P.disableContextMenu&&(c.a.ios||c.a.android||c.a.cordova)&&e.preventDefault(),E&&(g&&j(),N())}))}}},m=a(83);var b={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){!function(e){e.on("click",(function(t){var a=Object(n.a)(t.target),r=a.closest("a"),o=r.length>0,i=o&&r.attr("href");if(o&&(r.is(e.params.clicks.externalLinks)||i&&i.indexOf("javascript:")>=0)){var s=r.attr("target");i&&u.b.cordova&&u.b.cordova.InAppBrowser&&("_system"===s||"_blank"===s)&&(t.preventDefault(),u.b.cordova.InAppBrowser.open(i,s))}else{Object.keys(e.modules).forEach((function(r){var n=e.modules[r].clicks;n&&(t.preventF7Router||Object.keys(n).forEach((function(r){var o=a.closest(r).eq(0);o.length>0&&n[r].call(e,o,o.dataset(),t)})))}));var l={};if(o&&(t.preventDefault(),l=r.dataset()),!t.preventF7Router)if(!r.hasClass("prevent-router")&&!r.hasClass("router-prevent"))if(i&&i.length>0&&"#"!==i[0]||r.hasClass("back")){var c;if(l.view?c=Object(n.a)(l.view)[0].f7View:(c=a.parents(".view")[0]&&a.parents(".view")[0].f7View,!r.hasClass("back")&&c&&c.params.linksView&&("string"==typeof c.params.linksView?c=Object(n.a)(c.params.linksView)[0].f7View:c.params.linksView instanceof m.a&&(c=c.params.linksView))),c||e.views.main&&(c=e.views.main),!c||!c.router)return;if(l.context&&"string"==typeof l.context)try{l.context=JSON.parse(l.context)}catch(e){}r[0].f7RouteProps&&(l.props=r[0].f7RouteProps),r.hasClass("back")?c.router.back(i,l):c.router.navigate(i,l)}}}))}(this)}}},y=a(103),C={name:"routerTemplateLoader",proto:{templateLoader:function(e,t,a,n,o){var i=this;function l(e){var t,l;try{if("function"==typeof(l=a.context||{}))l=l.call(i);else if("string"==typeof l)try{l=JSON.parse(l)}catch(e){throw o(),e}t="function"==typeof e?e(l):r.a.compile(e)(s.a.extend({},l||{},{$app:i.app,$root:s.a.extend({},i.app.data,i.app.methods),$route:a.route,$f7route:a.route,$router:i,$f7router:i,$theme:{ios:"ios"===i.app.theme,md:"md"===i.app.theme,aurora:"aurora"===i.app.theme}}))}catch(e){throw o(),e}n(t,{context:l})}t?(i.xhr&&(i.xhr.abort(),i.xhr=!1),i.xhrRequest(t,a).then((function(e){l(e)})).catch((function(){o()}))):l(e)},modalTemplateLoader:function(e,t,a,r,n){return this.templateLoader(e,t,a,(function(e){r(e)}),n)},tabTemplateLoader:function(e,t,a,r,n){return this.templateLoader(e,t,a,(function(e){r(e)}),n)},pageTemplateLoader:function(e,t,a,r,n){var o=this;return o.templateLoader(e,t,a,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(o.getPageEl(e),t)}),n)}}},k={name:"routerComponentLoader",proto:{componentLoader:function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=this,l=i.app,c="string"==typeof e?e:t,u=i.replaceRequestUrlParams(c,r);function p(e){var t=r.context||{};if("function"==typeof t)t=t.call(i);else if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw o(),e}var a=s.a.merge({},t,{$route:r.route,$f7route:r.route,$router:i,$f7router:i,$theme:{ios:"ios"===l.theme,md:"md"===l.theme,aurora:"aurora"===l.theme}}),c=l.component.create(e,a);n(c.el)}u&&i.cache.components.forEach((function(e){e.url===u&&(a=e.component)})),u&&a?p(a):u&&!a?(i.xhr&&(i.xhr.abort(),i.xhr=!1),i.xhrRequest(c,r).then((function(e){var t=l.component.parse(e);i.cache.components.push({url:u,component:t}),p(t)})).catch((function(e){throw o(),e}))):p(e)},modalComponentLoader:function(e,t,a,r,n,o){this.componentLoader(t,a,r,(function(e){n(e)}),o)},tabComponentLoader:function(e,t,a,r,n,o){this.componentLoader(t,a,r,(function(e){n(e)}),o)},pageComponentLoader:function(e,t,a,r,n,o){this.componentLoader(t,a,r,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,t)}),o)}}},w=a(25),x={name:"history",static:{history:w.a},on:{init:function(){w.a.init(this)}}},P={get:function(e){return new Promise((function(t,a){try{t(JSON.parse(u.b.localStorage.getItem("".concat("f7storage-").concat(e))))}catch(e){a(e)}}))},set:function(e,t){return new Promise((function(a,r){try{u.b.localStorage.setItem("".concat("f7storage-").concat(e),JSON.stringify(t)),a()}catch(e){r(e)}}))},remove:function(e){return new Promise((function(t,a){try{u.b.localStorage.removeItem("".concat("f7storage-").concat(e)),t()}catch(e){a(e)}}))},clear:function(){},length:function(){},keys:function(){return new Promise((function(e,t){try{e(Object.keys(u.b.localStorage).filter((function(e){return 0===e.indexOf("f7storage-")})).map((function(e){return e.replace("f7storage-","")})))}catch(e){t(e)}}))},forEach:function(e){return new Promise((function(t,a){try{Object.keys(u.b.localStorage).filter((function(e){return 0===e.indexOf("f7storage-")})).forEach((function(t,a){var r=t.replace("f7storage-","");P.get(r).then((function(t){e(r,t,a)}))})),t()}catch(e){a(e)}}))}},E={name:"storage",static:{Storage:P,storage:P}};function O(e,t,a,r,n){return{sel:e,data:t,children:a,text:r,elm:n,key:void 0===t?void 0:t.key}}var R=O,S=Array.isArray;function j(e){return"string"==typeof e||"number"==typeof e}function T(e,t,a){var r,n,o,i={};if(void 0!==a?(i=t,S(a)?r=a:j(a)?n=a:a&&a.sel&&(r=[a])):void 0!==t&&(S(t)?r=t:j(t)?n=t:t&&t.sel?r=[t]:i=t),S(r))for(o=0;o<r.length;++o)j(r[o])&&(r[o]=O(void 0,void 0,void 0,r[o],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||function e(t,a,r){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==a)for(var n=0;n<a.length;++n){var o=a[n].data;void 0!==o&&e(o,a[n].children,a[n].sel)}}(i,r,e),O(e,i,r,n,void 0)}var $=T;function A(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var L="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),N="hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple value indeterminate".split(" "),B="hidden checked disabled readonly selected autocomplete autofocus autoplay required multiple readOnly indeterminate".split(" "),D=u.a.createElement("div");function M(e,t,a,r,n){var o={context:t},i=e.attributes;Array.prototype.forEach.call(i,(function(e){var a=e.name,r=e.value;if(N.indexOf(a)>=0)o.props||(o.props={}),"readonly"===a&&(a="readOnly"),B.indexOf(a)>=0?o.props[a]=!1!==r:o.props[a]=r;else if("key"===a)o.key=r;else if(0===a.indexOf("@")){o.on||(o.on={});var i=a.substr(1),s=!1,l=!1,c=!1;i.indexOf(".")>=0&&i.split(".").forEach((function(e,t){0===t?i=e:("stop"===e&&(s=!0),"prevent"===e&&(l=!0),"once"===e&&(c=!0))})),o.on[i]=function(e,t){var a,r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.stop,i=n.prevent,s=n.once,l=!1,c=[],p=!0;if((a=e.indexOf("(")<0?e:e.split("(")[0]).indexOf(".")>=0)a.split(".").forEach((function(e,n){if(0!==n||"this"!==e){if(0===n&&"window"===e)return r=u.b,void(p=!1);if(r||(r=t),!r[e])throw new Error("Framework7: Component doesn't have method \"".concat(a.split(".").slice(0,n+1).join("."),'"'));r=r[e]}}));else{if(!t[a])throw new Error("Framework7: Component doesn't have method \"".concat(a,'"'));r=t[a]}function f(){for(var a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];var p=n[0];if(!s||!l){if(o&&p.stopPropagation(),i&&p.preventDefault(),l=!0,e.indexOf("(")<0)c=n;else{var f=e.split("(")[1].split(")")[0].replace(/'[^']*'|"[^"]*"/g,(function(e){return e.replace(/,/g,"<_comma_>")})).split(",").map((function(e){return e.replace(/<_comma_>/g,",")}));f.forEach((function(e){var a=e.trim();if(isNaN(a))if("true"===a)a=!0;else if("false"===a)a=!1;else if("null"===a)a=null;else if("undefined"===a)a=void 0;else if('"'===a[0])a=a.replace(/"/g,"");else if("'"===a[0])a=a.replace(/'/g,"");else if(a.indexOf(".")>0){var r;a.split(".").forEach((function(e){r||(r=t),r=r[e]})),a=r}else a=t[a];else a=parseFloat(a);c.push(a)}))}r.apply(void 0,A(c))}}return p&&(r=r.bind(t)),f}(r,t,{stop:s,prevent:l,once:c})}else if("style"===a)if(r.indexOf("{")>=0&&r.indexOf("}")>=0)try{o.style=JSON.parse(r)}catch(e){o.attrs||(o.attrs={}),o.attrs.style=r}else o.attrs||(o.attrs={}),o.attrs.style=r;else o.attrs||(o.attrs={}),o.attrs[a]=r,"id"!==a||o.key||n||(o.key=r)}));var s=function(e,t,a,r){var n={};if(!e||!e.attrs||!e.attrs.class)return n;var o=e.attrs.class,i=[],s=[],l=[],c=[];return o.split(" ").forEach((function(e){a||i.push.apply(i,A(t.getVnodeHooks("insert",e))),s.push.apply(s,A(t.getVnodeHooks("destroy",e))),l.push.apply(l,A(t.getVnodeHooks("update",e))),c.push.apply(c,A(t.getVnodeHooks("postpatch",e)))})),r&&!a&&c.push((function(e,t){var a=t||e;a&&a.data&&a.data.context&&a.data.context.$options.updated&&a.data.context.$options.updated()})),0===i.length&&0===s.length&&0===l.length&&0===c.length||(i.length&&(n.insert=function(e){i.forEach((function(t){return t(e)}))}),s.length&&(n.destroy=function(e){s.forEach((function(t){return t(e)}))}),l.length&&(n.update=function(e,t){l.forEach((function(a){return a(e,t)}))}),c.length&&(n.postpatch=function(e,t){c.forEach((function(a){return a(e,t)}))})),n}(o,a,r,n);return s.prepatch=function(e,t){e&&t&&e&&e.data&&e.data.props&&Object.keys(e.data.props).forEach((function(a){B.indexOf(a)<0||(t.data||(t.data={}),t.data.props||(t.data.props={}),!0!==e.data.props[a]||a in t.data.props||(t.data.props[a]=!1))}))},s&&(o.hook=s),o}function q(e,t,a,r,n){if(1===e.nodeType){var o=e instanceof u.b.SVGElement?e.nodeName:e.nodeName.toLowerCase();return $(o,M(e,t,a,r,n),L.indexOf(o)>=0?[]:function(e,t,a,r){for(var n=[],o=e.childNodes,i=0;i<o.length;i+=1){var s=q(o[i],t,a,r);s&&n.push(s)}return n}(e,t,a,r))}return 3===e.nodeType?e.textContent:null}var H=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;D.innerHTML=t.trim();for(var o=0;o<D.childNodes.length;o+=1)e||1!==D.childNodes[o].nodeType||(e=D.childNodes[o]);var i=q(e,a,r,n,!0);return D.innerHTML="",i};var U={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,a){e.insertBefore(t,a)},removeChild:function(e,t){e&&e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function I(e){return void 0===e}function F(e){return void 0!==e}var _=R("",{},[],void 0,void 0);function W(e,t){return e.key===t.key&&e.sel===t.sel}function X(e,t,a){var r,n,o,i={};for(r=t;r<=a;++r)null!=(o=e[r])&&void 0!==(n=o.key)&&(i[n]=r);return i}var V=["create","update","remove","destroy","pre","post"];function Y(e,t){var a,r=t.elm,n=e.data.attrs,o=t.data.attrs;if((n||o)&&n!==o){for(a in n=n||{},o=o||{}){var i=o[a];n[a]!==i&&(!0===i?r.setAttribute(a,""):!1===i?r.removeAttribute(a):120!==a.charCodeAt(0)?r.setAttribute(a,i):58===a.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",a,i):58===a.charCodeAt(5)?r.setAttributeNS("http://www.w3.org/1999/xlink",a,i):r.setAttribute(a,i))}for(a in n)a in o||r.removeAttribute(a)}}var z={create:Y,update:Y};function J(e,t){var a,r,n=t.elm,o=e.data.props,i=t.data.props;if((o||i)&&o!==i){for(a in i=i||{},o=o||{})i[a]||delete n[a];for(a in i)r=i[a],o[a]===r||"value"===a&&n[a]===r||(n[a]=r)}}var Q={create:J,update:J},G="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout;function K(e,t,a){var r;r=function(){e[t]=a},G((function(){G(r)}))}function Z(e,t){var a,r,n=t.elm,o=e.data.style,i=t.data.style;if((o||i)&&o!==i){i=i||{};var s="delayed"in(o=o||{});for(r in o)i[r]||("-"===r[0]&&"-"===r[1]?n.style.removeProperty(r):n.style[r]="");for(r in i)if(a=i[r],"delayed"===r&&i.delayed)for(var l in i.delayed)a=i.delayed[l],s&&a===o.delayed[l]||K(n.style,l,a);else"remove"!==r&&a!==o[r]&&("-"===r[0]&&"-"===r[1]?n.style.setProperty(r,a):n.style[r]=a)}}function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e,t,a){var r=e.type,n=a.data.on;n&&n[r]&&function(e,t,a){"function"==typeof e&&e.apply(void 0,[t].concat(ee(a)))}(n[r],e,t)}function ae(e,t){var a=e.data.on,r=e.listener,o=e.elm,i=t&&t.data.on,s=t&&t.elm;if(a!==i&&(a&&r&&(i?Object.keys(a).forEach((function(e){i[e]||Object(n.a)(o).off(e,r)})):Object.keys(a).forEach((function(e){Object(n.a)(o).off(e,r)}))),i)){var l=e.listener||function e(t){for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];te(t,r,e.vnode)};t.listener=l,l.vnode=t,a?Object.keys(i).forEach((function(e){a[e]||Object(n.a)(s).on(e,l)})):Object.keys(i).forEach((function(e){Object(n.a)(s).on(e,l)}))}}var re=function(e,t){var a,r,n={},o=void 0!==t?t:U;for(a=0;a<V.length;++a)for(n[V[a]]=[],r=0;r<e.length;++r){var i=e[r][V[a]];void 0!==i&&n[V[a]].push(i)}function s(e,t){return function(){if(0==--t){var a=o.parentNode(e);o.removeChild(a,e)}}}function l(e,t){var a,r=e.data;void 0!==r&&F(a=r.hook)&&F(a=a.init)&&(a(e),r=e.data);var i=e.children,s=e.sel;if("!"===s)I(e.text)&&(e.text=""),e.elm=o.createComment(e.text);else if(void 0!==s){var c=s.indexOf("#"),u=s.indexOf(".",c),p=c>0?c:s.length,f=u>0?u:s.length,h=-1!==c||-1!==u?s.slice(0,Math.min(p,f)):s,d=e.elm=F(r)&&F(a=r.ns)?o.createElementNS(a,h):o.createElement(h);for(p<f&&d.setAttribute("id",s.slice(p+1,f)),u>0&&d.setAttribute("class",s.slice(f+1).replace(/\./g," ")),a=0;a<n.create.length;++a)n.create[a](_,e);if(S(i))for(a=0;a<i.length;++a){var v=i[a];null!=v&&o.appendChild(d,l(v,t))}else j(e.text)&&o.appendChild(d,o.createTextNode(e.text));F(a=e.data.hook)&&(a.create&&a.create(_,e),a.insert&&t.push(e))}else e.elm=o.createTextNode(e.text);return e.elm}function c(e,t,a,r,n,i){for(;r<=n;++r){var s=a[r];null!=s&&o.insertBefore(e,l(s,i),t)}}function u(e){var t,a,r=e.data;if(void 0!==r){for(F(t=r.hook)&&F(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(void 0!==e.children)for(a=0;a<e.children.length;++a)null!=(t=e.children[a])&&"string"!=typeof t&&u(t)}}function p(e,t,a,r){for(;a<=r;++a){var i=void 0,l=void 0,c=void 0,p=t[a];if(null!=p)if(F(p.sel)){for(u(p),l=n.remove.length+1,c=s(p.elm,l),i=0;i<n.remove.length;++i)n.remove[i](p,c);F(i=p.data)&&F(i=i.hook)&&F(i=i.remove)?i(p,c):c()}else o.removeChild(e,p.elm)}}function f(e,t,a){var r,i;F(r=t.data)&&F(i=r.hook)&&F(r=i.prepatch)&&r(e,t);var s=t.elm=e.elm,u=e.children,h=t.children;if(e!==t){if(void 0!==t.data){for(r=0;r<n.update.length;++r)n.update[r](e,t);F(r=t.data.hook)&&F(r=r.update)&&r(e,t)}I(t.text)?F(u)&&F(h)?u!==h&&function(e,t,a,r){for(var n,i,s,u=0,h=0,d=t.length-1,v=t[0],g=t[d],m=a.length-1,b=a[0],y=a[m];u<=d&&h<=m;)null==v?v=t[++u]:null==g?g=t[--d]:null==b?b=a[++h]:null==y?y=a[--m]:W(v,b)?(f(v,b,r),v=t[++u],b=a[++h]):W(g,y)?(f(g,y,r),g=t[--d],y=a[--m]):W(v,y)?(f(v,y,r),o.insertBefore(e,v.elm,o.nextSibling(g.elm)),v=t[++u],y=a[--m]):W(g,b)?(f(g,b,r),o.insertBefore(e,g.elm,v.elm),g=t[--d],b=a[++h]):(void 0===n&&(n=X(t,u,d)),I(i=n[b.key])?(o.insertBefore(e,l(b,r),v.elm),b=a[++h]):((s=t[i]).sel!==b.sel?o.insertBefore(e,l(b,r),v.elm):(f(s,b,r),t[i]=void 0,o.insertBefore(e,s.elm,v.elm)),b=a[++h]));(u<=d||h<=m)&&(u>d?c(e,null==a[m+1]?null:a[m+1].elm,a,h,m,r):p(e,t,u,d))}(s,u,h,a):F(h)?(F(e.text)&&o.setTextContent(s,""),c(s,null,h,0,h.length-1,a)):F(u)?p(s,u,0,u.length-1):F(e.text)&&o.setTextContent(s,""):e.text!==t.text&&o.setTextContent(s,t.text),F(i)&&F(r=i.postpatch)&&r(e,t)}}return function(e,t){var a,r,i,s=[];for(a=0;a<n.pre.length;++a)n.pre[a]();for(function(e){return void 0!==e.sel}(e)||(e=function(e){var t=e.id?"#"+e.id:"",a=e.className?"."+e.className.split(" ").join("."):"";return R(o.tagName(e).toLowerCase()+t+a,{},[],void 0,e)}(e)),W(e,t)?f(e,t,s):(r=e.elm,i=o.parentNode(r),l(t,s),null!==i&&(o.insertBefore(i,t.elm,o.nextSibling(r)),p(i,[e],0,0))),a=0;a<s.length;++a)s[a].data.hook.insert(s[a]);for(a=0;a<n.post.length;++a)n.post[a]();return t}}([z,Q,{create:Z,update:Z,destroy:function(e){var t,a,r=e.elm,n=e.data.style;if(n&&(t=n.destroy))for(a in t)r.style[a]=t[a]},remove:function(e,t){var a=e.data.style;if(a&&a.remove){var r,n=e.elm,o=0,i=a.remove,s=0,l=[];for(r in i)l.push(r),n.style[r]=i[r];for(var c=getComputedStyle(n)["transition-property"].split(", ");o<c.length;++o)-1!==l.indexOf(c[o])&&s++;n.addEventListener("transitionend",(function(e){e.target===n&&--s,0===s&&t()}))}else t()}},{create:ae,update:ae,destroy:ae}]);function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie=function(){function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ne(this,e);var o=s.a.id(),i=s.a.merge(this,r,{$:n.a,$$:n.a,$dom7:n.a,$app:t,$f7:t,$options:s.a.extend({id:o},a),$id:a.id||o}),l=i.$options;Object.defineProperty(i,"$root",{enumerable:!0,configurable:!0,get:function(){var e=s.a.merge({},t.data,t.methods);return u.b&&u.b.Proxy&&(e=new u.b.Proxy(e,{set:function(e,a,r){t.data[a]=r},deleteProperty:function(e,a){delete t.data[a],delete t.methods[a]},has:function(e,a){return a in t.data||a in t.methods}})),e},set:function(){}}),"beforeCreate created beforeMount mounted beforeDestroy destroyed updated".split(" ").forEach((function(e){l[e]&&(l[e]=l[e].bind(i))})),l.data&&(l.data=l.data.bind(i),s.a.extend(i,l.data())),l.render&&(l.render=l.render.bind(i)),l.methods&&Object.keys(l.methods).forEach((function(e){i[e]=l.methods[e].bind(i)})),l.on&&Object.keys(l.on).forEach((function(e){l.on[e]=l.on[e].bind(i)})),l.once&&Object.keys(l.once).forEach((function(e){l.once[e]=l.once[e].bind(i)})),l.beforeCreate&&l.beforeCreate();var c=i.$render();return c&&"string"==typeof c?(c=c.trim(),i.$vnode=H(c,i,t,!0),i.el=u.a.createElement(i.$vnode.sel||"div"),re(i.el,i.$vnode)):c&&(i.el=c),i.$el=Object(n.a)(i.el),l.style&&(i.$styleEl=u.a.createElement("style"),i.$styleEl.innerHTML=l.style,l.styleScoped&&i.el.setAttribute("data-f7-".concat(l.id),"")),i.$attachEvents(),l.created&&l.created(),i.el.f7Component=i,i}var t,a,o;return t=e,(a=[{key:"$attachEvents",value:function(){var e=this.$options,t=this.$el;e.on&&Object.keys(e.on).forEach((function(a){t.on(s.a.eventNameToColonCase(a),e.on[a])})),e.once&&Object.keys(e.once).forEach((function(a){t.once(s.a.eventNameToColonCase(a),e.once[a])}))}},{key:"$detachEvents",value:function(){var e=this.$options,t=this.$el;e.on&&Object.keys(e.on).forEach((function(a){t.off(s.a.eventNameToColonCase(a),e.on[a])})),e.once&&Object.keys(e.once).forEach((function(a){t.off(s.a.eventNameToColonCase(a),e.once[a])}))}},{key:"$render",value:function(){var e=this.$options,t="";if(e.render)t=e.render();else if(e.template)if("string"==typeof e.template)try{t=r.a.compile(e.template)(this)}catch(e){throw e}else t=e.template(this);return t}},{key:"$forceUpdate",value:function(){var e=this.$render();if(e&&"string"==typeof e){e=e.trim();var t=H(e,this,this.$app);this.$vnode=re(this.$vnode,t)}}},{key:"$setState",value:function(e){s.a.merge(this,e),this.$forceUpdate()}},{key:"$mount",value:function(e){this.$options.beforeMount&&this.$options.beforeMount(),this.$styleEl&&Object(n.a)("head").append(this.$styleEl),e&&e(this.el),this.$options.mounted&&this.$options.mounted()}},{key:"$destroy",value:function(){this.$options.beforeDestroy&&this.$options.beforeDestroy(),this.$styleEl&&Object(n.a)(this.$styleEl).remove(),this.$detachEvents(),this.$options.destroyed&&this.$options.destroyed(),this.el&&this.el.f7Component&&(this.el.f7Component=null,delete this.el.f7Component),this.$vnode&&(this.$vnode=re(this.$vnode,{sel:this.$vnode.sel,data:{}})),s.a.deleteProps(this)}}])&&oe(t.prototype,a),o&&oe(t,o),e}();var se=function(e){var t,a=s.a.id(),o="f7_component_create_callback_".concat(a),i="f7_component_render_callback_".concat(a),l=e.match(/<template([ ]?)([a-z0-9-]*)>/),c=l[2]||"t7";l&&(t=e.split(/<template[ ]?[a-z0-9-]*>/).filter((function(e,t){return t>0})).join("<template>").split("</template>").filter((function(e,t,a){return t<a.length-1})).join("</template>").replace(/{{#raw}}([ \n]*)<template/g,"{{#raw}}<template").replace(/\/template>([ \n]*){{\/raw}}/g,"/template>{{/raw}}").replace(/([ \n])<template/g,"$1{{#raw}}<template").replace(/\/template>([ \n])/g,"/template>{{/raw}}$1"));var p,f,h=null,d=!1;if(e.indexOf("<style>")>=0?h=e.split("<style>")[1].split("</style>")[0]:e.indexOf("<style scoped>")>=0&&(d=!0,h=(h=e.split("<style scoped>")[1].split("</style>")[0]).replace(/{{this}}/g,"[data-f7-".concat(a,"]")).replace(/[\n]?([^{^}]*){/gi,(function(e,t){return t=t.split(",").map((function(e){return e.indexOf("[data-f7-".concat(a,"]"))>=0?e:"[data-f7-".concat(a,"] ").concat(e.trim())})).join(", "),"\n".concat(t," {")}))),e.indexOf("<script>")>=0){var v=e.split("<script>");p=v[v.length-1].split("<\/script>")[0].trim()}else p="return {}";p&&p.trim()||(p="return {}"),p="window.".concat(o," = function () {").concat(p,"}"),(f=u.a.createElement("script")).innerHTML=p,Object(n.a)("head").append(f);var g=u.b[o]();if(Object(n.a)(f).remove(),u.b[o]=null,delete u.b[o],g.template||g.render||(g.template=t,g.templateType=c),g.template&&("t7"===g.templateType&&(g.template=r.a.compile(g.template)),"es"===g.templateType)){var m="window.".concat(i," = function () {\n        return function render() {\n          return `").concat(g.template,"`;\n        }\n      }");(f=u.a.createElement("script")).innerHTML=m,Object(n.a)("head").append(f),g.render=u.b[i](),Object(n.a)(f).remove(),u.b[i]=null,delete u.b[i]}return h&&(g.style=h,g.styleScoped=d),g.id=a,g},le={name:"component",create:function(){var e=this;e.component={parse:function(e){return se(e)},create:function(t,a){return new ie(e,t,a)}}}},ce={registrations:[],register:function(e,t){var a=this;return"serviceWorker"in window.navigator&&a.serviceWorker.container?new Promise((function(r,n){a.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){ce.registrations.push(e),a.emit("serviceWorkerRegisterSuccess",e),r(e)})).catch((function(e){a.emit("serviceWorkerRegisterError",e),n(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,a=this;return"serviceWorker"in window.navigator&&a.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:ce.registrations,Promise.all(t.map((function(e){return new Promise((function(t,r){e.unregister().then((function(){ce.registrations.indexOf(e)>=0&&ce.registrations.splice(ce.registrations.indexOf(e),1),a.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){a.emit("serviceWorkerUnregisterError",e,t),r(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},ue={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){s.a.extend(this,{serviceWorker:{container:"serviceWorker"in window.navigator?window.navigator.serviceWorker:void 0,registrations:ce.registrations,register:ce.register.bind(this),unregister:ce.unregister.bind(this)}})},on:{init:function(){if("serviceWorker"in window.navigator){var e=this;if(e.serviceWorker.container){var t=e.params.serviceWorker.path,a=e.params.serviceWorker.scope;if(t&&(!Array.isArray(t)||t.length))(Array.isArray(t)?t:[t]).forEach((function(t){e.serviceWorker.register(t,a)}))}}}}},pe=a(392),fe=a(393),he=a(394),de=a(395),ve=a(396),ge=a(507),me=a(508),be=a(64),ye=a(397),Ce=a(509),ke=a(510),we=a(511),xe=a(512),Pe=a(513),Ee=a(514),Oe=a(515),Re=a(398),Se=a(399),je=a(400),Te=a(401),$e=a(402),Ae=a(403),Le=a(516),Ne=a(517),Be=a(404),De=a(405),Me=a(503),qe=a(406),He=a(407),Ue=a(408),Ie=a(409),Fe=a(410),_e=a(411),We=a(518),Xe=a(519),Ve=a(520),Ye=a(521),ze=a(412),Je=a(504),Qe=a(505),Ge=a(413),Ke=a(522),Ze=a(414),et=a(523),tt=a(415),at=a(524),rt=a(525),nt=a(526),ot=a(499),it=a(527),st=a(528),lt=a(529),ct=a(530),ut=a(531),pt=a(416),ft=a(417),ht=a(501),dt=a(418),vt=a(532),gt=a(419),mt=a(100);be.a.use([C,k]),o.a.use([p,f,h,d,v,g,b,y.a,x,E,le,ue,pe.a,fe.a,he.a,de.a,ve.a,ge.a,me.a,ye.a,Ce.a,ke.a,we.a,xe.a,Pe.a,Ee.a,Oe.a,Re.a,Se.a,je.a,Te.a,$e.a,Ae.a,Le.a,Ne.a,Be.a,De.a,Me.a,qe.a,He.a,Ue.a,Ie.a,Fe.a,_e.a,We.a,Xe.a,Ve.a,Ye.a,ze.a,Je.a,Qe.a,Ge.a,Ke.a,Ze.a,et.a,tt.a,at.a,rt.a,nt.a,ot.a,it.a,st.a,lt.a,ct.a,ut.a,pt.a,ft.a,ht.a,dt.a,vt.a,gt.a,mt.a]);t.a=o.a},559:function(e,t,a){},64:function(e,t,a){"use strict";var r=a(6),n=a(3),o=a(208),i=a.n(o),s=a(18),l=a(5),c=a(25),u=a(17),p=a(14);var f=function(e){var t,a,r,o,i,s,f,h,d,v,g=e,m=g.$el,b=g.$navbarEl,y=g.app,C=g.params,k=!1,w=!1,x={},P=[],E=[],O=!0,R=[],S=[],j=C["".concat(y.theme,"SwipeBackAnimateShadow")],T=C["".concat(y.theme,"SwipeBackAnimateOpacity")],$=C["".concat(y.theme,"SwipeBackActiveArea")],A=C["".concat(y.theme,"SwipeBackThreshold")],L=y.rtl?"right center":"left center";function N(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.progress,a=e.reset,r=e.transition,n=["overflow","transform","transform-origin","opacity"],o=0;o<d.length;o+=1){var i=d[o];if(i&&i.el){!0===r&&i.el.classList.add("navbar-page-transitioning"),!1===r&&i.el.classList.remove("navbar-page-transitioning");for(var s=0;s<n.length;s+=1){var l=n[s];i[l]&&(a?i.el.style[l]="":"function"==typeof i[l]?i.el.style[l]=i[l](t):i.el.style[l]=i[l])}}}}function B(e){var a=C["".concat(y.theme,"SwipeBack")];!O||!a||k||y.swipeout&&y.swipeout.el||!g.allowPageChange||Object(n.a)(e.target).closest(".range-slider, .calendar-months").length>0||Object(n.a)(e.target).closest(".page-master, .page-master-detail").length>0&&C.masterDetailBreakpoint>0&&y.width>=C.masterDetailBreakpoint||(w=!1,k=!0,t=void 0,x.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,x.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=l.a.now(),i=g.dynamicNavbar,s=g.separateNavbar)}function D(e){if(k){var o="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,l="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===t&&(t=!!(t||Math.abs(l-x.y)>Math.abs(o-x.x))||o<x.x&&!y.rtl||o>x.x&&y.rtl),t||e.f7PreventSwipeBack||y.preventSwipeBack)k=!1;else{if(!w){var c=!1,u=Object(n.a)(e.target),v=u.closest(".swipeout");v.length>0&&(!y.rtl&&v.find(".swipeout-actions-left").length>0&&(c=!0),y.rtl&&v.find(".swipeout-actions-right").length>0&&(c=!0)),((P=u.closest(".page")).hasClass("no-swipeback")||u.closest(".no-swipeback, .card-opened").length>0)&&(c=!0),(E=m.find(".page-previous:not(.stacked)")).length>1&&(E=E.eq(E.length-1));x.x,m.offset().left;if(a=m.width(),(y.rtl?x.x<m.offset().left-m[0].scrollLeft+(a-$):x.x-m.offset().left>$)&&(c=!0),0!==E.length&&0!==P.length||(c=!0),c)return void(k=!1);j&&0===(f=P.find(".page-shadow-effect")).length&&(f=Object(n.a)('<div class="page-shadow-effect"></div>'),P.append(f)),T&&0===(h=E.find(".page-opacity-effect")).length&&(h=Object(n.a)('<div class="page-opacity-effect"></div>'),E.append(h)),i&&(s?(R=b.find(".navbar-current:not(.stacked)"),S=b.find(".navbar-previous:not(.stacked)")):(R=P.children(".navbar").children(".navbar-inner"),S=E.children(".navbar").children(".navbar-inner")),S.length>1&&(S=S.eq(S.length-1)),d=function(){var e,t,a=[],r=y.rtl?-1:1,o=R.hasClass("navbar-inner-large"),i=S.hasClass("navbar-inner-large"),l=o&&!R.hasClass("navbar-inner-large-collapsed"),c=i&&!S.hasClass("navbar-inner-large-collapsed"),u=R.children(".left, .title, .right, .subnavbar, .fading, .title-large"),f=S.children(".left, .title, .right, .subnavbar, .fading, .title-large");return C.iosAnimateNavbarBackIcon&&(e=R.hasClass("sliding")?R.children(".left").find(".back .icon + span").eq(0):R.children(".left.sliding").find(".back .icon + span").eq(0),t=S.hasClass("sliding")?S.children(".left").find(".back .icon + span").eq(0):S.children(".left.sliding").find(".back .icon + span").eq(0),e.length&&f.each((function(t,a){Object(n.a)(a).hasClass("title")&&(a.f7NavbarLeftOffset+=e.prev(".icon")[0].offsetWidth)}))),u.each((function(t,i){var u=Object(n.a)(i),f=u.hasClass("subnavbar"),h=u.hasClass("left"),d=u.hasClass("title");if(l||!u.hasClass(".title-large")){var v={el:i};if(l){if(d)return;if(u.hasClass("title-large")){if(!s)return;return void(c?(a.indexOf(v)<0&&a.push(v),v.overflow="visible",v.transform="translateX(100%)",u.find(".title-large-text, .title-large-inner").each((function(e,t){a.push({el:t,transform:function(e){return"translateX(".concat(100*e*r-100,"%)")}})}))):(a.indexOf(v)<0&&a.push(v),v.overflow="hidden",v.transform=function(e){return"translateY(calc(".concat(-e," * var(--f7-navbar-large-title-height)))")},u.find(".title-large-text, .title-large-inner").each((function(e,t){a.push({el:t,transform:function(e){return"translateX(".concat(100*e*r,"%) translateY(calc(").concat(e," * var(--f7-navbar-large-title-height)))")}})}))))}}if(c){if(!l&&u.hasClass("title-large")){if(!s)return;a.indexOf(v)<0&&a.push(v),v.opacity=0}if(h&&s)return a.indexOf(v)<0&&a.push(v),v.opacity=function(e){return 1-Math.pow(e,.33)},void u.find(".back span").each((function(e,t){a.push({el:t,"transform-origin":L,transform:function(e){return"translateY(calc(var(--f7-navbar-height) * ".concat(e,")) scale(").concat(1+1*e,")")}})}))}if(!u.hasClass("title-large")){var g=u.hasClass("sliding")||R.hasClass("sliding");if(a.indexOf(v)<0&&a.push(v),(!f||f&&!g)&&(v.opacity=function(e){return 1-Math.pow(e,.33)}),g){var m=v;if(h&&e.length&&C.iosAnimateNavbarBackIcon){var b={el:e[0]};m=b,a.push(b)}m.transform=function(e){var t=e*m.el.f7NavbarRightOffset;return 1===p.a.pixelRatio&&(t=Math.round(t)),"translate3d(".concat(t,f&&o&&s?"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"px,0,0)")}}}}})),f.each((function(e,o){var u=Object(n.a)(o),f=u.hasClass("subnavbar"),h=u.hasClass("left"),d=u.hasClass("title"),v={el:o};if(c){if(d)return;if(a.indexOf(v)<0&&a.push(v),u.hasClass("title-large")){if(!s)return;return l?(v.opacity=1,v.overflow="visible",v.transform="translateY(0)",u.find(".title-large-text").each((function(e,t){a.push({el:t,"transform-origin":L,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateY(calc(".concat(1*e-1," * var(--f7-navbar-large-title-height))) scale(").concat(.5+.5*e,")")}})}))):(v.transform=function(e){return"translateY(calc(".concat(e-1," * var(--f7-navbar-large-title-height)))")},v.opacity=1,v.overflow="hidden",u.find(".title-large-text").each((function(e,t){a.push({el:t,"transform-origin":L,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"scale(".concat(.5+.5*e,")")}})}))),void u.find(".title-large-inner").each((function(e,t){a.push({el:t,"transform-origin":L,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateX(".concat(-100*(1-e)*r,"%)")}})}))}}if(!u.hasClass("title-large")){var g=u.hasClass("sliding")||S.hasClass("sliding");if(a.indexOf(v)<0&&a.push(v),(!f||f&&!g)&&(v.opacity=function(e){return Math.pow(e,3)}),g){var m=v;if(h&&t.length&&C.iosAnimateNavbarBackIcon){var b={el:t[0]};m=b,a.push(b)}m.transform=function(e){var t=m.el.f7NavbarLeftOffset*(1-e);return 1===p.a.pixelRatio&&(t=Math.round(t)),"translate3d(".concat(t,f&&i&&s?"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"px,0,0)")}}}})),a}()),Object(n.a)(".sheet.modal-in").length>0&&y.sheet&&y.sheet.close(Object(n.a)(".sheet.modal-in"))}e.f7PreventPanelSwipe=!0,w=!0,y.preventSwipePanelBySwipeBack=!0,e.preventDefault();var O=y.rtl?-1:1;(r=(o-x.x-A)*O)<0&&(r=0);var B=Math.min(Math.max(r/a,0),1),D={percentage:B,progress:B,currentPageEl:P[0],previousPageEl:E[0],currentNavbarEl:R[0],previousNavbarEl:S[0]};m.trigger("swipeback:move",D),g.emit("swipebackMove",D);var M=r*O,q=(r/5-a/5)*O;y.rtl?(M=Math.max(M,-a),q=Math.max(q,0)):(M=Math.min(M,a),q=Math.min(q,0)),1===p.a.pixelRatio&&(M=Math.round(M),q=Math.round(q)),g.swipeBackActive=!0,Object(n.a)([P[0],E[0]]).addClass("page-swipeback-active"),P.transform("translate3d(".concat(M,"px,0,0)")),j&&(f[0].style.opacity=1-1*B),"ios"===y.theme&&E.transform("translate3d(".concat(q,"px,0,0)")),T&&(f[0].style.opacity=1-1*B),i&&N({progress:B})}}}function M(){if(y.preventSwipePanelBySwipeBack=!1,!k||!w)return k=!1,void(w=!1);if(k=!1,w=!1,g.swipeBackActive=!1,Object(n.a)([P[0],E[0]]).removeClass("page-swipeback-active"),0===r)return Object(n.a)([P[0],E[0]]).transform(""),f&&f.length>0&&f.remove(),h&&h.length>0&&h.remove(),void(i&&N({reset:!0}));var e=l.a.now()-o,t=!1;(e<300&&r>10||e>=300&&r>a/2)&&(P.removeClass("page-current").addClass("page-next".concat("ios"!==y.theme?" page-next-on-right":"")),E.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),f&&(f[0].style.opacity=""),h&&(h[0].style.opacity=""),i&&(R.removeClass("navbar-current").addClass("navbar-next"),S.removeClass("navbar-previous").addClass("navbar-current").removeAttr("aria-hidden")),t=!0),Object(n.a)([P[0],E[0]]).addClass("page-transitioning page-transitioning-swipeback").transform(""),i&&N({progress:t?1:0,transition:!0}),O=!1,g.allowPageChange=!1;var u={currentPageEl:P[0],previousPageEl:E[0],currentNavbarEl:R[0],previousNavbarEl:S[0]};t?(g.currentRoute=E[0].f7Page.route,g.currentPage=E[0],g.pageCallback("beforeOut",P,R,"current","next",{route:P[0].f7Page.route,swipeBack:!0}),g.pageCallback("beforeIn",E,S,"previous","current",{route:E[0].f7Page.route,swipeBack:!0},P[0]),m.trigger("swipeback:beforechange",u),g.emit("swipebackBeforeChange",u)):(m.trigger("swipeback:beforereset",u),g.emit("swipebackBeforeReset",u)),P.transitionEnd((function(){Object(n.a)([P[0],E[0]]).removeClass("page-transitioning page-transitioning-swipeback"),i&&N({reset:!0,transition:!1}),O=!0,g.allowPageChange=!0,t?(1===g.history.length&&g.history.unshift(g.url),g.history.pop(),g.saveHistory(),C.pushState&&c.a.back(),g.pageCallback("afterOut",P,R,"current","next",{route:P[0].f7Page.route,swipeBack:!0}),g.pageCallback("afterIn",E,S,"previous","current",{route:E[0].f7Page.route,swipeBack:!0}),C.stackPages&&g.initialPages.indexOf(P[0])>=0?(P.addClass("stacked"),s&&R.addClass("stacked")):(g.pageCallback("beforeRemove",P,R,"next",{swipeBack:!0}),g.removePage(P),s&&g.removeNavbar(R)),m.trigger("swipeback:afterchange",u),g.emit("swipebackAfterChange",u),g.emit("routeChanged",g.currentRoute,g.previousRoute,g),C.preloadPreviousPage&&g.back(g.history[g.history.length-2],{preload:!0})):(m.trigger("swipeback:afterreset",u),g.emit("swipebackAfterReset",u)),f&&f.length>0&&f.remove(),h&&h.length>0&&h.remove()}))}v=!("touchstart"!==y.touchEvents.start||!u.a.passiveListener)&&{passive:!0,capture:!1},m.on(y.touchEvents.start,B,v),y.on("touchmove:active",D),y.on("touchend:passive",M),g.on("routerDestroy",(function(){var e=!("touchstart"!==y.touchEvents.start||!u.a.passiveListener)&&{passive:!0,capture:!1};m.off(y.touchEvents.start,B,e),y.off("touchmove:active",D),y.off("touchend:passive",M)}))},h=function(e,t,a){var r=this,n=t.route.redirect;if(a.initial&&r.params.pushState&&(a.replaceState=!0,a.history=!0),"function"==typeof n){r.allowPageChange=!1;var o=n.call(r,t,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.allowPageChange=!0,r[e](t,l.a.extend({},a,n))}),(function(){r.allowPageChange=!0}));return o&&"string"==typeof o?(r.allowPageChange=!0,r[e](o,a)):r}return r[e](n,a)};function d(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t,a,r,n,o,i){var s=[];Array.isArray(a)?s.push.apply(s,d(a)):a&&"function"==typeof a&&s.push(a),t&&(Array.isArray(t)?s.push.apply(s,d(t)):s.push(t)),function t(){0!==s.length?s.shift().call(e,r,n,(function(){t()}),(function(){i()})):o()}()}var g=function(e,t,a,r){var n=this;function o(){e&&e.route&&(n.params.routesBeforeEnter||e.route.beforeEnter)?(n.allowPageChange=!1,v(n,n.params.routesBeforeEnter,e.route.beforeEnter,e,t,(function(){n.allowPageChange=!0,a()}),(function(){r()}))):a()}t&&t.route&&(n.params.routesBeforeLeave||t.route.beforeLeave)?(n.allowPageChange=!1,v(n,n.params.routesBeforeLeave,t.route.beforeLeave,e,t,(function(){n.allowPageChange=!0,o()}),(function(){r()}))):o()},m=function(e,t){if(!e.view)throw new Error("Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.".concat(t,"(...)"))};function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?R(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e,a){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=R(n=E(this,O(t).call(this,{},[void 0===a?e:a])));o.isAppRouter=void 0===a,o.isAppRouter?l.a.extend(!1,o,{app:e,params:e.params.view,routes:e.routes||[],cache:e.cache}):l.a.extend(!1,o,{app:e,view:a,viewId:a.id,params:a.params,routes:a.routes,$el:a.$el,el:a.el,$navbarEl:a.$navbarEl,navbarEl:a.navbarEl,history:a.history,scrollHistory:a.scrollHistory,cache:e.cache,dynamicNavbar:"ios"===e.theme&&a.params.iosDynamicNavbar,separateNavbar:"ios"===e.theme&&a.params.iosDynamicNavbar&&a.params.iosSeparateDynamicNavbar,initialPages:[],initialNavbars:[]}),o.useModules(),o.tempDom=r.a.createElement("div"),o.allowPageChange=!0;var i={},s={};return Object.defineProperty(o,"currentRoute",{enumerable:!0,configurable:!0,set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=l.a.extend({},i),(i=e)&&(o.url=i.url,o.emit("routeChange",e,s,o))},get:function(){return i}}),Object.defineProperty(o,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}}),E(n,o)}var a,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),a=t,(o=[{key:"animatableNavElements",value:function(e,t,a,r,o){var i,s,l=this.dynamicNavbar,c=this.separateNavbar,u=this.params.iosAnimateNavbarBackIcon;function p(e,t){var a,r=e.hasClass("sliding")||t.hasClass("sliding"),n=e.hasClass("subnavbar"),o=!r||!n,i=e.find(".back .icon");return r&&u&&e.hasClass("left")&&i.length>0&&i.next("span").length&&(e=i.next("span"),a=!0),{$el:e,isIconLabel:a,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:r,isSubnavbar:n,needsOpacityTransition:o}}return l&&(i=[],s=[],e.children(".left, .right, .title, .subnavbar").each((function(t,s){var l=Object(n.a)(s);l.hasClass("left")&&r&&"forward"===o&&c||l.hasClass("title")&&a||i.push(p(l,e))})),t.hasClass("navbar-master")&&this.params.masterDetailBreakpoint>0&&this.app.width>=this.params.masterDetailBreakpoint||t.children(".left, .right, .title, .subnavbar").each((function(e,i){var l=Object(n.a)(i);l.hasClass("left")&&a&&!r&&"forward"===o&&c||l.hasClass("left")&&a&&"backward"===o&&c||l.hasClass("title")&&r||s.push(p(l,t))})),[s,i].forEach((function(e){e.forEach((function(t){var a=t,r=t.isSliding,n=t.$el,o=e===s?i:s;r&&n.hasClass("title")&&o&&o.forEach((function(e){if(e.isIconLabel){var t=e.$el[0];a.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:i,oldNavEls:s}}},{key:"animate",value:function(e,t,a,r,n,o){var i=this;if(i.params.animateCustom)i.params.animateCustom.apply(i,[e,t,a,r,n,o]);else{var s,c,u,p,f,h,d=i.dynamicNavbar,v="ios"===i.app.theme,g="router-transition-".concat(n," router-transition");if(v&&d){f=a&&a.hasClass("navbar-inner-large"),h=r&&r.hasClass("navbar-inner-large"),u=f&&!a.hasClass("navbar-inner-large-collapsed"),p=h&&!r.hasClass("navbar-inner-large-collapsed");var m=i.animatableNavElements(r,a,p,u,n);s=m.newNavEls,c=m.oldNavEls}("forward"===n?t:e).animationEnd((function(){i.dynamicNavbar&&(r&&(r.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.addClass("navbar-no-title-large-transition"),l.a.nextFrame((function(){r.removeClass("navbar-no-title-large-transition")}))),a&&a.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.hasClass("sliding")?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform(""),a.hasClass("sliding")?a.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):a.find(".sliding").transform("")),i.$el.removeClass(g),o&&o()})),d?(b(0),l.a.nextFrame((function(){b(1),i.$el.addClass(g)}))):i.$el.addClass(g)}function b(e){v&&d&&(1===e&&(p&&(r.addClass("router-navbar-transition-to-large"),a.addClass("router-navbar-transition-to-large")),u&&(r.addClass("router-navbar-transition-from-large"),a.addClass("router-navbar-transition-from-large"))),s.forEach((function(t){var a=t.$el,r="forward"===n?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&h?a[0].style.setProperty("transform","translate3d(".concat(r*(1-e),"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)"),"important"):a.transform("translate3d(".concat(r*(1-e),"px,0,0)")))})),c.forEach((function(t){var a=t.$el,r="forward"===n?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&f?a.transform("translate3d(".concat(r*e,"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)")):a.transform("translate3d(".concat(r*e,"px,0,0)")))})))}}},{key:"removeModal",value:function(e){this.removeEl(e)}},{key:"removeTabContent",value:function(e){Object(n.a)(e).html("")}},{key:"removeNavbar",value:function(e){this.removeEl(e)}},{key:"removePage",value:function(e){var t=Object(n.a)(e),a=t&&t[0]&&t[0].f7Page;a&&a.route&&a.route.route&&a.route.route.keepAlive?t.remove():this.removeEl(e)}},{key:"removeEl",value:function(e){if(e){var t=Object(n.a)(e);0!==t.length&&(t.find(".tab").each((function(e,t){Object(n.a)(t).children().each((function(e,t){t.f7Component&&(Object(n.a)(t).trigger("tab:beforeremove"),t.f7Component.$destroy())}))})),t[0].f7Component&&t[0].f7Component.$destroy&&t[0].f7Component.$destroy(),this.params.removeElements&&(this.params.removeElementsWithTimeout?setTimeout((function(){t.remove()}),this.params.removeElementsTimeout):t.remove()))}}},{key:"getPageEl",value:function(e){if("string"==typeof e)this.tempDom.innerHTML=e;else{if(Object(n.a)(e).hasClass("page"))return e;this.tempDom.innerHTML="",Object(n.a)(this.tempDom).append(e)}return this.findElement(".page",this.tempDom)}},{key:"findElement",value:function(e,t,a){var r=this.view,o=this.app,i=Object(n.a)(t),s=e;a&&(s+=":not(.stacked)");var l=i.find(s).filter((function(e,t){return 0===Object(n.a)(t).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length}));return l.length>1&&("string"==typeof r.selector&&(l=i.find("".concat(r.selector," ").concat(s))),l.length>1&&(l=i.find(".".concat(o.params.viewMainClass," ").concat(s)))),1===l.length?l:(a||(l=this.findElement(s,i,!0)),l&&1===l.length?l:l&&l.length>1?Object(n.a)(l[0]):void 0)}},{key:"flattenRoutes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.routes,t=this,a=[];return e.forEach((function(e){var r=!1;if("tabs"in e&&e.tabs){var n=e.tabs.map((function(t){var a=l.a.extend({},e,{path:"".concat(e.path,"/").concat(t.path).replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete a.tabs,delete a.routes,a}));r=!0,a=a.concat(t.flattenRoutes(n))}if("detailRoutes"in e){var o=e.detailRoutes.map((function(t){var a=l.a.extend({},t);return a.masterRoute=e,a.masterRoutePath=e.path,a}));a=a.concat(e,t.flattenRoutes(o))}if("routes"in e){var i=e.routes.map((function(t){var a=l.a.extend({},t);return a.path="".concat(e.path,"/").concat(a.path).replace("///","/").replace("//","/"),a}));a=r?a.concat(t.flattenRoutes(i)):a.concat(e,t.flattenRoutes(i))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||a.push(e)})),a}},{key:"parseRouteUrl",value:function(e){if(!e)return{};var t=l.a.parseUrlQuery(e),a=e.split("#")[1],r=e.split("#")[0].split("?")[0];return{query:t,hash:a,params:{},url:e,path:r}}},{key:"constructRouteUrl",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.params,n=a.query,o=e.path,s=i.a.compile(o);try{t=s(r||{})}catch(e){throw new Error("Framework7: error constructing route URL from passed params:\nRoute: ".concat(o,"\n").concat(e.toString()))}return n&&(t+="?".concat("string"==typeof n?n:l.a.serializeObject(n))),t}},{key:"findTabRoute",value:function(e){var t,a=Object(n.a)(e),r=this.currentRoute.route.parentPath,o=a.attr("id");return this.flattenRoutes(this.routes).forEach((function(e){e.parentPath===r&&e.tab&&e.tab.id===o&&(t=e)})),t}},{key:"findRouteByKey",value:function(e,t){var a,r=this.routes;return this.flattenRoutes(r).forEach((function(r){a||r[e]===t&&(a=r)})),a}},{key:"findMatchingRoute",value:function(e){if(e){var t,a=this.routes,r=this.flattenRoutes(a),n=this.parseRouteUrl(e),o=n.path,s=n.query,l=n.hash,c=n.params;return r.forEach((function(a){if(!t){var r,n,u=[],p=[a.path];a.alias&&("string"==typeof a.alias?p.push(a.alias):Array.isArray(a.alias)&&a.alias.forEach((function(e){p.push(e)}))),p.forEach((function(e){r||(r=i()(e,u).exec(o))})),r&&(u.forEach((function(e,t){if("number"!=typeof e.name){var a=r[t+1];c[e.name]=null==a?a:decodeURIComponent(a)}})),a.parentPath&&(n=o.split("/").slice(0,a.parentPath.split("/").length-1).join("/")),t={query:s,hash:l,params:c,url:e,path:o,parentPath:n,route:a,name:a.name})}})),t}}},{key:"replaceRequestUrlParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e;return"string"==typeof a&&a.indexOf("{{")>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((function(e){var r=new RegExp("{{".concat(e,"}}"),"g");a=a.replace(r,t.route.params[e]||"")})),a}},{key:"removeFromXhrCache",value:function(e){for(var t=this.cache.xhr,a=!1,r=0;r<t.length;r+=1)t[r].url===e&&(a=r);!1!==a&&t.splice(a,1)}},{key:"xhrRequest",value:function(e,t){var a=this,r=a.params,n=t.ignoreCache,o=e,i=o.indexOf("?")>=0;return r.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+="".concat(i?"&":"?").concat(l.a.serializeObject(t.route.query)),i=!0),r.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+="".concat(i?"&":"?").concat(l.a.serializeObject(t.route.params)),i=!0),o.indexOf("{{")>=0&&(o=a.replaceRequestUrlParams(o,t)),r.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),new Promise((function(e,i){if(r.xhrCache&&!n&&o.indexOf("nocache")<0&&r.xhrCacheIgnore.indexOf(o)<0)for(var s=0;s<a.cache.xhr.length;s+=1){var c=a.cache.xhr[s];if(c.url===o&&l.a.now()-c.time<r.xhrCacheDuration)return void e(c.content)}a.xhr=a.app.request({url:o,method:"GET",beforeSend:function(e){a.emit("routerAjaxStart",e,t)},complete:function(n,s){a.emit("routerAjaxComplete",n),"error"!==s&&"timeout"!==s&&n.status>=200&&n.status<300||0===n.status?(r.xhrCache&&""!==n.responseText&&(a.removeFromXhrCache(o),a.cache.xhr.push({url:o,time:l.a.now(),content:n.responseText})),a.emit("routerAjaxSuccess",n,t),e(n.responseText)):(a.emit("routerAjaxError",n,t),i(n))},error:function(e){a.emit("routerAjaxError",e,t),i(e)}})}))}},{key:"removeThemeElements",value:function(e){var t,a=this.app.theme;"ios"===a?t=".md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios":"md"===a?t=".ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md":"aurora"===a&&(t=".ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora"),Object(n.a)(e).find(t).remove()}},{key:"getPageData",value:function(e,t,a,r){var o,i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5?arguments[5]:void 0,c=this,u=Object(n.a)(e).eq(0),p=Object(n.a)(t).eq(0),f=u[0].f7Page||{};if(("next"===a&&"current"===r||"current"===a&&"previous"===r)&&(o="forward"),("current"===a&&"next"===r||"previous"===a&&"current"===r)&&(o="backward"),f&&!f.fromPage){var h=Object(n.a)(l);h.length&&(i=h[0].f7Page)}(i=f.pageFrom||i)&&i.pageFrom&&(i.pageFrom=null);var d={app:c.app,view:c.view,router:c,$el:u,el:u[0],$pageEl:u,pageEl:u[0],$navbarEl:p,navbarEl:p[0],name:u.attr("data-name"),position:a,from:a,to:r,direction:o,route:f.route?f.route:s,pageFrom:i};return u[0].f7Page=d,d}},{key:"pageCallback",value:function(e,t,a,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;if(t){var c=this,u=Object(n.a)(t);if(u.length){var p=Object(n.a)(a),f=i.route,h=c.params.restoreScrollTopOnBack&&!(c.params.masterDetailBreakpoint>0&&u.hasClass("page-master")&&c.app.width>=c.params.masterDetailBreakpoint),d=u[0].f7Page&&u[0].f7Page.route&&u[0].f7Page.route.route&&u[0].f7Page.route.route.keepAlive;"beforeRemove"===e&&d&&(e="beforeUnmount");var v="page".concat(e[0].toUpperCase()+e.slice(1,e.length)),g="page:".concat(e.toLowerCase()),m={};(m="beforeRemove"===e&&u[0].f7Page?l.a.extend(u[0].f7Page,{from:r,to:o,position:r}):c.getPageData(u[0],p[0],r,o,f,s)).swipeBack=!!i.swipeBack;var b=i.route?i.route.route:{},y=b.on,C=void 0===y?{}:y,k=b.once,w=void 0===k?{}:k;if(i.on&&l.a.extend(C,i.on),i.once&&l.a.extend(w,i.once),"mounted"===e&&E(),"init"===e){if(h&&("previous"===r||!r)&&"current"===o&&c.scrollHistory[m.route.url]&&!u.hasClass("no-restore-scroll")){var x=u.find(".page-content");x.length>0&&(x=x.filter((function(e,t){return 0===Object(n.a)(t).parents(".tab:not(.tab-active)").length&&!Object(n.a)(t).is(".tab:not(.tab-active)")}))),x.scrollTop(c.scrollHistory[m.route.url])}if(E(),u[0].f7PageInitialized)return u.trigger("page:reinit",m),void c.emit("pageReinit",m);u[0].f7PageInitialized=!0}if(h&&"beforeOut"===e&&"current"===r&&"previous"===o){var P=u.find(".page-content");P.length>0&&(P=P.filter((function(e,t){return 0===Object(n.a)(t).parents(".tab:not(.tab-active)").length&&!Object(n.a)(t).is(".tab:not(.tab-active)")}))),c.scrollHistory[m.route.url]=P.scrollTop()}h&&"beforeOut"===e&&"current"===r&&"next"===o&&delete c.scrollHistory[m.route.url],u.trigger(g,m),c.emit(v,m),"beforeRemove"!==e&&"beforeUnmount"!==e||(O(),d||(u[0].f7Page&&u[0].f7Page.navbarEl&&delete u[0].f7Page.navbarEl.f7Page,u[0].f7Page=null))}}function E(){u[0].f7RouteEventsAttached||(u[0].f7RouteEventsAttached=!0,C&&Object.keys(C).length>0&&(u[0].f7RouteEventsOn=C,Object.keys(C).forEach((function(e){C[e]=C[e].bind(c),u.on(l.a.eventNameToColonCase(e),C[e])}))),w&&Object.keys(w).length>0&&(u[0].f7RouteEventsOnce=w,Object.keys(w).forEach((function(e){w[e]=w[e].bind(c),u.once(l.a.eventNameToColonCase(e),w[e])}))))}function O(){u[0].f7RouteEventsAttached&&(u[0].f7RouteEventsOn&&Object.keys(u[0].f7RouteEventsOn).forEach((function(e){u.off(l.a.eventNameToColonCase(e),u[0].f7RouteEventsOn[e])})),u[0].f7RouteEventsOnce&&Object.keys(u[0].f7RouteEventsOnce).forEach((function(e){u.off(l.a.eventNameToColonCase(e),u[0].f7RouteEventsOnce[e])})),u[0].f7RouteEventsAttached=null,u[0].f7RouteEventsOn=null,u[0].f7RouteEventsOnce=null,delete u[0].f7RouteEventsAttached,delete u[0].f7RouteEventsOn,delete u[0].f7RouteEventsOnce)}}},{key:"saveHistory",value:function(){this.view.history=this.history,this.params.pushState&&(r.b.localStorage["f7router-".concat(this.view.id,"-history")]=JSON.stringify(this.history))}},{key:"restoreHistory",value:function(){this.params.pushState&&r.b.localStorage["f7router-".concat(this.view.id,"-history")]&&(this.history=JSON.parse(r.b.localStorage["f7router-".concat(this.view.id,"-history")]),this.view.history=this.history)}},{key:"clearHistory",value:function(){this.history=[],this.view&&(this.view.history=[]),this.saveHistory()}},{key:"updateCurrentUrl",value:function(e){m(this,"updateCurrentUrl"),this.history.length?this.history[this.history.length-1]=e:this.history.push(e);var t=this.parseRouteUrl(e),a=t.query,r=t.hash,n=t.params,o=t.url,i=t.path;if(this.currentRoute&&l.a.extend(this.currentRoute,{query:a,hash:r,params:n,url:o,path:i}),this.params.pushState){var s=this.params.pushStateRoot||"";c.a.replace(this.view.id,{url:e},s+this.params.pushStateSeparator+e)}this.saveHistory(),this.emit("routeUrlUpdate",this.currentRoute,this)}},{key:"init",value:function(){var e=this,t=e.app,a=e.view;(a&&e.params.iosSwipeBack&&"ios"===t.theme||a&&e.params.mdSwipeBack&&"md"===t.theme||a&&e.params.auroraSwipeBack&&"aurora"===t.theme)&&f(e),e.dynamicNavbar&&!e.separateNavbar&&e.$el.addClass("router-dynamic-navbar-inside");var o,i,s,u=e.params.url,p=r.a.location.href.split(r.a.location.origin)[1],h=e.params,d=h.pushState,v=h.pushStateOnLoad,g=h.pushStateSeparator,m=h.pushStateAnimateOnLoad,b=e.params.pushStateRoot;r.b.cordova&&d&&!g&&!b&&r.a.location.pathname.indexOf("index.html")&&(console.warn("Framework7: wrong or not complete pushState configuration, trying to guess pushStateRoot"),b=r.a.location.pathname.split("index.html")[0]),d&&v?(b&&p.indexOf(b)>=0&&""===(p=p.split(b)[1])&&(p="/"),u=g.length>0&&p.indexOf(g)>=0?p.split(g)[1]:p,e.restoreHistory(),e.history.indexOf(u)>=0?e.history=e.history.slice(0,e.history.indexOf(u)+1):e.params.url===u?e.history=[u]:c.a.state&&c.a.state[a.id]&&c.a.state[a.id].url===e.history[e.history.length-1]?u=e.history[e.history.length-1]:e.history=[p.split(g)[0]||"/",u],e.history.length>1?o=!0:e.history=[],e.saveHistory()):(u||(u=p),r.a.location.search&&u.indexOf("?")<0&&(u+=r.a.location.search),r.a.location.hash&&u.indexOf("#")<0&&(u+=r.a.location.hash)),e.history.length>1?(i=e.findMatchingRoute(e.history[0]))||(i=l.a.extend(e.parseRouteUrl(e.history[0]),{route:{url:e.history[0],path:e.history[0].split("?")[0]}})):(i=e.findMatchingRoute(u))||(i=l.a.extend(e.parseRouteUrl(u),{route:{url:u,path:u.split("?")[0]}})),e.params.stackPages&&e.$el.children(".page").each((function(t,a){var r=Object(n.a)(a);e.initialPages.push(r[0]),e.separateNavbar&&r.children(".navbar").length>0&&e.initialNavbars.push(r.children(".navbar").find(".navbar-inner")[0])})),0===e.$el.children(".page:not(.stacked)").length&&u?e.navigate(u,{initial:!0,reloadCurrent:!0,pushState:!1}):(e.currentRoute=i,e.$el.children(".page:not(.stacked)").each((function(t,a){var o,i=Object(n.a)(a);i.addClass("page-current"),e.separateNavbar&&((o=i.children(".navbar").children(".navbar-inner")).length>0?(e.$navbarEl.parents(r.a).length||e.$el.prepend(e.$navbarEl),o.addClass("navbar-current"),e.$navbarEl.append(o),o.children(".title-large").length&&o.addClass("navbar-inner-large"),i.children(".navbar").remove()):(e.$navbarEl.addClass("navbar-hidden"),o.children(".title-large").length&&e.$navbarEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.master&&e.params.masterDetailBreakpoint>0&&(i.addClass("page-master"),i.trigger("page:role",{role:"master"}),o&&o.length&&o.addClass("navbar-master"));var c={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&l.a.extend(c,e.currentRoute.route.options),e.currentPageEl=i[0],e.separateNavbar&&o.length&&(e.currentNavbarEl=o[0]),e.removeThemeElements(i),e.separateNavbar&&o.length&&e.removeThemeElements(o),c.route.route.tab&&(s=!0,e.tabLoad(c.route.route.tab,l.a.extend({},c))),e.pageCallback("init",i,o,"current",void 0,c)})),o&&e.navigate(u,{initial:!0,pushState:!1,history:!1,animate:m,once:{pageAfterIn:function(){(e.params.preloadPreviousPage||e.params["".concat(t.theme,"SwipeBack")])&&e.history.length>2&&e.back({preload:!0})}}}),o||s||(e.history.push(u),e.saveHistory())),!(u&&d&&v)||c.a.state&&c.a.state[a.id]||c.a.initViewState(a.id,{url:u}),e.emit("local::init routerInit",e)}},{key:"destroy",value:function(){var e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null}}])&&P(a.prototype,o),s&&P(a,s),t}(s.a);j.prototype.forward=function(e){var t,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this,u=Object(n.a)(e),p=s.app,f=s.view,h=l.a.extend(!1,{animate:s.params.animate,pushState:!0,replaceState:!1,history:!0,reloadCurrent:s.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:s.params.reloadDetail,on:{}},i),d=s.params.masterDetailBreakpoint>0,v=d&&h.route&&h.route.route&&!0===h.route.route.master,g=s.currentRoute.modal;if(g||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(e){s.currentRoute&&s.currentRoute.route&&s.currentRoute.route[e]&&(g=!0,o=e)})),g){var m=s.currentRoute.modal||s.currentRoute.route.modalInstance||p[o].get(),b=s.history[s.history.length-2],y=s.findMatchingRoute(b);!y&&b&&(y={url:b,path:b.split("?")[0],query:l.a.parseUrlQuery(b),route:{path:b.split("?")[0],url:b}}),s.modalRemove(m)}var C,k,w,x,P=s.dynamicNavbar,E=s.separateNavbar,O=s.$el,R=u,S=h.reloadPrevious||h.reloadCurrent||h.reloadAll;if(s.allowPageChange=!1,0===R.length)return s.allowPageChange=!0,s;R.length&&s.removeThemeElements(R),P&&(w=R.children(".navbar").children(".navbar-inner"),E&&(k=s.$navbarEl,w.length>0&&R.children(".navbar").remove(),0===w.length&&R[0]&&R[0].f7Page&&(w=R[0].f7Page.$navbarEl))),h.route&&h.route.route&&h.route.route.keepAlive&&!h.route.route.keepAliveData&&(h.route.route.keepAliveData={pageEl:u[0]});var j,T,$,A=O.children(".page:not(.stacked)").filter((function(e,t){return t!==R[0]}));if(E&&(j=k.children(".navbar-inner:not(.stacked)").filter((function(e,t){return t!==w[0]}))),h.reloadPrevious&&A.length<2)return s.allowPageChange=!0,s;if(d&&!h.reloadAll){for(var L=0;L<A.length;L+=1)t||!A[L].classList.contains("page-master")||(t=A[L]);if((T=!v&&t)&&t)for(var N=0;N<A.length;N+=1)A[N].classList.contains("page-master-detail")&&(a=A[N]);$=T&&h.reloadDetail&&p.width>=s.params.masterDetailBreakpoint&&t}var B="next";if(h.reloadCurrent||h.reloadAll||$?B="current":h.reloadPrevious&&(B="previous"),R.removeClass("page-previous page-current page-next").addClass("page-".concat(B).concat(v?" page-master":"").concat(T?" page-master-detail":"")).removeClass("stacked").trigger("page:unstack").trigger("page:position",{position:B}),s.emit("pageUnstack",R[0]),s.emit("pagePosition",R[0],B),(v||T)&&R.trigger("page:role",{role:v?"master":"detail"}),P&&w.length&&w.removeClass("navbar-previous navbar-current navbar-next").addClass("navbar-".concat(B).concat(v?" navbar-master":"").concat(T?" navbar-master-detail":"")).removeClass("stacked"),h.reloadCurrent||$)C=A.eq(A.length-1),E&&(x=Object(n.a)(p.navbar.getElByPage(C)));else if(h.reloadPrevious)C=A.eq(A.length-2),E&&(x=Object(n.a)(p.navbar.getElByPage(C)));else if(h.reloadAll)C=A.filter((function(e,t){return t!==R[0]})),E&&(x=j.filter((function(e,t){return t!==w[0]})));else{if(A.length>1){var D=0;for(D=0;D<A.length-1;D+=1)if(t&&A[D]===t)A.eq(D).addClass("page-master-stacked"),A.eq(D).trigger("page:masterstack"),s.emit("pageMasterStack",A[D]),E&&Object(n.a)(p.navbar.getElByPage(t)).addClass("navbar-master-stacked");else{var M=p.navbar.getElByPage(A.eq(D));s.params.stackPages?(A.eq(D).addClass("stacked"),A.eq(D).trigger("page:stack"),s.emit("pageStack",A[D]),E&&Object(n.a)(M).addClass("stacked")):(s.pageCallback("beforeRemove",A[D],j&&j[D],"previous",void 0,h),s.removePage(A[D]),E&&M&&s.removeNavbar(M))}}C=O.children(".page:not(.stacked)").filter((function(e,t){return t!==R[0]})),E&&(x=k.children(".navbar-inner:not(.stacked)").filter((function(e,t){return t!==w[0]})))}if(P&&!E&&(x=C.children(".navbar").children(".navbar-inner")),T&&!h.reloadAll&&((C.length>1||$)&&(C=C.filter((function(e,t){return!t.classList.contains("page-master")}))),x&&(x.length>1||$)&&(x=x.filter((function(e,t){return!t.classList.contains("navbar-master")})))),s.params.pushState&&(h.pushState||h.replaceState)&&!h.reloadPrevious){var q=s.params.pushStateRoot||"";c.a[h.reloadCurrent||$&&a||h.reloadAll||h.replaceState?"replace":"push"](f.id,{url:h.route.url},q+s.params.pushStateSeparator+h.route.url)}h.reloadPrevious||(s.currentPageEl=R[0],P&&w.length?s.currentNavbarEl=w[0]:delete s.currentNavbarEl,s.currentRoute=h.route);var H=h.route.url;h.history&&(((h.reloadCurrent||$&&a)&&s.history.length)>0||h.replaceState?s.history[s.history.length-(h.reloadPrevious?2:1)]=H:h.reloadPrevious?s.history[s.history.length-2]=H:h.reloadAll?s.history=[H]:s.history.push(H)),s.saveHistory();var U=R.parents(r.a).length>0,I=R[0].f7Component;if(h.reloadPrevious?(I&&!U?I.$mount((function(e){Object(n.a)(e).insertBefore(C)})):R.insertBefore(C),E&&w.length&&(w.children(".title-large").length&&w.addClass("navbar-inner-large"),x.length?w.insertBefore(x):(s.$navbarEl.parents(r.a).length||s.$el.prepend(s.$navbarEl),k.append(w)))):(C.next(".page")[0]!==R[0]&&(I&&!U?I.$mount((function(e){O.append(e)})):O.append(R[0])),E&&w.length&&(w.children(".title-large").length&&w.addClass("navbar-inner-large"),s.$navbarEl.parents(r.a).length||s.$el.prepend(s.$navbarEl),k.append(w[0]))),U?h.route&&h.route.route&&h.route.route.keepAlive&&!R[0].f7PageMounted&&(R[0].f7PageMounted=!0,s.pageCallback("mounted",R,w,B,S?B:"current",h,C)):s.pageCallback("mounted",R,w,B,S?B:"current",h,C),(h.reloadCurrent||$)&&C.length>0?s.params.stackPages&&s.initialPages.indexOf(C[0])>=0?(C.addClass("stacked"),C.trigger("page:stack"),s.emit("pageStack",C[0]),E&&x.addClass("stacked")):(s.pageCallback("beforeOut",C,x,"current",void 0,h),s.pageCallback("afterOut",C,x,"current",void 0,h),s.pageCallback("beforeRemove",C,x,"current",void 0,h),s.removePage(C),E&&x&&x.length&&s.removeNavbar(x)):h.reloadAll?C.each((function(e,t){var a=Object(n.a)(t),r=Object(n.a)(p.navbar.getElByPage(a));s.params.stackPages&&s.initialPages.indexOf(a[0])>=0?(a.addClass("stacked"),a.trigger("page:stack"),s.emit("pageStack",a[0]),E&&r.addClass("stacked")):(a.hasClass("page-current")&&(s.pageCallback("beforeOut",C,x,"current",void 0,h),s.pageCallback("afterOut",C,x,"current",void 0,h)),s.pageCallback("beforeRemove",a,x&&x.eq(e),"previous",void 0,h),s.removePage(a),E&&r.length&&s.removeNavbar(r))})):h.reloadPrevious&&(s.params.stackPages&&s.initialPages.indexOf(C[0])>=0?(C.addClass("stacked"),C.trigger("page:stack"),s.emit("pageStack",C[0]),E&&x.addClass("stacked")):(s.pageCallback("beforeRemove",C,x,"previous",void 0,h),s.removePage(C),E&&x&&x.length&&s.removeNavbar(x))),h.route.route.tab&&s.tabLoad(h.route.route.tab,l.a.extend({},h,{history:!1,pushState:!1})),s.pageCallback("init",R,w,B,S?B:"current",h,C),h.reloadCurrent||h.reloadAll||$)return s.allowPageChange=!0,s.pageCallback("beforeIn",R,w,B,"current",h),R.removeAttr("aria-hidden"),P&&w&&w.removeAttr("aria-hidden"),s.pageCallback("afterIn",R,w,B,"current",h),h.reloadCurrent&&h.clearPreviousHistory&&s.clearPreviousHistory(),$&&(t.classList.add("page-previous"),t.classList.remove("page-current"),Object(n.a)(t).trigger("page:position",{position:"previous"}),s.emit("pagePosition",t,"previous"),t.f7Page&&t.f7Page.navbarEl&&(t.f7Page.navbarEl.classList.add("navbar-previous"),t.f7Page.navbarEl.classList.remove("navbar-current"))),s;if(h.reloadPrevious)return s.allowPageChange=!0,s;function F(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";R.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),s.emit("pagePosition",R[0],"current"),C.removeClass(e).addClass("page-previous").trigger("page:position",{position:"previous"}),s.emit("pagePosition",C[0],"previous"),C.hasClass("page-master")||C.attr("aria-hidden","true"),P&&(w.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),x.removeClass(t).addClass("navbar-previous"),x.hasClass("navbar-master")||x.attr("aria-hidden","true")),s.allowPageChange=!0,s.pageCallback("afterOut",C,x,"current","previous",h),s.pageCallback("afterIn",R,w,"next","current",h);var a=(s.params.preloadPreviousPage||s.params["".concat(p.theme,"SwipeBack")])&&!v;a||(R.hasClass("smart-select-page")||R.hasClass("photo-browser-page")||R.hasClass("autocomplete-page")||R.hasClass("color-picker-page"))&&(a=!0),a||(s.params.stackPages?(C.addClass("stacked"),C.trigger("page:stack"),s.emit("pageStack",C[0]),E&&x.addClass("stacked")):R.attr("data-name")&&"smart-select-page"===R.attr("data-name")||(s.pageCallback("beforeRemove",C,x,"previous",void 0,h),s.removePage(C),E&&x.length&&s.removeNavbar(x))),h.clearPreviousHistory&&s.clearPreviousHistory(),s.emit("routeChanged",s.currentRoute,s.previousRoute,s),s.params.pushState&&c.a.clearRouterQueue()}function _(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";C.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),s.emit("pagePosition",C[0],"current"),R.removeClass(e).addClass("page-next").removeAttr("aria-hidden").trigger("page:position",{position:"next"}),s.emit("pagePosition",R[0],"next"),P&&(x.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),w.removeClass(t).addClass("navbar-next").removeAttr("aria-hidden"))}if(s.pageCallback("beforeOut",C,x,"current","previous",h),s.pageCallback("beforeIn",R,w,"next","current",h),!h.animate||v&&p.width>=s.params.masterDetailBreakpoint)F();else{var W=s.params["".concat(s.app.theme,"PageLoadDelay")];W?setTimeout((function(){_(),s.animate(C,R,x,w,"forward",(function(){F()}))}),W):(_(),s.animate(C,R,x,w,"forward",(function(){F()})))}return s},j.prototype.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=this;if(!r.allowPageChange&&!a)return r;var n=e,o=t,i=n.url,s=n.content,c=n.el,u=n.pageName,p=n.template,f=n.templateUrl,h=n.component,d=n.componentUrl;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&r.currentRoute.route&&r.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===r.url)return r.allowPageChange=!0,!1;var v=Object.keys(o.route.params).length===Object.keys(r.currentRoute.params).length;if(v&&Object.keys(o.route.params).forEach((function(e){e in r.currentRoute.params&&r.currentRoute.params[e]===o.route.params[e]||(v=!1)})),v)return!!o.route.route.tab&&r.tabLoad(o.route.route.tab,o);if(!v&&o.route.route.tab&&r.currentRoute.route.tab&&r.currentRoute.parentPath===o.route.parentPath)return r.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&r.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!r.params.allowDuplicateUrls)return r.allowPageChange=!0,!1;function g(e,t){return r.forward(e,l.a.extend(o,t))}function m(){return r.allowPageChange=!0,r}if(!o.route&&i&&(o.route=r.parseRouteUrl(i),l.a.extend(o.route,{route:{url:i,path:i}})),(i||f||d)&&(r.allowPageChange=!1),s)r.forward(r.getPageEl(s),o);else if(p||f)try{r.pageTemplateLoader(p,f,o,g,m)}catch(e){throw r.allowPageChange=!0,e}else if(c)r.forward(r.getPageEl(c),o);else if(u)r.forward(r.$el.children('.page[data-name="'.concat(u,'"]')).eq(0),o);else if(h||d)try{r.pageComponentLoader(r.el,h,d,o,g,m)}catch(e){throw r.allowPageChange=!0,e}else i&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(i,o).then((function(e){r.forward(r.getPageEl(e),o)})).catch((function(){r.allowPageChange=!0})));return r},j.prototype.navigate=function(e){var t,a,r,n,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this;if(c.swipeBackActive)return c;if("string"==typeof e?t=e:(t=e.url,a=e.route,r=e.name,n=e.query,o=e.params),r){if(!(i=c.findRouteByKey("name",r)))throw new Error('Framework7: route with name "'.concat(r,'" not found'));if(t=c.constructRouteUrl(i,{params:o,query:n}))return c.navigate(t,s);throw new Error("Framework7: can't construct URL for route with name \"".concat(r,'"'))}var u=c.app;if(m(c,"navigate"),"#"===t||""===t)return c;var p=t.replace("./","");if("/"!==p[0]&&0!==p.indexOf("#")){var f=c.currentRoute.parentPath||c.currentRoute.path;p=((f?"".concat(f,"/"):"/")+p).replace("///","/").replace("//","/")}if(!(i=a?l.a.extend(c.parseRouteUrl(p),{route:l.a.extend({},a)}):c.findMatchingRoute(p)))return c;if(i.route.redirect)return h.call(c,"navigate",i,s);var d={};function v(){var e=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){i.route[t]&&!e&&(e=!0,c.modalLoad(t,i,d))})),i.route.keepAlive&&i.route.keepAliveData&&(c.load({el:i.route.keepAliveData.pageEl},d,!1),e=!0),"url content component pageName el componentUrl template templateUrl".split(" ").forEach((function(t){i.route[t]&&!e&&(e=!0,c.load(b({},t,i.route[t]),d,!1))})),e||i.route.async&&(c.allowPageChange=!1,i.route.async.call(c,d.route,c.currentRoute,(function(e,t){c.allowPageChange=!1;var a=!1;t&&t.context&&(i.context?i.context=l.a.extend({},i.context,t.context):i.context=t.context,d.route.context=i.context),"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(r){if(e[r]){a=!0;var n=l.a.extend({},i,{route:e});c.allowPageChange=!0,c.modalLoad(r,n,l.a.extend(d,t))}})),a||c.load(e,l.a.extend(d,t),!0)}),(function(){c.allowPageChange=!0})))}function y(){c.allowPageChange=!0}if(i.route.options?l.a.extend(d,i.route.options,s):l.a.extend(d,s),d.route=i,d&&d.context&&(i.context=d.context,d.route.context=d.context),c.params.masterDetailBreakpoint>0&&i.route.masterRoute){var C=!0,k=!1;if(c.currentRoute&&c.currentRoute.route&&(!c.currentRoute.route.master||c.currentRoute.route!==i.route.masterRoute&&c.currentRoute.route.path!==i.route.masterRoute.path||(C=!1),!c.currentRoute.route.masterRoute||c.currentRoute.route.masterRoute!==i.route.masterRoute&&c.currentRoute.route.masterRoute.path!==i.route.masterRoute.path||(C=!1,k=!0)),C||k&&s.reloadAll)return c.navigate(i.route.masterRoute.path,{animate:!1,reloadAll:s.reloadAll,reloadCurrent:s.reloadCurrent,reloadPrevious:s.reloadPrevious,pushState:!s.initial,history:!s.initial,once:{pageAfterIn:function(){c.navigate(e,l.a.extend({},s,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!s.initial,pushState:!s.initial}))}}}),c}return g.call(c,i,c.currentRoute,(function(){i.route.modules?u.loadModules(Array.isArray(i.route.modules)?i.route.modules:[i.route.modules]).then((function(){v()})).catch((function(){y()})):v()}),(function(){y()})),c},j.prototype.refreshPage=function(){return m(this,"refreshPage"),this.navigate(this.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})},j.prototype.tabLoad=function(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this,i=l.a.extend({animate:o.params.animate,pushState:!0,history:!0,parentPageEl:null,preload:!1,on:{}},r);i.route&&(i.preload||i.route===o.currentRoute||(a=o.previousRoute,o.currentRoute=i.route),i.preload?(t=i.route,a=o.currentRoute):(t=o.currentRoute,a||(a=o.previousRoute)),o.params.pushState&&i.pushState&&!i.reloadPrevious&&c.a.replace(o.view.id,{url:i.route.url},(o.params.pushStateRoot||"")+o.params.pushStateSeparator+i.route.url),i.history&&(o.history[Math.max(o.history.length-1,0)]=i.route.url,o.saveHistory()));var s,u=Object(n.a)(i.parentPageEl||o.currentPageEl);s=u.length&&u.find("#".concat(e.id)).length?u.find("#".concat(e.id)).eq(0):o.view.selector?"".concat(o.view.selector," #").concat(e.id):"#".concat(e.id);var p,f=o.app.tab.show({tabEl:s,animate:i.animate,tabRoute:i.route}),h=f.$newTabEl,d=f.$oldTabEl,v=f.animated,g=f.onTabsChanged;if(h&&h.parents(".page").length>0&&i.route){var m=h.parents(".page")[0].f7Page;m&&i.route&&(m.route=i.route)}function b(t){o.removeThemeElements(h);var a=h;"string"!=typeof t&&(a=Object(n.a)(t)),a.trigger("tab:init tab:mounted",e),o.emit("tabInit tabMounted",h[0],e),d&&d.length&&(v?g((function(){o.emit("routeChanged",o.currentRoute,o.previousRoute,o),o.params.unloadTabContent&&o.tabRemove(d,h,e)})):(o.emit("routeChanged",o.currentRoute,o.previousRoute,o),o.params.unloadTabContent&&o.tabRemove(d,h,e)))}if(h[0].f7RouterTabLoaded)return d&&d.length?(v?g((function(){o.emit("routeChanged",o.currentRoute,o.previousRoute,o)})):o.emit("routeChanged",o.currentRoute,o.previousRoute,o),o):o;function C(e,t){var a=e.url,r=e.content,n=e.el,i=e.template,s=e.templateUrl,l=e.component,c=e.componentUrl;function u(e){o.allowPageChange=!0,e&&("string"==typeof e?h.html(e):(h.html(""),e.f7Component?e.f7Component.$mount((function(e){h.append(e)})):h.append(e)),h[0].f7RouterTabLoaded=!0,b(e))}function p(){return o.allowPageChange=!0,o}if(r)u(r);else if(i||s)try{o.tabTemplateLoader(i,s,t,u,p)}catch(e){throw o.allowPageChange=!0,e}else if(n)u(n);else if(l||c)try{o.tabComponentLoader(h[0],l,c,t,u,p)}catch(e){throw o.allowPageChange=!0,e}else a&&(o.xhr&&(o.xhr.abort(),o.xhr=!1),o.xhrRequest(a,t).then((function(e){u(e)})).catch((function(){o.allowPageChange=!0})))}function k(e,t){C(e,l.a.extend(i,t))}function w(){o.allowPageChange=!0}return"url content component el componentUrl template templateUrl".split(" ").forEach((function(t){e[t]&&(p=!0,C(y({},t,e[t]),i))})),e.async?e.async.call(o,t,a,k,w):p||(o.allowPageChange=!0),o},j.prototype.tabRemove=function(e,t,a){var r;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each((function(e,t){t.f7Component&&(r=!0,Object(n.a)(t).trigger("tab:beforeremove",a),t.f7Component.$destroy())})),r||e.trigger("tab:beforeremove",a),this.emit("tabBeforeRemove",e[0],t[0],a),this.removeTabContent(e[0],a)},j.prototype.modalLoad=function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this,o=n.app,i="panel"===e,s=i?"panel":"modal",u=l.a.extend({animate:n.params.animate,pushState:!0,history:!0,on:{}},r),p=l.a.extend({},t.route[e]),f=t.route;function h(){var a=o[e].create(p);f.modalInstance=a;var r=a.el;function h(){a.close()}a.on("".concat(s,"Open"),(function(){r||(n.removeThemeElements(a.el),a.$el.trigger("".concat(e.toLowerCase(),":init ").concat(e.toLowerCase(),":mounted"),t,a),n.emit("".concat(i?"":"modalInit"," ").concat(e,"Init ").concat(e,"Mounted"),a.el,t,a)),n.once("swipeBackMove",h)})),a.on("".concat(s,"Close"),(function(){n.off("swipeBackMove",h),a.closeByRouter||n.back()})),a.on("".concat(s,"Closed"),(function(){a.$el.trigger("".concat(e.toLowerCase(),":beforeremove"),t,a),a.emit("".concat(i?"":"modalBeforeRemove ").concat(e,"BeforeRemove"),a.el,t,a);var r=a.el.f7Component;r&&r.$destroy(),l.a.nextTick((function(){(r||p.component)&&n.removeModal(a.el),a.destroy(),delete a.route,delete f.modalInstance}))})),u.route&&(n.params.pushState&&u.pushState&&c.a.push(n.view.id,{url:u.route.url,modal:e},(n.params.pushStateRoot||"")+n.params.pushStateSeparator+u.route.url),u.route!==n.currentRoute&&(a.route=l.a.extend(u.route,{modal:a}),n.currentRoute=a.route),u.history&&(n.history.push(u.route.url),n.saveHistory())),r&&(n.removeThemeElements(a.el),a.$el.trigger("".concat(e.toLowerCase(),":init ").concat(e.toLowerCase(),":mounted"),t,a),n.emit("".concat(s,"Init ").concat(e,"Init ").concat(e,"Mounted"),a.el,t,a)),a.open()}function d(e,t){var a=e.url,r=e.content,i=e.template,s=e.templateUrl,l=e.component,c=e.componentUrl;function u(e){e&&("string"==typeof e?p.content=e:e.f7Component?e.f7Component.$mount((function(e){p.el=e,o.root.append(e)})):p.el=e,h())}function f(){return n.allowPageChange=!0,n}if(r)u(r);else if(i||s)try{n.modalTemplateLoader(i,s,t,u,f)}catch(e){throw n.allowPageChange=!0,e}else if(l||c)try{n.modalComponentLoader(o.root[0],l,c,t,u,f)}catch(e){throw n.allowPageChange=!0,e}else a?(n.xhr&&(n.xhr.abort(),n.xhr=!1),n.xhrRequest(a,t).then((function(e){p.content=e,h()})).catch((function(){n.allowPageChange=!0}))):h()}function v(e,t){d(e,l.a.extend(u,t))}function g(){n.allowPageChange=!0}return"url content component el componentUrl template templateUrl".split(" ").forEach((function(e){p[e]&&!a&&(a=!0,d(C({},e,p[e]),u))})),a||"actions"!==e||h(),p.async&&p.async.call(n,u.route,n.currentRoute,v,g),n},j.prototype.modalRemove=function(e){l.a.extend(e,{closeByRouter:!0}),e.close()},j.prototype.backward=function(e,t){var a,o,i,s,u,f,h=this,d=Object(n.a)(e),v=h.app,g=h.view,m=l.a.extend({animate:h.params.animate,pushState:!0,replaceState:!1},t),b=h.params.masterDetailBreakpoint>0,y=b&&m.route&&m.route.route&&!0===m.route.route.master,C=h.dynamicNavbar,k=h.separateNavbar,w=d,x=h.$el.children(".page-current"),P=b&&x.hasClass("page-master");if(w.length&&h.removeThemeElements(w),C&&(i=w.children(".navbar").children(".navbar-inner"),k?(o=h.$navbarEl,i.length>0&&w.children(".navbar").remove(),0===i.length&&w[0]&&w[0].f7Page&&(i=w[0].f7Page.$navbarEl),s=o.find(".navbar-current")):s=x.children(".navbar").children(".navbar-inner")),h.allowPageChange=!1,0===w.length||0===x.length)return h.allowPageChange=!0,h;if(h.removeThemeElements(w),m.route&&m.route.route&&m.route.route.keepAlive&&!m.route.route.keepAliveData&&(m.route.route.keepAliveData={pageEl:d[0]}),b){for(var E=h.$el.children(".page:not(.stacked)").filter((function(e,t){return t!==w[0]})),O=0;O<E.length;O+=1)a||!E[O].classList.contains("page-master")||(a=E[O]);!(u=!y&&a&&h.history.indexOf(m.route.url)>h.history.indexOf(a.f7Page.route.url))&&!y&&a&&a.f7Page&&m.route.route.masterRoute&&(u=m.route.route.masterRoute.path===a.f7Page.route.route.path)}if(w.addClass("page-previous".concat(y?" page-master":"").concat(u?" page-master-detail":"")).removeClass("stacked").removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:"previous"}),h.emit("pageUnstack",w[0]),h.emit("pagePosition",w[0],"previous"),(y||u)&&w.trigger("page:role",{role:y?"master":"detail"}),C&&i.length>0&&i.addClass("navbar-previous".concat(y?" navbar-master":"").concat(u?" navbar-master-detail":"")).removeClass("stacked").removeAttr("aria-hidden"),m.force&&(x.prev(".page-previous:not(.stacked)").length>0||0===x.prev(".page-previous").length))if(h.history.indexOf(m.route.url)>=0?(f=h.history.length-h.history.indexOf(m.route.url)-1,h.history=h.history.slice(0,h.history.indexOf(m.route.url)+2),g.history=h.history):h.history[[h.history.length-2]]?h.history[h.history.length-2]=m.route.url:h.history.unshift(h.url),f&&h.params.stackPages)x.prevAll(".page-previous").each((function(e,t){var a,r=Object(n.a)(t);k&&(a=Object(n.a)(v.navbar.getElByPage(r))),r[0]!==w[0]&&r.index()>w.index()&&(h.initialPages.indexOf(r[0])>=0?(r.addClass("stacked"),r.trigger("page:stack"),h.emit("pageStack",r[0]),k&&a.addClass("stacked")):(h.pageCallback("beforeRemove",r,a,"previous",void 0,m),h.removePage(r),k&&a.length>0&&h.removeNavbar(a)))}));else{var R,S=x.prev(".page-previous:not(.stacked)");k&&(R=Object(n.a)(v.navbar.getElByPage(S))),h.params.stackPages&&h.initialPages.indexOf(S[0])>=0?(S.addClass("stacked"),S.trigger("page:stack"),h.emit("pageStack",S[0]),R.addClass("stacked")):S.length>0&&(h.pageCallback("beforeRemove",S,R,"previous",void 0,m),h.removePage(S),k&&R.length&&h.removeNavbar(R))}var j,T,$=w.parents(r.a).length>0,A=w[0].f7Component;function L(){0===w.next(x).length&&(!$&&A?A.$mount((function(e){Object(n.a)(e).insertBefore(x)})):w.insertBefore(x)),k&&i.length&&(i.children(".title-large").length&&i.addClass("navbar-inner-large"),i.insertBefore(s),s.length>0?i.insertBefore(s):(h.$navbarEl.parents(r.a).length||h.$el.prepend(h.$navbarEl),o.append(i))),$?m.route&&m.route.route&&m.route.route.keepAlive&&!w[0].f7PageMounted&&(w[0].f7PageMounted=!0,h.pageCallback("mounted",w,i,"previous","current",m,x)):h.pageCallback("mounted",w,i,"previous","current",m,x)}if(m.preload){L(),m.route.route.tab&&h.tabLoad(m.route.route.tab,l.a.extend({},m,{history:!1,pushState:!1,preload:!0})),y&&(w.removeClass("page-master-stacked").trigger("page:masterunstack"),h.emit("pageMasterUnstack",w[0]),k&&Object(n.a)(v.navbar.getElByPage(w)).removeClass("navbar-master-stacked")),h.pageCallback("init",w,i,"previous","current",m,x);var N=w.prevAll(".page-previous:not(.stacked):not(.page-master)");return N.length>0&&N.each((function(e,t){var a,r=Object(n.a)(t);k&&(a=Object(n.a)(v.navbar.getElByPage(r))),h.params.stackPages&&h.initialPages.indexOf(t)>=0?(r.addClass("stacked"),r.trigger("page:stack"),h.emit("pageStack",r[0]),k&&a.addClass("stacked")):(h.pageCallback("beforeRemove",r,a,"previous",void 0),h.removePage(r),k&&a.length&&h.removeNavbar(a))})),h.allowPageChange=!0,h}if(!(p.a.ie||p.a.edge||p.a.firefox&&!p.a.ios)&&h.params.pushState&&m.pushState)if(m.replaceState){var B=h.params.pushStateRoot||"";c.a.replace(g.id,{url:m.route.url},B+h.params.pushStateSeparator+m.route.url)}else f?c.a.go(-f):c.a.back();if(m.replaceState?h.history[h.history.length-1]=m.route.url:(1===h.history.length&&h.history.unshift(h.url),h.history.pop()),h.saveHistory(),h.currentPageEl=w[0],C&&i.length?h.currentNavbarEl=i[0]:delete h.currentNavbarEl,h.currentRoute=m.route,(p.a.ie||p.a.edge||p.a.firefox&&!p.a.ios)&&h.params.pushState&&m.pushState)if(m.replaceState){var D=h.params.pushStateRoot||"";c.a.replace(g.id,{url:m.route.url},D+h.params.pushStateSeparator+m.route.url)}else f?c.a.go(-f):c.a.back();function M(){var e="page-previous page-current page-next",t="navbar-previous navbar-current navbar-next";w.removeClass(e).addClass("page-current").removeAttr("aria-hidden").trigger("page:position",{position:"current"}),h.emit("pagePosition",w[0],"current"),x.removeClass(e).addClass("page-next").attr("aria-hidden","true").trigger("page:position",{position:"next"}),h.emit("pagePosition",x[0],"next"),C&&(i.removeClass(t).addClass("navbar-current").removeAttr("aria-hidden"),s.removeClass(t).addClass("navbar-next").attr("aria-hidden","true")),h.pageCallback("afterOut",x,s,"current","next",m),h.pageCallback("afterIn",w,i,"previous","current",m),h.params.stackPages&&h.initialPages.indexOf(x[0])>=0?(x.addClass("stacked"),x.trigger("page:stack"),h.emit("pageStack",x[0]),k&&s.addClass("stacked")):(h.pageCallback("beforeRemove",x,s,"next",void 0,m),h.removePage(x),k&&s.length&&h.removeNavbar(s)),h.allowPageChange=!0,h.emit("routeChanged",h.currentRoute,h.previousRoute,h),(h.params.preloadPreviousPage||h.params["".concat(v.theme,"SwipeBack")])&&h.history[h.history.length-2]&&!y&&h.back(h.history[h.history.length-2],{preload:!0}),h.params.pushState&&c.a.clearRouterQueue()}return L(),m.route.route.tab&&h.tabLoad(m.route.route.tab,l.a.extend({},m,{history:!1,pushState:!1})),h.pageCallback("init",w,i,"previous","current",m,x),h.pageCallback("beforeOut",x,s,"current","next",m),h.pageCallback("beforeIn",w,i,"previous","current",m),!m.animate||P&&v.width>=h.params.masterDetailBreakpoint?M():(j="page-previous page-current page-next",T="navbar-previous navbar-current navbar-next",x.removeClass(j).addClass("page-current").trigger("page:position",{position:"current"}),h.emit("pagePosition",x[0],"current"),w.removeClass(j).addClass("page-previous").removeAttr("aria-hidden").trigger("page:position",{position:"previous"}),h.emit("pagePosition",w[0],"previous"),C&&(s.removeClass(T).addClass("navbar-current"),i.removeClass(T).addClass("navbar-previous").removeAttr("aria-hidden")),h.animate(x,w,s,i,"backward",(function(){M()}))),h},j.prototype.loadBack=function(e,t,a){var r=this;if(!r.allowPageChange&&!a)return r;var n=e,o=t,i=n.url,s=n.content,c=n.el,u=n.pageName,p=n.template,f=n.templateUrl,h=n.component,d=n.componentUrl;if(o.route.url&&r.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!r.params.allowDuplicateUrls)return!1;function v(e,t){return r.backward(e,l.a.extend(o,t))}function g(){return r.allowPageChange=!0,r}if(!o.route&&i&&(o.route=r.parseRouteUrl(i)),(i||f||d)&&(r.allowPageChange=!1),s)r.backward(r.getPageEl(s),o);else if(p||f)try{r.pageTemplateLoader(p,f,o,v,g)}catch(e){throw r.allowPageChange=!0,e}else if(c)r.backward(r.getPageEl(c),o);else if(u)r.backward(r.$el.children('.page[data-name="'.concat(u,'"]')).eq(0),o);else if(h||d)try{r.pageComponentLoader(r.el,h,d,o,v,g)}catch(e){throw r.allowPageChange=!0,e}else i&&(r.xhr&&(r.xhr.abort(),r.xhr=!1),r.xhrRequest(i,o).then((function(e){r.backward(r.getPageEl(e),o)})).catch((function(){r.allowPageChange=!0})));return r},j.prototype.back=function(){var e,t,a,r=this;if(r.swipeBackActive)return r;"object"===w(arguments.length<=0?void 0:arguments[0])?t=(arguments.length<=0?void 0:arguments[0])||{}:(e=arguments.length<=0?void 0:arguments[0],t=(arguments.length<=1?void 0:arguments[1])||{});var n=t,o=n.name,i=n.params,s=n.query;if(o){if(!(a=r.findRouteByKey("name",o)))throw new Error('Framework7: route with name "'.concat(o,'" not found'));if(e=r.constructRouteUrl(a,{params:i,query:s}))return r.back(e,l.a.extend({},t,{name:null,params:null,query:null}));throw new Error("Framework7: can't construct URL for route with name \"".concat(o,'"'))}var u=r.app;m(r,"back");var f,d=r.currentRoute.modal;if(d||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(e){r.currentRoute.route[e]&&(d=!0,f=e)})),d){var v,b=r.currentRoute.modal||r.currentRoute.route.modalInstance||u[f].get(),y=r.history[r.history.length-2];if(b&&b.$el){var C=b.$el.prevAll(".modal-in");C.length&&C[0].f7Modal&&(v=C[0].f7Modal.route)}if(v||(v=r.findMatchingRoute(y)),!v&&y&&(v={url:y,path:y.split("?")[0],query:l.a.parseUrlQuery(y),route:{path:y.split("?")[0],url:y}}),!(e&&0!==e.replace(/[# ]/g,"").trim().length||v&&b))return r;var x=t.force&&v&&e;if(v&&b){var P=p.a.ie||p.a.edge||p.a.firefox&&!p.a.ios,E=r.params.pushState&&!1!==t.pushState;E&&!P&&c.a.back(),r.currentRoute=v,r.history.pop(),r.saveHistory(),E&&P&&c.a.back(),r.modalRemove(b),x&&r.navigate(e,{reloadCurrent:!0})}else b&&(r.modalRemove(b),e&&r.navigate(e,{reloadCurrent:!0}));return r}var O,R=r.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(r.params.masterDetailBreakpoint>0){var S=r.$el.children(".page-current").prevAll(".page-master").eq(0);if(S.length){var j=r.history[r.history.length-2],T=r.findMatchingRoute(j);T&&T.route===S[0].f7Page.route.route&&(R=S,t.preload||(O=u.width>=r.params.masterDetailBreakpoint))}}if(!t.force&&R.length&&!O){if(r.params.pushState&&R[0].f7Page&&r.history[r.history.length-2]!==R[0].f7Page.route.url)return r.back(r.history[r.history.length-2],l.a.extend(t,{force:!0})),r;var $=R[0].f7Page.route;return g.call(r,$,r.currentRoute,(function(){r.loadBack({el:R},l.a.extend(t,{route:$}))}),(function(){})),r}if("#"===e&&(e=void 0),e&&"/"!==e[0]&&0!==e.indexOf("#")&&(e=((r.path||"/")+e).replace("//","/")),!e&&r.history.length>1&&(e=r.history[r.history.length-2]),O&&!t.force&&r.history[r.history.length-3])return r.back(r.history[r.history.length-3],l.a.extend({},t||{},{force:!0,animate:!1}));if(O&&!t.force)return r;if((a=r.findMatchingRoute(e))||e&&(a={url:e,path:e.split("?")[0],query:l.a.parseUrlQuery(e),route:{path:e.split("?")[0],url:e}}),!a)return r;if(a.route.redirect)return h.call(r,"back",a,t);var A,L={};if(a.route.options?l.a.extend(L,a.route.options,t):l.a.extend(L,t),L.route=a,L&&L.context&&(a.context=L.context,L.route.context=L.context),L.force&&r.params.stackPages&&(r.$el.children(".page-previous.stacked").each((function(e,t){t.f7Page&&t.f7Page.route&&t.f7Page.route.url===a.url&&(A=!0,r.loadBack({el:t},L))})),A))return r;function N(){var e=!1;a.route.keepAlive&&a.route.keepAliveData&&(r.loadBack({el:a.route.keepAliveData.pageEl},L),e=!0),"url content component pageName el componentUrl template templateUrl".split(" ").forEach((function(t){a.route[t]&&!e&&(e=!0,r.loadBack(k({},t,a.route[t]),L))})),e||a.route.async&&(r.allowPageChange=!1,a.route.async.call(r,a,r.currentRoute,(function(e,t){r.allowPageChange=!1,t&&t.context&&(a.context?a.context=l.a.extend({},a.context,t.context):a.context=t.context,L.route.context=a.context),r.loadBack(e,l.a.extend(L,t),!0)}),(function(){r.allowPageChange=!0})))}function B(){r.allowPageChange=!0}return L.preload?N():g.call(r,a,r.currentRoute,(function(){a.route.modules?u.loadModules(Array.isArray(a.route.modules)?a.route.modules:[a.route.modules]).then((function(){N()})).catch((function(){B()})):N()}),(function(){B()})),r},j.prototype.clearPreviousPages=function(){var e=this;m(e,"clearPreviousPages");var t=e.app,a=e.separateNavbar;e.$el.children(".page").filter((function(t,a){return!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||a!==e.currentPageEl})).each((function(r,o){var i=Object(n.a)(o),s=Object(n.a)(t.navbar.getElByPage(i));e.params.stackPages&&e.initialPages.indexOf(i[0])>=0?(i.addClass("stacked"),a&&s.addClass("stacked")):(e.pageCallback("beforeRemove",i,s,"previous",void 0,{}),e.removePage(i),a&&s.length&&e.removeNavbar(s))}))},j.prototype.clearPreviousHistory=function(){m(this,"clearPreviousHistory");var e=this.history[this.history.length-1];this.clearPreviousPages(),this.history=[e],this.view.history=[e],this.saveHistory()};t.a=j}}]);
//# sourceMappingURL=46.app.js.map