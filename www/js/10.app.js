(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{425:function(a,e,t){"use strict";var n=t(0),r=t.n(n),o=t(1);e.a=function(){return r.a.createElement(o.F,{className:"devPageInduk"},r.a.createElement(o.E,{title:"Menu dalam Pengembangan",backLink:"Back"}),r.a.createElement(o.h,{strong:!0,className:"devPage"},r.a.createElement("img",{src:"/static/icons/810.jpg",style:{width:"80%"}}),r.a.createElement("h2",null,"Tunggu sebentar ya..."),r.a.createElement("h4",null,"Kami masih dalam proses membuat sesuatu yang menyenangkan di sini! Mohon bersabar sebentar lagi ya :)")))}},62:function(a,e,t){"use strict";var n=t(0),r=t.n(n),o=t(1),i=t(9),s=t(10),l=t(2),p=t(4),u=t.n(p),m=t(26),c=t.n(m);function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a){return function(a){if(Array.isArray(a)){for(var e=0,t=new Array(a.length);e<a.length;e++)t[e]=a[e];return t}}(a)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function y(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(t,!0).forEach((function(e){E(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):f(t).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function h(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function k(a,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function _(a,e){return!e||"object"!==d(e)&&"function"!=typeof e?w(a):e}function b(a){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function w(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function P(a,e){return(P=Object.setPrototypeOf||function(a,e){return a.__proto__=e,a})(a,e)}function E(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var S=function(a){function e(){var a,t;h(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(w(t=_(this,(a=b(e)).call.apply(a,[this].concat(r)))),"state",{error:null,loading:!1,routeParams:{pengguna_id:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).pengguna_id:null,konten:null,start:0,limit:5},pertanyaan_sekolah:{total:0,rows:[]},routeParamsJawaban:{},komentar:{},loadingAktivitas:!1,loadingPosting:!1}),E(w(t),"bulan",["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"]),E(w(t),"modules",{toolbar:[["bold","italic","underline","strike","blockquote"],["link","image"]]}),E(w(t),"formats",["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"]),E(w(t),"loadAktivitasLagi",(function(){t.setState({loadingAktivitas:!0,routeParams:y({},t.state.routeParams,{start:parseInt(t.state.routeParams.start)+parseInt(t.state.routeParams.limit)})},(function(){switch(t.props.tipe){case"sekolah":t.props.getPertanyaanSekolah(y({},t.state.routeParams,{sekolah_id:t.props.sekolah_id})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:y({},t.state.pertanyaan_sekolah,{rows:[].concat(g(t.state.pertanyaan_sekolah.rows),g(a.payload.rows))}),loadingAktivitas:!1,pertanyaan_sekolah_loaded:a.payload}),(function(){t.state.pertanyaan_sekolah_loaded.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))}));break;case"ruang":t.props.getPertanyaanRuang(y({},t.state.routeParams,{ruang_id:t.props.ruang_id})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:y({},t.state.pertanyaan_sekolah,{rows:[].concat(g(t.state.pertanyaan_sekolah.rows),g(a.payload.rows))}),loadingAktivitas:!1,pertanyaan_sekolah_loaded:a.payload}),(function(){t.state.pertanyaan_sekolah_loaded.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))}));break;case"publik":t.props.getPertanyaanPublik(y({},t.state.routeParams,{jenis_pertanyaan_aktivitas_id:1})).then((function(a){t.setState({pertanyaan_sekolah_loaded:a.payload,loadingAktivitas:!1,pertanyaan_sekolah:y({},t.state.pertanyaan_sekolah,{rows:[].concat(g(t.state.pertanyaan_sekolah.rows),g(a.payload.rows))})},(function(){t.state.pertanyaan_sekolah_loaded.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))}))}}))})),E(w(t),"componentDidMount",(function(){switch(t.props.tipe){case"sekolah":t.props.getPertanyaanSekolah(y({},t.state.routeParams,{sekolah_id:t.props.sekolah_id})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:a.payload}),(function(){t.state.pertanyaan_sekolah.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){}))}))}))}))}));break;case"ruang":t.props.getPertanyaanRuang(y({},t.state.routeParams,{ruang_id:t.props.ruang_id})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:a.payload}),(function(){t.state.pertanyaan_sekolah.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))}));break;case"publik":t.props.getPertanyaanPublik(y({},t.state.routeParams,{jenis_pertanyaan_aktivitas_id:1})).then((function(a){t.setState({pertanyaan_sekolah:a.payload},(function(){t.state.pertanyaan_sekolah.rows.map((function(a){t.props.getJawaban({pertanyaan_id:a.pertanyaan_id}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a.pertanyaan_id,e.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))}))}})),E(w(t),"editorChange",(function(a){t.setState({routeParams:y({},t.state.routeParams,{konten:a})},(function(){}))})),E(w(t),"postingAktivitas",(function(a){t.setState({routeParams:y({},t.state.routeParams,{sekolah_id:t.props.sekolah_id,publikasi:1,jenis_pertanyaan_aktivitas_id:1}),loadingPosting:!0},(function(){t.props.simpanPertanyaan(t.state.routeParams).then((function(a){"sekolah"===t.props.tipe&&a.payload.sukses?t.setState(y({},t.state,{routeParams:y({},t.state.routeParams,{pengguna_id:JSON.parse(localStorage.getItem("user")).pengguna_id,pertanyaan_id:a.payload.pertanyaan_id})}),(function(){t.props.simpanPertanyaanSekolah(t.state.routeParams).then((function(a){t.props.getPertanyaanSekolah(y({},t.state.routeParams,{start:0})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:a.payload,routeParams:y({},t.state.routeParams,{konten:null}),loadingPosting:!1}),(function(){t.props.simpanNotifikasiSekolah(y({},t.state.routeParams))}))}))}))})):"ruang"===t.props.tipe&&a.payload.sukses?t.setState(y({},t.state,{routeParams:y({},t.state.routeParams,{pengguna_id:JSON.parse(localStorage.getItem("user")).pengguna_id,pertanyaan_id:a.payload.pertanyaan_id,ruang_id:t.props.ruang_id})}),(function(){t.props.simpanPertanyaanRuang(t.state.routeParams).then((function(a){t.props.getPertanyaanRuang(y({},t.state.routeParams,{start:0})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:a.payload,routeParams:y({},t.state.routeParams,{konten:null}),loadingPosting:!1}),(function(){t.props.simpanNotifikasiRuang(y({},t.state.routeParams))}))}))}))})):t.props.getPertanyaanPublik(y({},t.state.routeParams,{jenis_pertanyaan_aktivitas_id:1,start:0})).then((function(a){t.setState(y({},t.state,{pertanyaan_sekolah:a.payload,routeParams:y({},t.state.routeParams,{konten:null}),loadingPosting:!1}),(function(){}))}))}))}))})),E(w(t),"komentarChange",(function(a){return function(e){t.setState({routeParamsJawaban:y({},t.state.routeParamsJawaban,E({},a,y({},t.state.routeParamsJawaban[a],{konten:e})))},(function(){}))}})),E(w(t),"simpanKomentar",(function(a){t.setState({routeParamsJawaban:y({},t.state.routeParamsJawaban,E({},a,y({},t.state.routeParamsJawaban[a],{pengguna_id:JSON.parse(localStorage.getItem("user")).pengguna_id,pertanyaan_id:a,publikasi:1})))},(function(){t.props.simpanJawaban(t.state.routeParamsJawaban[a]).then((function(e){t.setState({routeParamsJawaban:E({},a,y({},t.state.routeParamsJawaban[a],{konten:null}))},(function(){t.props.getJawaban({pertanyaan_id:a}).then((function(e){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},a,e.payload))}),(function(){t.props.simpanNotifikasiKomentar(y({},t.state.routeParams,{pertanyaan_id:a}))}))}))}))}))}))})),E(w(t),"hapusPertanyaan",(function(a){t.$f7.dialog.confirm("Apakah Anda ingin menghapus aktivitas ini?","Konfirmasi",(function(){t.props.hapusPertanyaan({pertanyaan_id:a}).then((function(a){t.componentDidMount()}))}))})),E(w(t),"hapusKomentar",(function(a,e){t.$f7.dialog.confirm("Apakah Anda ingin menghapus komentar ini?","Konfirmasi",(function(){t.props.hapusJawaban({jawaban_id:a}).then((function(a){t.props.getJawaban({pertanyaan_id:e}).then((function(a){t.setState(y({},t.state,{komentar:y({},t.state.komentar,E({},e,a.payload))}),(function(){console.log(t.state.komentar)}))}))}))}))})),t}var t,n,i;return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&P(a,e)}(e,a),t=e,(n=[{key:"render",value:function(){var a=this;return r.a.createElement("div",{name:"AktivitasSosial"},r.a.createElement(o.l,null,r.a.createElement(o.m,{style:{padding:"8px",paddingTop:"16px",paddingBottom:"16px"}},r.a.createElement(o.j,{style:{marginTop:"0px",marginLeft:"0px"}},"Bagikan sesuatu"),r.a.createElement(c.a,{theme:"snow",onChange:this.editorChange,modules:this.modules,formats:this.formats,value:this.state.routeParams.konten,on:!0}),r.a.createElement(o.k,{raised:!0,fill:!0,className:"bawahCiriBiru",style:{display:"inline-flex",marginTop:"4px"},onClick:function(){return a.postingAktivitas("foo")},disabled:this.state.loadingPosting},!this.state.loadingPosting&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"icons f7-icons",style:{fontSize:"20px"}},"paperplane_fill")," "),this.state.loadingPosting&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.K,{color:"white"})," "),"Bagikan"))),r.a.createElement(o.l,null,r.a.createElement(o.m,{style:{padding:"8px",paddingTop:"16px",paddingBottom:"16px"}},r.a.createElement("div",{className:"timeline",style:{paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",marginTop:"0px"}},this.state.pertanyaan_sekolah.rows.map((function(e){new Date(e.create_date);var t=u()(e.create_date).format("D")+" "+a.bulan[u()(e.create_date).format("M")-1]+" "+u()(e.create_date).format("YYYY"),n=u()(e.create_date).format("H")+":"+u()(e.create_date).format("mm");return r.a.createElement("div",{className:"timeline-item",key:e.pertanyaan_id},r.a.createElement(o.u,{href:"/aktivitas/"+e.pertanyaan_id,style:{display:"block"}},r.a.createElement("div",{className:"timeline-item-date hilangDiMobileLevel2",style:{fontSize:"10px",width:"40px"}},t,r.a.createElement("br",null),n)),r.a.createElement("div",{className:"timeline-item-divider hilangDiMobileLevel2"}),r.a.createElement("div",{className:"timeline-item-content card"},r.a.createElement("div",{className:"card-content card-content-padding",style:{padding:"8px",paddingBottom:"16px"}},r.a.createElement(o.O,null,r.a.createElement(o.r,{width:"100",tabletWidth:"100",style:{textAlign:"left",display:"inline-flex"}},r.a.createElement("img",{src:e.gambar,style:{width:"5vh",height:"5vh",borderRadius:"50%",marginRight:"8px"}}),r.a.createElement("div",{style:{fontWeight:"normal",color:"#434343"}},r.a.createElement(o.u,{href:"/tampilPengguna/"+e.pengguna_id},r.a.createElement("b",null,e.nama)),e.nama_ruang&&r.a.createElement(r.a.Fragment,null," di ",r.a.createElement(o.u,{href:"/tampilRuang/"+e.ruang_id},r.a.createElement("b",null,e.nama_ruang))),"publik"===a.props.tipe?e.nama_sekolah&&r.a.createElement(r.a.Fragment,null," di ",r.a.createElement(o.u,{href:"/sekolah/"+e.sekolah_id},r.a.createElement("b",null,e.nama_sekolah))):r.a.createElement(r.a.Fragment,null),r.a.createElement("br",null),r.a.createElement(o.u,{href:"/aktivitas/"+e.pertanyaan_id},r.a.createElement("div",{className:"hilangDiDesktopLevel2",style:{fontSize:"10px",color:"#434343"}},t,", ",n)),r.a.createElement("div",{style:{fontSize:"10px",color:"#434343"}},e.jabatan_sekolah))),r.a.createElement(o.r,{width:"100",tabletWidth:"100",className:"postingan"},r.a.createElement("div",{style:{marginTop:"8px"},dangerouslySetInnerHTML:{__html:e.konten.replace(/noreferrer/g,'noreferrer" class="link external"').replace('<p class=""><br></p>',"")}})),r.a.createElement(o.r,{width:"100",tabletWidth:"100",style:{color:"#aaaaaa",fontSize:"10px",textAlign:"right",marginTop:"4px"}},a.state.komentar[e.pertanyaan_id]?a.state.komentar[e.pertanyaan_id].result+" Komentar":"Belum ada komentar",e.pengguna_id===JSON.parse(localStorage.getItem("user")).pengguna_id&&r.a.createElement(o.u,{onClick:function(){return a.hapusPertanyaan(e.pertanyaan_id)}}," Hapus")),r.a.createElement(o.r,{width:"100",tabletWidth:"100"},r.a.createElement(o.O,{style:{marginTop:"8px",borderTop:"1px solid #eeeeee"}},r.a.createElement(o.r,{width:"10",style:{textAlign:"right"}},r.a.createElement("img",{src:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).gambar:null,style:{width:"3vh",height:"3vh",borderRadius:"50%",marginRight:"8px",marginTop:"4px",marginLeft:"4px"}})),r.a.createElement(o.r,{width:"70"},r.a.createElement(c.a,{className:"kolomKomentar",theme:"snow",placeholder:"Komentar Anda...",onChange:a.komentarChange(e.pertanyaan_id),value:a.state.routeParamsJawaban[e.pertanyaan_id]?a.state.routeParamsJawaban[e.pertanyaan_id].konten:null,on:!0})),r.a.createElement(o.r,{width:"20"},r.a.createElement(o.k,{style:{display:"inline-flex",marginBottom:"4ox",marginTop:"4px",padding:"0px",paddingRight:"8px",paddingLeft:"8px"},onClick:function(){return a.simpanKomentar(e.pertanyaan_id)}},r.a.createElement("i",{className:"icons f7-icons",style:{fontSize:"15px",marginRight:"4px"}},"paperplane_fill"),"Kirim")))),r.a.createElement(o.r,{width:"100",tabletWidth:"100"},a.state.komentar[e.pertanyaan_id]&&r.a.createElement(r.a.Fragment,null,a.state.komentar[e.pertanyaan_id].rows.map((function(e){if(null!==e.konten){new Date(e.create_date);var t=u()(e.create_date).format("D")+" "+a.bulan[u()(e.create_date).format("M")-1]+" "+u()(e.create_date).format("YYYY"),n=u()(e.create_date).format("H")+":"+u()(e.create_date).format("mm");return r.a.createElement(o.O,{style:{marginTop:"8px",borderTop:"1px solid #eeeeee"},key:e.jawaban_id},r.a.createElement(o.r,{width:"10",style:{textAlign:"right"}},r.a.createElement("img",{src:e.gambar_pengguna,style:{width:"3vh",height:"3vh",borderRadius:"50%",marginRight:"8px",marginTop:"4px",marginLeft:"4px"}})),r.a.createElement(o.r,{width:"90"},r.a.createElement(o.O,{noGap:!0},r.a.createElement(o.r,{width:"60"},r.a.createElement(o.u,{href:"/tampilPengguna/"+e.pengguna_id},r.a.createElement("div",{style:{fontWeight:"bold",fontSize:"11px",marginTop:"4px",marginBottom:"-8px"}},e.pengguna))),r.a.createElement(o.r,{width:"40",style:{fontSize:"10px",textAlign:"right",marginTop:"4px",color:"#aaaaaa"}},t,", ",n,r.a.createElement("br",null),e.pengguna_id===JSON.parse(localStorage.getItem("user")).pengguna_id&&r.a.createElement(o.u,{onClick:function(){return a.hapusKomentar(e.jawaban_id,e.pertanyaan_id)}},"Hapus")),r.a.createElement(o.r,{width:"100",style:{fontSize:"11px",marginTop:e.pengguna_id===JSON.parse(localStorage.getItem("user")).pengguna_id?"-4px":"8px"}},r.a.createElement("div",{style:{marginTop:e.pengguna_id===JSON.parse(localStorage.getItem("user")).pengguna_id?"-4px":"0px"},dangerouslySetInnerHTML:{__html:e.konten.replace('<p class=""><br></p>',"").replace(/noreferrer/g,'noreferrer" class="link external"')}})))))}}))))))))}))),r.a.createElement(o.k,{raised:!0,large:!0,onClick:this.loadAktivitasLagi,disabled:this.state.loadingAktivitas},!this.state.loadingAktivitas&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"icons f7-icons",style:{fontSize:"20px"}},"arrow_down_to_line_alt")," "),this.state.loadingAktivitas&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.K,{color:"blue"})," "),"Tampilkan Aktivitas lebih lama"))))}}])&&k(t.prototype,n),i&&k(t,i),e}(n.Component);e.a=Object(s.b)((function(a){var e=a.App;return a.Sekolah,{window_dimension:e.window_dimension,loading:e.loading}}),(function(a){return Object(i.b)({updateWindowDimension:l.Wd,setLoading:l.fd,simpanPertanyaan:l.Jd,simpanPertanyaanSekolah:l.Md,getPertanyaanSekolah:l.sc,getPertanyaanRuang:l.rc,simpanJawaban:l.od,hapusJawaban:l.Uc,hapusPertanyaan:l.Wc,getJawaban:l.Jb,simpanPertanyaanRuang:l.Ld,getPertanyaanPublik:l.qc,simpanNotifikasiKomentar:l.zd,simpanNotifikasiRuang:l.Ad,simpanNotifikasiSekolah:l.Bd},a)}))(S)}}]);
//# sourceMappingURL=10.app.js.map